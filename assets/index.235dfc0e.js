(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function pl(t,e){const n=Object.create(null),s=t.split(",");for(let r=0;r<s.length;r++)n[s[r]]=!0;return e?r=>!!n[r.toLowerCase()]:r=>!!n[r]}const Mg="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Fg=pl(Mg);function qh(t){return!!t||t===""}function gl(t){if(ee(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=He(s)?Ug(s):gl(s);if(r)for(const i in r)e[i]=r[i]}return e}else{if(He(t))return t;if(De(t))return t}}const $g=/;(?![^(]*\))/g,Bg=/:(.+)/;function Ug(t){const e={};return t.split($g).forEach(n=>{if(n){const s=n.split(Bg);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function zt(t){let e="";if(He(t))e=t;else if(ee(t))for(let n=0;n<t.length;n++){const s=zt(t[n]);s&&(e+=s+" ")}else if(De(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Zt=t=>He(t)?t:t==null?"":ee(t)||De(t)&&(t.toString===Wh||!ne(t.toString))?JSON.stringify(t,Kh,2):String(t),Kh=(t,e)=>e&&e.__v_isRef?Kh(t,e.value):fs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r])=>(n[`${s} =>`]=r,n),{})}:zh(e)?{[`Set(${e.size})`]:[...e.values()]}:De(e)&&!ee(e)&&!Qh(e)?String(e):e,_e={},hs=[],Mt=()=>{},Vg=()=>!1,jg=/^on[^a-z]/,ji=t=>jg.test(t),ml=t=>t.startsWith("onUpdate:"),ct=Object.assign,yl=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Hg=Object.prototype.hasOwnProperty,ue=(t,e)=>Hg.call(t,e),ee=Array.isArray,fs=t=>Hi(t)==="[object Map]",zh=t=>Hi(t)==="[object Set]",ne=t=>typeof t=="function",He=t=>typeof t=="string",vl=t=>typeof t=="symbol",De=t=>t!==null&&typeof t=="object",Gh=t=>De(t)&&ne(t.then)&&ne(t.catch),Wh=Object.prototype.toString,Hi=t=>Wh.call(t),qg=t=>Hi(t).slice(8,-1),Qh=t=>Hi(t)==="[object Object]",wl=t=>He(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ci=pl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),qi=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Kg=/-(\w)/g,Wt=qi(t=>t.replace(Kg,(e,n)=>n?n.toUpperCase():"")),zg=/\B([A-Z])/g,Rs=qi(t=>t.replace(zg,"-$1").toLowerCase()),Ki=qi(t=>t.charAt(0).toUpperCase()+t.slice(1)),Mo=qi(t=>t?`on${Ki(t)}`:""),cr=(t,e)=>!Object.is(t,e),Fo=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},yi=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Gg=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let zc;const Wg=()=>zc||(zc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Ht;class Qg{constructor(e=!1){this.detached=e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Ht,!e&&Ht&&(this.index=(Ht.scopes||(Ht.scopes=[])).push(this)-1)}run(e){if(this.active){const n=Ht;try{return Ht=this,e()}finally{Ht=n}}}on(){Ht=this}off(){Ht=this.parent}stop(e){if(this.active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this.active=!1}}}function Yg(t,e=Ht){e&&e.active&&e.effects.push(t)}const bl=t=>{const e=new Set(t);return e.w=0,e.n=0,e},Yh=t=>(t.w&Cn)>0,Xh=t=>(t.n&Cn)>0,Xg=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Cn},Jg=t=>{const{deps:e}=t;if(e.length){let n=0;for(let s=0;s<e.length;s++){const r=e[s];Yh(r)&&!Xh(r)?r.delete(t):e[n++]=r,r.w&=~Cn,r.n&=~Cn}e.length=n}},da=new WeakMap;let Ws=0,Cn=1;const pa=30;let Pt;const qn=Symbol(""),ga=Symbol("");class El{constructor(e,n=null,s){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Yg(this,s)}run(){if(!this.active)return this.fn();let e=Pt,n=wn;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Pt,Pt=this,wn=!0,Cn=1<<++Ws,Ws<=pa?Xg(this):Gc(this),this.fn()}finally{Ws<=pa&&Jg(this),Cn=1<<--Ws,Pt=this.parent,wn=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Pt===this?this.deferStop=!0:this.active&&(Gc(this),this.onStop&&this.onStop(),this.active=!1)}}function Gc(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let wn=!0;const Jh=[];function Ns(){Jh.push(wn),wn=!1}function Os(){const t=Jh.pop();wn=t===void 0?!0:t}function Ct(t,e,n){if(wn&&Pt){let s=da.get(t);s||da.set(t,s=new Map);let r=s.get(n);r||s.set(n,r=bl()),Zh(r)}}function Zh(t,e){let n=!1;Ws<=pa?Xh(t)||(t.n|=Cn,n=!Yh(t)):n=!t.has(Pt),n&&(t.add(Pt),Pt.deps.push(t))}function on(t,e,n,s,r,i){const o=da.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&ee(t))o.forEach((l,c)=>{(c==="length"||c>=s)&&a.push(l)});else switch(n!==void 0&&a.push(o.get(n)),e){case"add":ee(t)?wl(n)&&a.push(o.get("length")):(a.push(o.get(qn)),fs(t)&&a.push(o.get(ga)));break;case"delete":ee(t)||(a.push(o.get(qn)),fs(t)&&a.push(o.get(ga)));break;case"set":fs(t)&&a.push(o.get(qn));break}if(a.length===1)a[0]&&ma(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);ma(bl(l))}}function ma(t,e){const n=ee(t)?t:[...t];for(const s of n)s.computed&&Wc(s);for(const s of n)s.computed||Wc(s)}function Wc(t,e){(t!==Pt||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const Zg=pl("__proto__,__v_isRef,__isVue"),ef=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(vl)),em=_l(),tm=_l(!1,!0),nm=_l(!0),Qc=sm();function sm(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const s=ge(this);for(let i=0,o=this.length;i<o;i++)Ct(s,"get",i+"");const r=s[e](...n);return r===-1||r===!1?s[e](...n.map(ge)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Ns();const s=ge(this)[e].apply(this,n);return Os(),s}}),t}function _l(t=!1,e=!1){return function(s,r,i){if(r==="__v_isReactive")return!t;if(r==="__v_isReadonly")return t;if(r==="__v_isShallow")return e;if(r==="__v_raw"&&i===(t?e?wm:of:e?rf:sf).get(s))return s;const o=ee(s);if(!t&&o&&ue(Qc,r))return Reflect.get(Qc,r,i);const a=Reflect.get(s,r,i);return(vl(r)?ef.has(r):Zg(r))||(t||Ct(s,"get",r),e)?a:at(a)?o&&wl(r)?a:a.value:De(a)?t?af(a):Ps(a):a}}const rm=tf(),im=tf(!0);function tf(t=!1){return function(n,s,r,i){let o=n[s];if(vs(o)&&at(o)&&!at(r))return!1;if(!t&&(!vi(r)&&!vs(r)&&(o=ge(o),r=ge(r)),!ee(n)&&at(o)&&!at(r)))return o.value=r,!0;const a=ee(n)&&wl(s)?Number(s)<n.length:ue(n,s),l=Reflect.set(n,s,r,i);return n===ge(i)&&(a?cr(r,o)&&on(n,"set",s,r):on(n,"add",s,r)),l}}function om(t,e){const n=ue(t,e);t[e];const s=Reflect.deleteProperty(t,e);return s&&n&&on(t,"delete",e,void 0),s}function am(t,e){const n=Reflect.has(t,e);return(!vl(e)||!ef.has(e))&&Ct(t,"has",e),n}function lm(t){return Ct(t,"iterate",ee(t)?"length":qn),Reflect.ownKeys(t)}const nf={get:em,set:rm,deleteProperty:om,has:am,ownKeys:lm},cm={get:nm,set(t,e){return!0},deleteProperty(t,e){return!0}},um=ct({},nf,{get:tm,set:im}),Tl=t=>t,zi=t=>Reflect.getPrototypeOf(t);function Qr(t,e,n=!1,s=!1){t=t.__v_raw;const r=ge(t),i=ge(e);n||(e!==i&&Ct(r,"get",e),Ct(r,"get",i));const{has:o}=zi(r),a=s?Tl:n?xl:ur;if(o.call(r,e))return a(t.get(e));if(o.call(r,i))return a(t.get(i));t!==r&&t.get(e)}function Yr(t,e=!1){const n=this.__v_raw,s=ge(n),r=ge(t);return e||(t!==r&&Ct(s,"has",t),Ct(s,"has",r)),t===r?n.has(t):n.has(t)||n.has(r)}function Xr(t,e=!1){return t=t.__v_raw,!e&&Ct(ge(t),"iterate",qn),Reflect.get(t,"size",t)}function Yc(t){t=ge(t);const e=ge(this);return zi(e).has.call(e,t)||(e.add(t),on(e,"add",t,t)),this}function Xc(t,e){e=ge(e);const n=ge(this),{has:s,get:r}=zi(n);let i=s.call(n,t);i||(t=ge(t),i=s.call(n,t));const o=r.call(n,t);return n.set(t,e),i?cr(e,o)&&on(n,"set",t,e):on(n,"add",t,e),this}function Jc(t){const e=ge(this),{has:n,get:s}=zi(e);let r=n.call(e,t);r||(t=ge(t),r=n.call(e,t)),s&&s.call(e,t);const i=e.delete(t);return r&&on(e,"delete",t,void 0),i}function Zc(){const t=ge(this),e=t.size!==0,n=t.clear();return e&&on(t,"clear",void 0,void 0),n}function Jr(t,e){return function(s,r){const i=this,o=i.__v_raw,a=ge(o),l=e?Tl:t?xl:ur;return!t&&Ct(a,"iterate",qn),o.forEach((c,u)=>s.call(r,l(c),l(u),i))}}function Zr(t,e,n){return function(...s){const r=this.__v_raw,i=ge(r),o=fs(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=r[t](...s),u=n?Tl:e?xl:ur;return!e&&Ct(i,"iterate",l?ga:qn),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function dn(t){return function(...e){return t==="delete"?!1:this}}function hm(){const t={get(i){return Qr(this,i)},get size(){return Xr(this)},has:Yr,add:Yc,set:Xc,delete:Jc,clear:Zc,forEach:Jr(!1,!1)},e={get(i){return Qr(this,i,!1,!0)},get size(){return Xr(this)},has:Yr,add:Yc,set:Xc,delete:Jc,clear:Zc,forEach:Jr(!1,!0)},n={get(i){return Qr(this,i,!0)},get size(){return Xr(this,!0)},has(i){return Yr.call(this,i,!0)},add:dn("add"),set:dn("set"),delete:dn("delete"),clear:dn("clear"),forEach:Jr(!0,!1)},s={get(i){return Qr(this,i,!0,!0)},get size(){return Xr(this,!0)},has(i){return Yr.call(this,i,!0)},add:dn("add"),set:dn("set"),delete:dn("delete"),clear:dn("clear"),forEach:Jr(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=Zr(i,!1,!1),n[i]=Zr(i,!0,!1),e[i]=Zr(i,!1,!0),s[i]=Zr(i,!0,!0)}),[t,n,e,s]}const[fm,dm,pm,gm]=hm();function Cl(t,e){const n=e?t?gm:pm:t?dm:fm;return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(ue(n,r)&&r in s?n:s,r,i)}const mm={get:Cl(!1,!1)},ym={get:Cl(!1,!0)},vm={get:Cl(!0,!1)},sf=new WeakMap,rf=new WeakMap,of=new WeakMap,wm=new WeakMap;function bm(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Em(t){return t.__v_skip||!Object.isExtensible(t)?0:bm(qg(t))}function Ps(t){return vs(t)?t:Sl(t,!1,nf,mm,sf)}function _m(t){return Sl(t,!1,um,ym,rf)}function af(t){return Sl(t,!0,cm,vm,of)}function Sl(t,e,n,s,r){if(!De(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=r.get(t);if(i)return i;const o=Em(t);if(o===0)return t;const a=new Proxy(t,o===2?s:n);return r.set(t,a),a}function ds(t){return vs(t)?ds(t.__v_raw):!!(t&&t.__v_isReactive)}function vs(t){return!!(t&&t.__v_isReadonly)}function vi(t){return!!(t&&t.__v_isShallow)}function lf(t){return ds(t)||vs(t)}function ge(t){const e=t&&t.__v_raw;return e?ge(e):t}function cf(t){return yi(t,"__v_skip",!0),t}const ur=t=>De(t)?Ps(t):t,xl=t=>De(t)?af(t):t;function uf(t){wn&&Pt&&(t=ge(t),Zh(t.dep||(t.dep=bl())))}function hf(t,e){t=ge(t),t.dep&&ma(t.dep)}function at(t){return!!(t&&t.__v_isRef===!0)}function Q(t){return ff(t,!1)}function Tm(t){return ff(t,!0)}function ff(t,e){return at(t)?t:new Cm(t,e)}class Cm{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:ge(e),this._value=n?e:ur(e)}get value(){return uf(this),this._value}set value(e){const n=this.__v_isShallow||vi(e)||vs(e);e=n?e:ge(e),cr(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:ur(e),hf(this))}}function fe(t){return at(t)?t.value:t}const Sm={get:(t,e,n)=>fe(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return at(r)&&!at(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function df(t){return ds(t)?t:new Proxy(t,Sm)}var pf;class xm{constructor(e,n,s,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[pf]=!1,this._dirty=!0,this.effect=new El(e,()=>{this._dirty||(this._dirty=!0,hf(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=s}get value(){const e=ge(this);return uf(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}pf="__v_isReadonly";function Im(t,e,n=!1){let s,r;const i=ne(t);return i?(s=t,r=Mt):(s=t.get,r=t.set),new xm(s,r,i||!r,n)}function bn(t,e,n,s){let r;try{r=s?t(...s):t()}catch(i){Gi(i,e,n)}return r}function kt(t,e,n,s){if(ne(t)){const i=bn(t,e,n,s);return i&&Gh(i)&&i.catch(o=>{Gi(o,e,n)}),i}const r=[];for(let i=0;i<t.length;i++)r.push(kt(t[i],e,n,s));return r}function Gi(t,e,n,s=!0){const r=e?e.vnode:null;if(e){let i=e.parent;const o=e.proxy,a=n;for(;i;){const c=i.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,o,a)===!1)return}i=i.parent}const l=e.appContext.config.errorHandler;if(l){bn(l,null,10,[t,o,a]);return}}Am(t,n,r,s)}function Am(t,e,n,s=!0){console.error(t)}let hr=!1,ya=!1;const it=[];let Kt=0;const ps=[];let Jt=null,Fn=0;const gf=Promise.resolve();let Il=null;function Al(t){const e=Il||gf;return t?e.then(this?t.bind(this):t):e}function Dm(t){let e=Kt+1,n=it.length;for(;e<n;){const s=e+n>>>1;fr(it[s])<t?e=s+1:n=s}return e}function Dl(t){(!it.length||!it.includes(t,hr&&t.allowRecurse?Kt+1:Kt))&&(t.id==null?it.push(t):it.splice(Dm(t.id),0,t),mf())}function mf(){!hr&&!ya&&(ya=!0,Il=gf.then(vf))}function km(t){const e=it.indexOf(t);e>Kt&&it.splice(e,1)}function Rm(t){ee(t)?ps.push(...t):(!Jt||!Jt.includes(t,t.allowRecurse?Fn+1:Fn))&&ps.push(t),mf()}function eu(t,e=hr?Kt+1:0){for(;e<it.length;e++){const n=it[e];n&&n.pre&&(it.splice(e,1),e--,n())}}function yf(t){if(ps.length){const e=[...new Set(ps)];if(ps.length=0,Jt){Jt.push(...e);return}for(Jt=e,Jt.sort((n,s)=>fr(n)-fr(s)),Fn=0;Fn<Jt.length;Fn++)Jt[Fn]();Jt=null,Fn=0}}const fr=t=>t.id==null?1/0:t.id,Nm=(t,e)=>{const n=fr(t)-fr(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function vf(t){ya=!1,hr=!0,it.sort(Nm);const e=Mt;try{for(Kt=0;Kt<it.length;Kt++){const n=it[Kt];n&&n.active!==!1&&bn(n,null,14)}}finally{Kt=0,it.length=0,yf(),hr=!1,Il=null,(it.length||ps.length)&&vf()}}function Om(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||_e;let r=n;const i=e.startsWith("update:"),o=i&&e.slice(7);if(o&&o in s){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:f}=s[u]||_e;f&&(r=n.map(p=>p.trim())),h&&(r=n.map(Gg))}let a,l=s[a=Mo(e)]||s[a=Mo(Wt(e))];!l&&i&&(l=s[a=Mo(Rs(e))]),l&&kt(l,t,6,r);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,kt(c,t,6,r)}}function wf(t,e,n=!1){const s=e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let o={},a=!1;if(!ne(t)){const l=c=>{const u=wf(c,e,!0);u&&(a=!0,ct(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(De(t)&&s.set(t,null),null):(ee(i)?i.forEach(l=>o[l]=null):ct(o,i),De(t)&&s.set(t,o),o)}function Wi(t,e){return!t||!ji(e)?!1:(e=e.slice(2).replace(/Once$/,""),ue(t,e[0].toLowerCase()+e.slice(1))||ue(t,Rs(e))||ue(t,e))}let Dt=null,bf=null;function wi(t){const e=Dt;return Dt=t,bf=t&&t.type.__scopeId||null,e}function ze(t,e=Dt,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&fu(-1);const i=wi(e);let o;try{o=t(...r)}finally{wi(i),s._d&&fu(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function $o(t){const{type:e,vnode:n,proxy:s,withProxy:r,props:i,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:h,data:f,setupState:p,ctx:m,inheritAttrs:w}=t;let E,x;const L=wi(t);try{if(n.shapeFlag&4){const G=r||s;E=qt(u.call(G,G,h,i,p,f,m)),x=l}else{const G=e;E=qt(G.length>1?G(i,{attrs:l,slots:a,emit:c}):G(i,null)),x=e.props?l:Pm(l)}}catch(G){Zs.length=0,Gi(G,t,1),E=pe(Ft)}let q=E;if(x&&w!==!1){const G=Object.keys(x),{shapeFlag:oe}=q;G.length&&oe&7&&(o&&G.some(ml)&&(x=Lm(x,o)),q=an(q,x))}return n.dirs&&(q=an(q),q.dirs=q.dirs?q.dirs.concat(n.dirs):n.dirs),n.transition&&(q.transition=n.transition),E=q,wi(L),E}const Pm=t=>{let e;for(const n in t)(n==="class"||n==="style"||ji(n))&&((e||(e={}))[n]=t[n]);return e},Lm=(t,e)=>{const n={};for(const s in t)(!ml(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function Mm(t,e,n){const{props:s,children:r,component:i}=t,{props:o,children:a,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?tu(s,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==s[f]&&!Wi(c,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?tu(s,o,c):!0:!!o;return!1}function tu(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!Wi(n,i))return!0}return!1}function Fm({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const $m=t=>t.__isSuspense;function Bm(t,e){e&&e.pendingBranch?ee(t)?e.effects.push(...t):e.effects.push(t):Rm(t)}function et(t,e){if(We){let n=We.provides;const s=We.parent&&We.parent.provides;s===n&&(n=We.provides=Object.create(s)),n[t]=e}}function Ae(t,e,n=!1){const s=We||Dt;if(s){const r=s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides;if(r&&t in r)return r[t];if(arguments.length>1)return n&&ne(e)?e.call(s.proxy):e}}function St(t,e){return kl(t,null,e)}const nu={};function En(t,e,n){return kl(t,e,n)}function kl(t,e,{immediate:n,deep:s,flush:r,onTrack:i,onTrigger:o}=_e){const a=We;let l,c=!1,u=!1;if(at(t)?(l=()=>t.value,c=vi(t)):ds(t)?(l=()=>t,s=!0):ee(t)?(u=!0,c=t.some(x=>ds(x)||vi(x)),l=()=>t.map(x=>{if(at(x))return x.value;if(ds(x))return Un(x);if(ne(x))return bn(x,a,2)})):ne(t)?e?l=()=>bn(t,a,2):l=()=>{if(!(a&&a.isUnmounted))return h&&h(),kt(t,a,3,[f])}:l=Mt,e&&s){const x=l;l=()=>Un(x())}let h,f=x=>{h=E.onStop=()=>{bn(x,a,4)}};if(pr)return f=Mt,e?n&&kt(e,a,3,[l(),u?[]:void 0,f]):l(),Mt;let p=u?[]:nu;const m=()=>{if(!!E.active)if(e){const x=E.run();(s||c||(u?x.some((L,q)=>cr(L,p[q])):cr(x,p)))&&(h&&h(),kt(e,a,3,[x,p===nu?void 0:p,f]),p=x)}else E.run()};m.allowRecurse=!!e;let w;r==="sync"?w=m:r==="post"?w=()=>mt(m,a&&a.suspense):(m.pre=!0,a&&(m.id=a.uid),w=()=>Dl(m));const E=new El(l,w);return e?n?m():p=E.run():r==="post"?mt(E.run.bind(E),a&&a.suspense):E.run(),()=>{E.stop(),a&&a.scope&&yl(a.scope.effects,E)}}function Um(t,e,n){const s=this.proxy,r=He(t)?t.includes(".")?Ef(s,t):()=>s[t]:t.bind(s,s);let i;ne(e)?i=e:(i=e.handler,n=e);const o=We;ws(this);const a=kl(r,i.bind(s),n);return o?ws(o):Kn(),a}function Ef(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}function Un(t,e){if(!De(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),at(t))Un(t.value,e);else if(ee(t))for(let n=0;n<t.length;n++)Un(t[n],e);else if(zh(t)||fs(t))t.forEach(n=>{Un(n,e)});else if(Qh(t))for(const n in t)Un(t[n],e);return t}function Vm(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ue(()=>{t.isMounted=!0}),Sf(()=>{t.isUnmounting=!0}),t}const At=[Function,Array],jm={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:At,onEnter:At,onAfterEnter:At,onEnterCancelled:At,onBeforeLeave:At,onLeave:At,onAfterLeave:At,onLeaveCancelled:At,onBeforeAppear:At,onAppear:At,onAfterAppear:At,onAppearCancelled:At},setup(t,{slots:e}){const n=Ry(),s=Vm();let r;return()=>{const i=e.default&&Tf(e.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const w of i)if(w.type!==Ft){o=w;break}}const a=ge(t),{mode:l}=a;if(s.isLeaving)return Bo(o);const c=su(o);if(!c)return Bo(o);const u=va(c,a,s,n);wa(c,u);const h=n.subTree,f=h&&su(h);let p=!1;const{getTransitionKey:m}=c.type;if(m){const w=m();r===void 0?r=w:w!==r&&(r=w,p=!0)}if(f&&f.type!==Ft&&(!$n(c,f)||p)){const w=va(f,a,s,n);if(wa(f,w),l==="out-in")return s.isLeaving=!0,w.afterLeave=()=>{s.isLeaving=!1,n.update()},Bo(o);l==="in-out"&&c.type!==Ft&&(w.delayLeave=(E,x,L)=>{const q=_f(s,f);q[String(f.key)]=f,E._leaveCb=()=>{x(),E._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=L})}return o}}},Hm=jm;function _f(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function va(t,e,n,s){const{appear:r,mode:i,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:h,onLeave:f,onAfterLeave:p,onLeaveCancelled:m,onBeforeAppear:w,onAppear:E,onAfterAppear:x,onAppearCancelled:L}=e,q=String(t.key),G=_f(n,t),oe=(R,W)=>{R&&kt(R,s,9,W)},ce=(R,W)=>{const K=W[1];oe(R,W),ee(R)?R.every(se=>se.length<=1)&&K():R.length<=1&&K()},z={mode:i,persisted:o,beforeEnter(R){let W=a;if(!n.isMounted)if(r)W=w||a;else return;R._leaveCb&&R._leaveCb(!0);const K=G[q];K&&$n(t,K)&&K.el._leaveCb&&K.el._leaveCb(),oe(W,[R])},enter(R){let W=l,K=c,se=u;if(!n.isMounted)if(r)W=E||l,K=x||c,se=L||u;else return;let Te=!1;const ut=R._enterCb=Fe=>{Te||(Te=!0,Fe?oe(se,[R]):oe(K,[R]),z.delayedLeave&&z.delayedLeave(),R._enterCb=void 0)};W?ce(W,[R,ut]):ut()},leave(R,W){const K=String(t.key);if(R._enterCb&&R._enterCb(!0),n.isUnmounting)return W();oe(h,[R]);let se=!1;const Te=R._leaveCb=ut=>{se||(se=!0,W(),ut?oe(m,[R]):oe(p,[R]),R._leaveCb=void 0,G[K]===t&&delete G[K])};G[K]=t,f?ce(f,[R,Te]):Te()},clone(R){return va(R,e,n,s)}};return z}function Bo(t){if(Qi(t))return t=an(t),t.children=null,t}function su(t){return Qi(t)?t.children?t.children[0]:void 0:t}function wa(t,e){t.shapeFlag&6&&t.component?wa(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Tf(t,e=!1,n){let s=[],r=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===$e?(o.patchFlag&128&&r++,s=s.concat(Tf(o.children,e,a))):(e||o.type!==Ft)&&s.push(a!=null?an(o,{key:a}):o)}if(r>1)for(let i=0;i<s.length;i++)s[i].patchFlag=-2;return s}function Ne(t){return ne(t)?{setup:t,name:t.name}:t}const ui=t=>!!t.type.__asyncLoader,Qi=t=>t.type.__isKeepAlive;function qm(t,e){Cf(t,"a",e)}function Km(t,e){Cf(t,"da",e)}function Cf(t,e,n=We){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Yi(e,s,n),n){let r=n.parent;for(;r&&r.parent;)Qi(r.parent.vnode)&&zm(s,e,n,r),r=r.parent}}function zm(t,e,n,s){const r=Yi(e,t,s,!0);Ut(()=>{yl(s[e],r)},n)}function Yi(t,e,n=We,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;Ns(),ws(n);const a=kt(e,n,t,o);return Kn(),Os(),a});return s?r.unshift(i):r.push(i),i}}const fn=t=>(e,n=We)=>(!pr||t==="sp")&&Yi(t,(...s)=>e(...s),n),Gm=fn("bm"),Ue=fn("m"),Wm=fn("bu"),Qm=fn("u"),Sf=fn("bum"),Ut=fn("um"),Ym=fn("sp"),Xm=fn("rtg"),Jm=fn("rtc");function Zm(t,e=We){Yi("ec",t,e)}function ba(t,e){const n=Dt;if(n===null)return t;const s=Zi(n)||n.proxy,r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[o,a,l,c=_e]=e[i];ne(o)&&(o={mounted:o,updated:o}),o.deep&&Un(a),r.push({dir:o,instance:s,value:a,oldValue:void 0,arg:l,modifiers:c})}return t}function Nn(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let l=a.dir[s];l&&(Ns(),kt(l,n,8,[t.el,a,t,e]),Os())}}const xf="components";function ey(t,e){return ny(xf,t,!0,e)||t}const ty=Symbol();function ny(t,e,n=!0,s=!1){const r=Dt||We;if(r){const i=r.type;if(t===xf){const a=My(i,!1);if(a&&(a===e||a===Wt(e)||a===Ki(Wt(e))))return i}const o=ru(r[t]||i[t],e)||ru(r.appContext[t],e);return!o&&s?i:o}}function ru(t,e){return t&&(t[e]||t[Wt(e)]||t[Ki(Wt(e))])}function bi(t,e,n,s){let r;const i=n&&n[s];if(ee(t)||He(t)){r=new Array(t.length);for(let o=0,a=t.length;o<a;o++)r[o]=e(t[o],o,void 0,i&&i[o])}else if(typeof t=="number"){r=new Array(t);for(let o=0;o<t;o++)r[o]=e(o+1,o,void 0,i&&i[o])}else if(De(t))if(t[Symbol.iterator])r=Array.from(t,(o,a)=>e(o,a,void 0,i&&i[a]));else{const o=Object.keys(t);r=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];r[a]=e(t[c],c,a,i&&i[a])}}else r=[];return n&&(n[s]=r),r}const Ea=t=>t?Mf(t)?Zi(t)||t.proxy:Ea(t.parent):null,Ei=ct(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ea(t.parent),$root:t=>Ea(t.root),$emit:t=>t.emit,$options:t=>Rl(t),$forceUpdate:t=>t.f||(t.f=()=>Dl(t.update)),$nextTick:t=>t.n||(t.n=Al.bind(t.proxy)),$watch:t=>Um.bind(t)}),sy={get({_:t},e){const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const p=o[e];if(p!==void 0)switch(p){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(s!==_e&&ue(s,e))return o[e]=1,s[e];if(r!==_e&&ue(r,e))return o[e]=2,r[e];if((c=t.propsOptions[0])&&ue(c,e))return o[e]=3,i[e];if(n!==_e&&ue(n,e))return o[e]=4,n[e];_a&&(o[e]=0)}}const u=Ei[e];let h,f;if(u)return e==="$attrs"&&Ct(t,"get",e),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==_e&&ue(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,ue(f,e))return f[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return r!==_e&&ue(r,e)?(r[e]=n,!0):s!==_e&&ue(s,e)?(s[e]=n,!0):ue(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:i}},o){let a;return!!n[o]||t!==_e&&ue(t,o)||e!==_e&&ue(e,o)||(a=i[0])&&ue(a,o)||ue(s,o)||ue(Ei,o)||ue(r.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:ue(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};let _a=!0;function ry(t){const e=Rl(t),n=t.proxy,s=t.ctx;_a=!1,e.beforeCreate&&iu(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:f,beforeUpdate:p,updated:m,activated:w,deactivated:E,beforeDestroy:x,beforeUnmount:L,destroyed:q,unmounted:G,render:oe,renderTracked:ce,renderTriggered:z,errorCaptured:R,serverPrefetch:W,expose:K,inheritAttrs:se,components:Te,directives:ut,filters:Fe}=e;if(c&&iy(c,s,null,t.appContext.config.unwrapInjectedRef),o)for(const me in o){const be=o[me];ne(be)&&(s[me]=be.bind(n))}if(r){const me=r.call(n,n);De(me)&&(t.data=Ps(me))}if(_a=!0,i)for(const me in i){const be=i[me],Rt=ne(be)?be.bind(n,n):ne(be.get)?be.get.bind(n,n):Mt,Rn=!ne(be)&&ne(be.set)?be.set.bind(n):Mt,Nt=J({get:Rt,set:Rn});Object.defineProperty(s,me,{enumerable:!0,configurable:!0,get:()=>Nt.value,set:gt=>Nt.value=gt})}if(a)for(const me in a)If(a[me],s,n,me);if(l){const me=ne(l)?l.call(n):l;Reflect.ownKeys(me).forEach(be=>{et(be,me[be])})}u&&iu(u,t,"c");function ke(me,be){ee(be)?be.forEach(Rt=>me(Rt.bind(n))):be&&me(be.bind(n))}if(ke(Gm,h),ke(Ue,f),ke(Wm,p),ke(Qm,m),ke(qm,w),ke(Km,E),ke(Zm,R),ke(Jm,ce),ke(Xm,z),ke(Sf,L),ke(Ut,G),ke(Ym,W),ee(K))if(K.length){const me=t.exposed||(t.exposed={});K.forEach(be=>{Object.defineProperty(me,be,{get:()=>n[be],set:Rt=>n[be]=Rt})})}else t.exposed||(t.exposed={});oe&&t.render===Mt&&(t.render=oe),se!=null&&(t.inheritAttrs=se),Te&&(t.components=Te),ut&&(t.directives=ut)}function iy(t,e,n=Mt,s=!1){ee(t)&&(t=Ta(t));for(const r in t){const i=t[r];let o;De(i)?"default"in i?o=Ae(i.from||r,i.default,!0):o=Ae(i.from||r):o=Ae(i),at(o)&&s?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):e[r]=o}}function iu(t,e,n){kt(ee(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function If(t,e,n,s){const r=s.includes(".")?Ef(n,s):()=>n[s];if(He(t)){const i=e[t];ne(i)&&En(r,i)}else if(ne(t))En(r,t.bind(n));else if(De(t))if(ee(t))t.forEach(i=>If(i,e,n,s));else{const i=ne(t.handler)?t.handler.bind(n):e[t.handler];ne(i)&&En(r,i,t)}}function Rl(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!r.length&&!n&&!s?l=e:(l={},r.length&&r.forEach(c=>_i(l,c,o,!0)),_i(l,e,o)),De(e)&&i.set(e,l),l}function _i(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&_i(t,i,n,!0),r&&r.forEach(o=>_i(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=oy[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const oy={data:ou,props:Ln,emits:Ln,methods:Ln,computed:Ln,beforeCreate:ht,created:ht,beforeMount:ht,mounted:ht,beforeUpdate:ht,updated:ht,beforeDestroy:ht,beforeUnmount:ht,destroyed:ht,unmounted:ht,activated:ht,deactivated:ht,errorCaptured:ht,serverPrefetch:ht,components:Ln,directives:Ln,watch:ly,provide:ou,inject:ay};function ou(t,e){return e?t?function(){return ct(ne(t)?t.call(this,this):t,ne(e)?e.call(this,this):e)}:e:t}function ay(t,e){return Ln(Ta(t),Ta(e))}function Ta(t){if(ee(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function ht(t,e){return t?[...new Set([].concat(t,e))]:e}function Ln(t,e){return t?ct(ct(Object.create(null),t),e):e}function ly(t,e){if(!t)return e;if(!e)return t;const n=ct(Object.create(null),t);for(const s in e)n[s]=ht(t[s],e[s]);return n}function cy(t,e,n,s=!1){const r={},i={};yi(i,Ji,1),t.propsDefaults=Object.create(null),Af(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=s?r:_m(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function uy(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,a=ge(r),[l]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(Wi(t.emitsOptions,f))continue;const p=e[f];if(l)if(ue(i,f))p!==i[f]&&(i[f]=p,c=!0);else{const m=Wt(f);r[m]=Ca(l,a,m,p,t,!1)}else p!==i[f]&&(i[f]=p,c=!0)}}}else{Af(t,e,r,i)&&(c=!0);let u;for(const h in a)(!e||!ue(e,h)&&((u=Rs(h))===h||!ue(e,u)))&&(l?n&&(n[h]!==void 0||n[u]!==void 0)&&(r[h]=Ca(l,a,h,void 0,t,!0)):delete r[h]);if(i!==a)for(const h in i)(!e||!ue(e,h)&&!0)&&(delete i[h],c=!0)}c&&on(t,"set","$attrs")}function Af(t,e,n,s){const[r,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(ci(l))continue;const c=e[l];let u;r&&ue(r,u=Wt(l))?!i||!i.includes(u)?n[u]=c:(a||(a={}))[u]=c:Wi(t.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(i){const l=ge(n),c=a||_e;for(let u=0;u<i.length;u++){const h=i[u];n[h]=Ca(r,l,h,c[h],t,!ue(c,h))}}return o}function Ca(t,e,n,s,r,i){const o=t[n];if(o!=null){const a=ue(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&ne(l)){const{propsDefaults:c}=r;n in c?s=c[n]:(ws(r),s=c[n]=l.call(null,e),Kn())}else s=l}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===Rs(n))&&(s=!0))}return s}function Df(t,e,n=!1){const s=e.propsCache,r=s.get(t);if(r)return r;const i=t.props,o={},a=[];let l=!1;if(!ne(t)){const u=h=>{l=!0;const[f,p]=Df(h,e,!0);ct(o,f),p&&a.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!l)return De(t)&&s.set(t,hs),hs;if(ee(i))for(let u=0;u<i.length;u++){const h=Wt(i[u]);au(h)&&(o[h]=_e)}else if(i)for(const u in i){const h=Wt(u);if(au(h)){const f=i[u],p=o[h]=ee(f)||ne(f)?{type:f}:f;if(p){const m=uu(Boolean,p.type),w=uu(String,p.type);p[0]=m>-1,p[1]=w<0||m<w,(m>-1||ue(p,"default"))&&a.push(h)}}}const c=[o,a];return De(t)&&s.set(t,c),c}function au(t){return t[0]!=="$"}function lu(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function cu(t,e){return lu(t)===lu(e)}function uu(t,e){return ee(e)?e.findIndex(n=>cu(n,t)):ne(e)&&cu(e,t)?0:-1}const kf=t=>t[0]==="_"||t==="$stable",Nl=t=>ee(t)?t.map(qt):[qt(t)],hy=(t,e,n)=>{if(e._n)return e;const s=ze((...r)=>Nl(e(...r)),n);return s._c=!1,s},Rf=(t,e,n)=>{const s=t._ctx;for(const r in t){if(kf(r))continue;const i=t[r];if(ne(i))e[r]=hy(r,i,s);else if(i!=null){const o=Nl(i);e[r]=()=>o}}},Nf=(t,e)=>{const n=Nl(e);t.slots.default=()=>n},fy=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=ge(e),yi(e,"_",n)):Rf(e,t.slots={})}else t.slots={},e&&Nf(t,e);yi(t.slots,Ji,1)},dy=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,o=_e;if(s.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:(ct(r,e),!n&&a===1&&delete r._):(i=!e.$stable,Rf(e,r)),o=e}else e&&(Nf(t,e),o={default:1});if(i)for(const a in r)!kf(a)&&!(a in o)&&delete r[a]};function Of(){return{app:null,config:{isNativeTag:Vg,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let py=0;function gy(t,e){return function(s,r=null){ne(s)||(s=Object.assign({},s)),r!=null&&!De(r)&&(r=null);const i=Of(),o=new Set;let a=!1;const l=i.app={_uid:py++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:$y,get config(){return i.config},set config(c){},use(c,...u){return o.has(c)||(c&&ne(c.install)?(o.add(c),c.install(l,...u)):ne(c)&&(o.add(c),c(l,...u))),l},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),l},component(c,u){return u?(i.components[c]=u,l):i.components[c]},directive(c,u){return u?(i.directives[c]=u,l):i.directives[c]},mount(c,u,h){if(!a){const f=pe(s,r);return f.appContext=i,u&&e?e(f,c):t(f,c,h),a=!0,l._container=c,c.__vue_app__=l,Zi(f.component)||f.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,u){return i.provides[c]=u,l}};return l}}function Sa(t,e,n,s,r=!1){if(ee(t)){t.forEach((f,p)=>Sa(f,e&&(ee(e)?e[p]:e),n,s,r));return}if(ui(s)&&!r)return;const i=s.shapeFlag&4?Zi(s.component)||s.component.proxy:s.el,o=r?null:i,{i:a,r:l}=t,c=e&&e.r,u=a.refs===_e?a.refs={}:a.refs,h=a.setupState;if(c!=null&&c!==l&&(He(c)?(u[c]=null,ue(h,c)&&(h[c]=null)):at(c)&&(c.value=null)),ne(l))bn(l,a,12,[o,u]);else{const f=He(l),p=at(l);if(f||p){const m=()=>{if(t.f){const w=f?ue(h,l)?h[l]:u[l]:l.value;r?ee(w)&&yl(w,i):ee(w)?w.includes(i)||w.push(i):f?(u[l]=[i],ue(h,l)&&(h[l]=u[l])):(l.value=[i],t.k&&(u[t.k]=l.value))}else f?(u[l]=o,ue(h,l)&&(h[l]=o)):p&&(l.value=o,t.k&&(u[t.k]=o))};o?(m.id=-1,mt(m,n)):m()}}}const mt=Bm;function my(t){return yy(t)}function yy(t,e){const n=Wg();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:f,setScopeId:p=Mt,insertStaticContent:m}=t,w=(d,g,y,v=null,_=null,A=null,N=!1,I=null,D=!!g.dynamicChildren)=>{if(d===g)return;d&&!$n(d,g)&&(v=k(d),gt(d,_,A,!0),d=null),g.patchFlag===-2&&(D=!1,g.dynamicChildren=null);const{type:T,ref:U,shapeFlag:F}=g;switch(T){case Pl:E(d,g,y,v);break;case Ft:x(d,g,y,v);break;case hi:d==null&&L(g,y,v,N);break;case $e:Te(d,g,y,v,_,A,N,I,D);break;default:F&1?oe(d,g,y,v,_,A,N,I,D):F&6?ut(d,g,y,v,_,A,N,I,D):(F&64||F&128)&&T.process(d,g,y,v,_,A,N,I,D,de)}U!=null&&_&&Sa(U,d&&d.ref,A,g||d,!g)},E=(d,g,y,v)=>{if(d==null)s(g.el=a(g.children),y,v);else{const _=g.el=d.el;g.children!==d.children&&c(_,g.children)}},x=(d,g,y,v)=>{d==null?s(g.el=l(g.children||""),y,v):g.el=d.el},L=(d,g,y,v)=>{[d.el,d.anchor]=m(d.children,g,y,v,d.el,d.anchor)},q=({el:d,anchor:g},y,v)=>{let _;for(;d&&d!==g;)_=f(d),s(d,y,v),d=_;s(g,y,v)},G=({el:d,anchor:g})=>{let y;for(;d&&d!==g;)y=f(d),r(d),d=y;r(g)},oe=(d,g,y,v,_,A,N,I,D)=>{N=N||g.type==="svg",d==null?ce(g,y,v,_,A,N,I,D):W(d,g,_,A,N,I,D)},ce=(d,g,y,v,_,A,N,I)=>{let D,T;const{type:U,props:F,shapeFlag:V,transition:X,dirs:ae}=d;if(D=d.el=o(d.type,A,F&&F.is,F),V&8?u(D,d.children):V&16&&R(d.children,D,null,v,_,A&&U!=="foreignObject",N,I),ae&&Nn(d,null,v,"created"),F){for(const Ee in F)Ee!=="value"&&!ci(Ee)&&i(D,Ee,null,F[Ee],A,d.children,v,_,O);"value"in F&&i(D,"value",null,F.value),(T=F.onVnodeBeforeMount)&&jt(T,v,d)}z(D,d,d.scopeId,N,v),ae&&Nn(d,null,v,"beforeMount");const Ce=(!_||_&&!_.pendingBranch)&&X&&!X.persisted;Ce&&X.beforeEnter(D),s(D,g,y),((T=F&&F.onVnodeMounted)||Ce||ae)&&mt(()=>{T&&jt(T,v,d),Ce&&X.enter(D),ae&&Nn(d,null,v,"mounted")},_)},z=(d,g,y,v,_)=>{if(y&&p(d,y),v)for(let A=0;A<v.length;A++)p(d,v[A]);if(_){let A=_.subTree;if(g===A){const N=_.vnode;z(d,N,N.scopeId,N.slotScopeIds,_.parent)}}},R=(d,g,y,v,_,A,N,I,D=0)=>{for(let T=D;T<d.length;T++){const U=d[T]=I?mn(d[T]):qt(d[T]);w(null,U,g,y,v,_,A,N,I)}},W=(d,g,y,v,_,A,N)=>{const I=g.el=d.el;let{patchFlag:D,dynamicChildren:T,dirs:U}=g;D|=d.patchFlag&16;const F=d.props||_e,V=g.props||_e;let X;y&&On(y,!1),(X=V.onVnodeBeforeUpdate)&&jt(X,y,g,d),U&&Nn(g,d,y,"beforeUpdate"),y&&On(y,!0);const ae=_&&g.type!=="foreignObject";if(T?K(d.dynamicChildren,T,I,y,v,ae,A):N||be(d,g,I,null,y,v,ae,A,!1),D>0){if(D&16)se(I,g,F,V,y,v,_);else if(D&2&&F.class!==V.class&&i(I,"class",null,V.class,_),D&4&&i(I,"style",F.style,V.style,_),D&8){const Ce=g.dynamicProps;for(let Ee=0;Ee<Ce.length;Ee++){const Oe=Ce[Ee],Ot=F[Oe],rs=V[Oe];(rs!==Ot||Oe==="value")&&i(I,Oe,Ot,rs,_,d.children,y,v,O)}}D&1&&d.children!==g.children&&u(I,g.children)}else!N&&T==null&&se(I,g,F,V,y,v,_);((X=V.onVnodeUpdated)||U)&&mt(()=>{X&&jt(X,y,g,d),U&&Nn(g,d,y,"updated")},v)},K=(d,g,y,v,_,A,N)=>{for(let I=0;I<g.length;I++){const D=d[I],T=g[I],U=D.el&&(D.type===$e||!$n(D,T)||D.shapeFlag&70)?h(D.el):y;w(D,T,U,null,v,_,A,N,!0)}},se=(d,g,y,v,_,A,N)=>{if(y!==v){if(y!==_e)for(const I in y)!ci(I)&&!(I in v)&&i(d,I,y[I],null,N,g.children,_,A,O);for(const I in v){if(ci(I))continue;const D=v[I],T=y[I];D!==T&&I!=="value"&&i(d,I,T,D,N,g.children,_,A,O)}"value"in v&&i(d,"value",y.value,v.value)}},Te=(d,g,y,v,_,A,N,I,D)=>{const T=g.el=d?d.el:a(""),U=g.anchor=d?d.anchor:a("");let{patchFlag:F,dynamicChildren:V,slotScopeIds:X}=g;X&&(I=I?I.concat(X):X),d==null?(s(T,y,v),s(U,y,v),R(g.children,y,U,_,A,N,I,D)):F>0&&F&64&&V&&d.dynamicChildren?(K(d.dynamicChildren,V,y,_,A,N,I),(g.key!=null||_&&g===_.subTree)&&Ol(d,g,!0)):be(d,g,y,U,_,A,N,I,D)},ut=(d,g,y,v,_,A,N,I,D)=>{g.slotScopeIds=I,d==null?g.shapeFlag&512?_.ctx.activate(g,y,v,N,D):Fe(g,y,v,_,A,N,D):It(d,g,D)},Fe=(d,g,y,v,_,A,N)=>{const I=d.component=ky(d,v,_);if(Qi(d)&&(I.ctx.renderer=de),Ny(I),I.asyncDep){if(_&&_.registerDep(I,ke),!d.el){const D=I.subTree=pe(Ft);x(null,D,g,y)}return}ke(I,d,g,y,_,A,N)},It=(d,g,y)=>{const v=g.component=d.component;if(Mm(d,g,y))if(v.asyncDep&&!v.asyncResolved){me(v,g,y);return}else v.next=g,km(v.update),v.update();else g.el=d.el,v.vnode=g},ke=(d,g,y,v,_,A,N)=>{const I=()=>{if(d.isMounted){let{next:U,bu:F,u:V,parent:X,vnode:ae}=d,Ce=U,Ee;On(d,!1),U?(U.el=ae.el,me(d,U,N)):U=ae,F&&Fo(F),(Ee=U.props&&U.props.onVnodeBeforeUpdate)&&jt(Ee,X,U,ae),On(d,!0);const Oe=$o(d),Ot=d.subTree;d.subTree=Oe,w(Ot,Oe,h(Ot.el),k(Ot),d,_,A),U.el=Oe.el,Ce===null&&Fm(d,Oe.el),V&&mt(V,_),(Ee=U.props&&U.props.onVnodeUpdated)&&mt(()=>jt(Ee,X,U,ae),_)}else{let U;const{el:F,props:V}=g,{bm:X,m:ae,parent:Ce}=d,Ee=ui(g);if(On(d,!1),X&&Fo(X),!Ee&&(U=V&&V.onVnodeBeforeMount)&&jt(U,Ce,g),On(d,!0),F&&re){const Oe=()=>{d.subTree=$o(d),re(F,d.subTree,d,_,null)};Ee?g.type.__asyncLoader().then(()=>!d.isUnmounted&&Oe()):Oe()}else{const Oe=d.subTree=$o(d);w(null,Oe,y,v,d,_,A),g.el=Oe.el}if(ae&&mt(ae,_),!Ee&&(U=V&&V.onVnodeMounted)){const Oe=g;mt(()=>jt(U,Ce,Oe),_)}(g.shapeFlag&256||Ce&&ui(Ce.vnode)&&Ce.vnode.shapeFlag&256)&&d.a&&mt(d.a,_),d.isMounted=!0,g=y=v=null}},D=d.effect=new El(I,()=>Dl(T),d.scope),T=d.update=()=>D.run();T.id=d.uid,On(d,!0),T()},me=(d,g,y)=>{g.component=d;const v=d.vnode.props;d.vnode=g,d.next=null,uy(d,g.props,v,y),dy(d,g.children,y),Ns(),eu(),Os()},be=(d,g,y,v,_,A,N,I,D=!1)=>{const T=d&&d.children,U=d?d.shapeFlag:0,F=g.children,{patchFlag:V,shapeFlag:X}=g;if(V>0){if(V&128){Rn(T,F,y,v,_,A,N,I,D);return}else if(V&256){Rt(T,F,y,v,_,A,N,I,D);return}}X&8?(U&16&&O(T,_,A),F!==T&&u(y,F)):U&16?X&16?Rn(T,F,y,v,_,A,N,I,D):O(T,_,A,!0):(U&8&&u(y,""),X&16&&R(F,y,v,_,A,N,I,D))},Rt=(d,g,y,v,_,A,N,I,D)=>{d=d||hs,g=g||hs;const T=d.length,U=g.length,F=Math.min(T,U);let V;for(V=0;V<F;V++){const X=g[V]=D?mn(g[V]):qt(g[V]);w(d[V],X,y,null,_,A,N,I,D)}T>U?O(d,_,A,!0,!1,F):R(g,y,v,_,A,N,I,D,F)},Rn=(d,g,y,v,_,A,N,I,D)=>{let T=0;const U=g.length;let F=d.length-1,V=U-1;for(;T<=F&&T<=V;){const X=d[T],ae=g[T]=D?mn(g[T]):qt(g[T]);if($n(X,ae))w(X,ae,y,null,_,A,N,I,D);else break;T++}for(;T<=F&&T<=V;){const X=d[F],ae=g[V]=D?mn(g[V]):qt(g[V]);if($n(X,ae))w(X,ae,y,null,_,A,N,I,D);else break;F--,V--}if(T>F){if(T<=V){const X=V+1,ae=X<U?g[X].el:v;for(;T<=V;)w(null,g[T]=D?mn(g[T]):qt(g[T]),y,ae,_,A,N,I,D),T++}}else if(T>V)for(;T<=F;)gt(d[T],_,A,!0),T++;else{const X=T,ae=T,Ce=new Map;for(T=ae;T<=V;T++){const wt=g[T]=D?mn(g[T]):qt(g[T]);wt.key!=null&&Ce.set(wt.key,T)}let Ee,Oe=0;const Ot=V-ae+1;let rs=!1,Hc=0;const Hs=new Array(Ot);for(T=0;T<Ot;T++)Hs[T]=0;for(T=X;T<=F;T++){const wt=d[T];if(Oe>=Ot){gt(wt,_,A,!0);continue}let Vt;if(wt.key!=null)Vt=Ce.get(wt.key);else for(Ee=ae;Ee<=V;Ee++)if(Hs[Ee-ae]===0&&$n(wt,g[Ee])){Vt=Ee;break}Vt===void 0?gt(wt,_,A,!0):(Hs[Vt-ae]=T+1,Vt>=Hc?Hc=Vt:rs=!0,w(wt,g[Vt],y,null,_,A,N,I,D),Oe++)}const qc=rs?vy(Hs):hs;for(Ee=qc.length-1,T=Ot-1;T>=0;T--){const wt=ae+T,Vt=g[wt],Kc=wt+1<U?g[wt+1].el:v;Hs[T]===0?w(null,Vt,y,Kc,_,A,N,I,D):rs&&(Ee<0||T!==qc[Ee]?Nt(Vt,y,Kc,2):Ee--)}}},Nt=(d,g,y,v,_=null)=>{const{el:A,type:N,transition:I,children:D,shapeFlag:T}=d;if(T&6){Nt(d.component.subTree,g,y,v);return}if(T&128){d.suspense.move(g,y,v);return}if(T&64){N.move(d,g,y,de);return}if(N===$e){s(A,g,y);for(let F=0;F<D.length;F++)Nt(D[F],g,y,v);s(d.anchor,g,y);return}if(N===hi){q(d,g,y);return}if(v!==2&&T&1&&I)if(v===0)I.beforeEnter(A),s(A,g,y),mt(()=>I.enter(A),_);else{const{leave:F,delayLeave:V,afterLeave:X}=I,ae=()=>s(A,g,y),Ce=()=>{F(A,()=>{ae(),X&&X()})};V?V(A,ae,Ce):Ce()}else s(A,g,y)},gt=(d,g,y,v=!1,_=!1)=>{const{type:A,props:N,ref:I,children:D,dynamicChildren:T,shapeFlag:U,patchFlag:F,dirs:V}=d;if(I!=null&&Sa(I,null,y,d,!0),U&256){g.ctx.deactivate(d);return}const X=U&1&&V,ae=!ui(d);let Ce;if(ae&&(Ce=N&&N.onVnodeBeforeUnmount)&&jt(Ce,g,d),U&6)b(d.component,y,v);else{if(U&128){d.suspense.unmount(y,v);return}X&&Nn(d,null,g,"beforeUnmount"),U&64?d.type.remove(d,g,y,_,de,v):T&&(A!==$e||F>0&&F&64)?O(T,g,y,!1,!0):(A===$e&&F&384||!_&&U&16)&&O(D,g,y),v&&ss(d)}(ae&&(Ce=N&&N.onVnodeUnmounted)||X)&&mt(()=>{Ce&&jt(Ce,g,d),X&&Nn(d,null,g,"unmounted")},y)},ss=d=>{const{type:g,el:y,anchor:v,transition:_}=d;if(g===$e){Wr(y,v);return}if(g===hi){G(d);return}const A=()=>{r(y),_&&!_.persisted&&_.afterLeave&&_.afterLeave()};if(d.shapeFlag&1&&_&&!_.persisted){const{leave:N,delayLeave:I}=_,D=()=>N(y,A);I?I(d.el,A,D):D()}else A()},Wr=(d,g)=>{let y;for(;d!==g;)y=f(d),r(d),d=y;r(g)},b=(d,g,y)=>{const{bum:v,scope:_,update:A,subTree:N,um:I}=d;v&&Fo(v),_.stop(),A&&(A.active=!1,gt(N,d,g,y)),I&&mt(I,g),mt(()=>{d.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},O=(d,g,y,v=!1,_=!1,A=0)=>{for(let N=A;N<d.length;N++)gt(d[N],g,y,v,_)},k=d=>d.shapeFlag&6?k(d.component.subTree):d.shapeFlag&128?d.suspense.next():f(d.anchor||d.el),B=(d,g,y)=>{d==null?g._vnode&&gt(g._vnode,null,null,!0):w(g._vnode||null,d,g,null,null,null,y),eu(),yf(),g._vnode=d},de={p:w,um:gt,m:Nt,r:ss,mt:Fe,mc:R,pc:be,pbc:K,n:k,o:t};let Re,re;return e&&([Re,re]=e(de)),{render:B,hydrate:Re,createApp:gy(B,Re)}}function On({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Ol(t,e,n=!1){const s=t.children,r=e.children;if(ee(s)&&ee(r))for(let i=0;i<s.length;i++){const o=s[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=mn(r[i]),a.el=o.el),n||Ol(o,a))}}function vy(t){const e=t.slice(),n=[0];let s,r,i,o,a;const l=t.length;for(s=0;s<l;s++){const c=t[s];if(c!==0){if(r=n[n.length-1],t[r]<c){e[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<c?i=a+1:o=a;c<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}const wy=t=>t.__isTeleport,Js=t=>t&&(t.disabled||t.disabled===""),hu=t=>typeof SVGElement<"u"&&t instanceof SVGElement,xa=(t,e)=>{const n=t&&t.to;return He(n)?e?e(n):null:n},by={__isTeleport:!0,process(t,e,n,s,r,i,o,a,l,c){const{mc:u,pc:h,pbc:f,o:{insert:p,querySelector:m,createText:w,createComment:E}}=c,x=Js(e.props);let{shapeFlag:L,children:q,dynamicChildren:G}=e;if(t==null){const oe=e.el=w(""),ce=e.anchor=w("");p(oe,n,s),p(ce,n,s);const z=e.target=xa(e.props,m),R=e.targetAnchor=w("");z&&(p(R,z),o=o||hu(z));const W=(K,se)=>{L&16&&u(q,K,se,r,i,o,a,l)};x?W(n,ce):z&&W(z,R)}else{e.el=t.el;const oe=e.anchor=t.anchor,ce=e.target=t.target,z=e.targetAnchor=t.targetAnchor,R=Js(t.props),W=R?n:ce,K=R?oe:z;if(o=o||hu(ce),G?(f(t.dynamicChildren,G,W,r,i,o,a),Ol(t,e,!0)):l||h(t,e,W,K,r,i,o,a,!1),x)R||ei(e,n,oe,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const se=e.target=xa(e.props,m);se&&ei(e,se,null,c,0)}else R&&ei(e,ce,z,c,1)}},remove(t,e,n,s,{um:r,o:{remove:i}},o){const{shapeFlag:a,children:l,anchor:c,targetAnchor:u,target:h,props:f}=t;if(h&&i(u),(o||!Js(f))&&(i(c),a&16))for(let p=0;p<l.length;p++){const m=l[p];r(m,e,n,!0,!!m.dynamicChildren)}},move:ei,hydrate:Ey};function ei(t,e,n,{o:{insert:s},m:r},i=2){i===0&&s(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=t,h=i===2;if(h&&s(o,e,n),(!h||Js(u))&&l&16)for(let f=0;f<c.length;f++)r(c[f],e,n,2);h&&s(a,e,n)}function Ey(t,e,n,s,r,i,{o:{nextSibling:o,parentNode:a,querySelector:l}},c){const u=e.target=xa(e.props,l);if(u){const h=u._lpa||u.firstChild;if(e.shapeFlag&16)if(Js(e.props))e.anchor=c(o(t),e,a(t),n,s,r,i),e.targetAnchor=h;else{e.anchor=o(t);let f=h;for(;f;)if(f=o(f),f&&f.nodeType===8&&f.data==="teleport anchor"){e.targetAnchor=f,u._lpa=e.targetAnchor&&o(e.targetAnchor);break}c(h,e,u,n,s,r,i)}}return e.anchor&&o(e.anchor)}const _y=by,$e=Symbol(void 0),Pl=Symbol(void 0),Ft=Symbol(void 0),hi=Symbol(void 0),Zs=[];let Lt=null;function Ze(t=!1){Zs.push(Lt=t?null:[])}function Ty(){Zs.pop(),Lt=Zs[Zs.length-1]||null}let dr=1;function fu(t){dr+=t}function Pf(t){return t.dynamicChildren=dr>0?Lt||hs:null,Ty(),dr>0&&Lt&&Lt.push(t),t}function bt(t,e,n,s,r,i){return Pf(P(t,e,n,s,r,i,!0))}function Xi(t,e,n,s,r){return Pf(pe(t,e,n,s,r,!0))}function Ia(t){return t?t.__v_isVNode===!0:!1}function $n(t,e){return t.type===e.type&&t.key===e.key}const Ji="__vInternal",Lf=({key:t})=>t!=null?t:null,fi=({ref:t,ref_key:e,ref_for:n})=>t!=null?He(t)||at(t)||ne(t)?{i:Dt,r:t,k:e,f:!!n}:t:null;function P(t,e=null,n=null,s=0,r=null,i=t===$e?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Lf(e),ref:e&&fi(e),scopeId:bf,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null};return a?(Fl(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=He(n)?8:16),dr>0&&!o&&Lt&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Lt.push(l),l}const pe=Cy;function Cy(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===ty)&&(t=Ft),Ia(t)){const a=an(t,e,!0);return n&&Fl(a,n),dr>0&&!i&&Lt&&(a.shapeFlag&6?Lt[Lt.indexOf(t)]=a:Lt.push(a)),a.patchFlag|=-2,a}if(Fy(t)&&(t=t.__vccOpts),e){e=Sy(e);let{class:a,style:l}=e;a&&!He(a)&&(e.class=zt(a)),De(l)&&(lf(l)&&!ee(l)&&(l=ct({},l)),e.style=gl(l))}const o=He(t)?1:$m(t)?128:wy(t)?64:De(t)?4:ne(t)?2:0;return P(t,e,n,s,r,o,i,!0)}function Sy(t){return t?lf(t)||Ji in t?ct({},t):t:null}function an(t,e,n=!1){const{props:s,ref:r,patchFlag:i,children:o}=t,a=e?Iy(s||{},e):s;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&Lf(a),ref:e&&e.ref?n&&r?ee(r)?r.concat(fi(e)):[r,fi(e)]:fi(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==$e?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&an(t.ssContent),ssFallback:t.ssFallback&&an(t.ssFallback),el:t.el,anchor:t.anchor}}function Ll(t=" ",e=0){return pe(Pl,null,t,e)}function Ml(t,e){const n=pe(hi,null,t);return n.staticCount=e,n}function xy(t="",e=!1){return e?(Ze(),Xi(Ft,null,t)):pe(Ft,null,t)}function qt(t){return t==null||typeof t=="boolean"?pe(Ft):ee(t)?pe($e,null,t.slice()):typeof t=="object"?mn(t):pe(Pl,null,String(t))}function mn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:an(t)}function Fl(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(ee(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),Fl(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!(Ji in e)?e._ctx=Dt:r===3&&Dt&&(Dt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ne(e)?(e={default:e,_ctx:Dt},n=32):(e=String(e),s&64?(n=16,e=[Ll(e)]):n=8);t.children=e,t.shapeFlag|=n}function Iy(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=zt([e.class,s.class]));else if(r==="style")e.style=gl([e.style,s.style]);else if(ji(r)){const i=e[r],o=s[r];o&&i!==o&&!(ee(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=s[r])}return e}function jt(t,e,n,s=null){kt(t,e,7,[n,s])}const Ay=Of();let Dy=0;function ky(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||Ay,i={uid:Dy++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new Qg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Df(s,r),emitsOptions:wf(s,r),emit:null,emitted:null,propsDefaults:_e,inheritAttrs:s.inheritAttrs,ctx:_e,data:_e,props:_e,attrs:_e,slots:_e,refs:_e,setupState:_e,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Om.bind(null,i),t.ce&&t.ce(i),i}let We=null;const Ry=()=>We||Dt,ws=t=>{We=t,t.scope.on()},Kn=()=>{We&&We.scope.off(),We=null};function Mf(t){return t.vnode.shapeFlag&4}let pr=!1;function Ny(t,e=!1){pr=e;const{props:n,children:s}=t.vnode,r=Mf(t);cy(t,n,r,e),fy(t,s);const i=r?Oy(t,e):void 0;return pr=!1,i}function Oy(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=cf(new Proxy(t.ctx,sy));const{setup:s}=n;if(s){const r=t.setupContext=s.length>1?Ly(t):null;ws(t),Ns();const i=bn(s,t,0,[t.props,r]);if(Os(),Kn(),Gh(i)){if(i.then(Kn,Kn),e)return i.then(o=>{du(t,o,e)}).catch(o=>{Gi(o,t,0)});t.asyncDep=i}else du(t,i,e)}else Ff(t,e)}function du(t,e,n){ne(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:De(e)&&(t.setupState=df(e)),Ff(t,n)}let pu;function Ff(t,e,n){const s=t.type;if(!t.render){if(!e&&pu&&!s.render){const r=s.template||Rl(t).template;if(r){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=s,c=ct(ct({isCustomElement:i,delimiters:a},o),l);s.render=pu(r,c)}}t.render=s.render||Mt}ws(t),Ns(),ry(t),Os(),Kn()}function Py(t){return new Proxy(t.attrs,{get(e,n){return Ct(t,"get","$attrs"),e[n]}})}function Ly(t){const e=s=>{t.exposed=s||{}};let n;return{get attrs(){return n||(n=Py(t))},slots:t.slots,emit:t.emit,expose:e}}function Zi(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(df(cf(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ei)return Ei[n](t)}}))}function My(t,e=!0){return ne(t)?t.displayName||t.name:t.name||e&&t.__name}function Fy(t){return ne(t)&&"__vccOpts"in t}const J=(t,e)=>Im(t,e,pr);function Be(t,e,n){const s=arguments.length;return s===2?De(e)&&!ee(e)?Ia(e)?pe(t,null,[e]):pe(t,e):pe(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Ia(n)&&(n=[n]),pe(t,e,n))}const $y="3.2.41",By="http://www.w3.org/2000/svg",Bn=typeof document<"u"?document:null,gu=Bn&&Bn.createElement("template"),Uy={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e?Bn.createElementNS(By,t):Bn.createElement(t,n?{is:n}:void 0);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>Bn.createTextNode(t),createComment:t=>Bn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Bn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,i){const o=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{gu.innerHTML=s?`<svg>${t}</svg>`:t;const a=gu.content;if(s){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function Vy(t,e,n){const s=t._vtc;s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function jy(t,e,n){const s=t.style,r=He(n);if(n&&!r){for(const i in n)Aa(s,i,n[i]);if(e&&!He(e))for(const i in e)n[i]==null&&Aa(s,i,"")}else{const i=s.display;r?e!==n&&(s.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(s.display=i)}}const mu=/\s*!important$/;function Aa(t,e,n){if(ee(n))n.forEach(s=>Aa(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=Hy(t,e);mu.test(n)?t.setProperty(Rs(s),n.replace(mu,""),"important"):t[s]=n}}const yu=["Webkit","Moz","ms"],Uo={};function Hy(t,e){const n=Uo[e];if(n)return n;let s=Wt(e);if(s!=="filter"&&s in t)return Uo[e]=s;s=Ki(s);for(let r=0;r<yu.length;r++){const i=yu[r]+s;if(i in t)return Uo[e]=i}return e}const vu="http://www.w3.org/1999/xlink";function qy(t,e,n,s,r){if(s&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(vu,e.slice(6,e.length)):t.setAttributeNS(vu,e,n);else{const i=Fg(e);n==null||i&&!qh(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function Ky(t,e,n,s,r,i,o){if(e==="innerHTML"||e==="textContent"){s&&o(s,r,i),t[e]=n==null?"":n;return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const l=n==null?"":n;(t.value!==l||t.tagName==="OPTION")&&(t.value=l),n==null&&t.removeAttribute(e);return}let a=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=qh(n):n==null&&l==="string"?(n="",a=!0):l==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(e)}function zy(t,e,n,s){t.addEventListener(e,n,s)}function Gy(t,e,n,s){t.removeEventListener(e,n,s)}function Wy(t,e,n,s,r=null){const i=t._vei||(t._vei={}),o=i[e];if(s&&o)o.value=s;else{const[a,l]=Qy(e);if(s){const c=i[e]=Jy(s,r);zy(t,a,c,l)}else o&&(Gy(t,a,o,l),i[e]=void 0)}}const wu=/(?:Once|Passive|Capture)$/;function Qy(t){let e;if(wu.test(t)){e={};let s;for(;s=t.match(wu);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Rs(t.slice(2)),e]}let Vo=0;const Yy=Promise.resolve(),Xy=()=>Vo||(Yy.then(()=>Vo=0),Vo=Date.now());function Jy(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;kt(Zy(s,n.value),e,5,[s])};return n.value=t,n.attached=Xy(),n}function Zy(t,e){if(ee(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const bu=/^on[a-z]/,ev=(t,e,n,s,r=!1,i,o,a,l)=>{e==="class"?Vy(t,s,r):e==="style"?jy(t,n,s):ji(e)?ml(e)||Wy(t,e,n,s,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):tv(t,e,s,r))?Ky(t,e,s,i,o,a,l):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),qy(t,e,s,r))};function tv(t,e,n,s){return s?!!(e==="innerHTML"||e==="textContent"||e in t&&bu.test(e)&&ne(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||bu.test(e)&&He(n)?!1:e in t}const nv={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Hm.props;const Da={beforeMount(t,{value:e},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):qs(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:s}){!e!=!n&&(s?e?(s.beforeEnter(t),qs(t,!0),s.enter(t)):s.leave(t,()=>{qs(t,!1)}):qs(t,e))},beforeUnmount(t,{value:e}){qs(t,e)}};function qs(t,e){t.style.display=e?t._vod:"none"}const sv=ct({patchProp:ev},Uy);let Eu;function rv(){return Eu||(Eu=my(sv))}const iv=(...t)=>{const e=rv().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=ov(s);if(!r)return;const i=e._component;!ne(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.innerHTML="";const o=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function ov(t){return He(t)?document.querySelector(t):t}/*!
  * vue-router v4.1.5
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const ls=typeof window<"u";function av(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const we=Object.assign;function jo(t,e){const n={};for(const s in e){const r=e[s];n[s]=$t(r)?r.map(t):t(r)}return n}const er=()=>{},$t=Array.isArray,lv=/\/$/,cv=t=>t.replace(lv,"");function Ho(t,e,n="/"){let s,r={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),r=t(i)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=dv(s!=null?s:e,n),{fullPath:s+(i&&"?")+i+o,path:s,query:r,hash:o}}function uv(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function _u(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function hv(t,e,n){const s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&bs(e.matched[s],n.matched[r])&&$f(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function bs(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function $f(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!fv(t[n],e[n]))return!1;return!0}function fv(t,e){return $t(t)?Tu(t,e):$t(e)?Tu(e,t):t===e}function Tu(t,e){return $t(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function dv(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/");let r=n.length-1,i,o;for(i=0;i<s.length;i++)if(o=s[i],o!==".")if(o==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(i-(i===s.length?1:0)).join("/")}var gr;(function(t){t.pop="pop",t.push="push"})(gr||(gr={}));var tr;(function(t){t.back="back",t.forward="forward",t.unknown=""})(tr||(tr={}));function pv(t){if(!t)if(ls){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),cv(t)}const gv=/^[^#]+#/;function mv(t,e){return t.replace(gv,"#")+e}function yv(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const eo=()=>({left:window.pageXOffset,top:window.pageYOffset});function vv(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=yv(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Cu(t,e){return(history.state?history.state.position-e:-1)+t}const ka=new Map;function wv(t,e){ka.set(t,e)}function bv(t){const e=ka.get(t);return ka.delete(t),e}let Ev=()=>location.protocol+"//"+location.host;function Bf(t,e){const{pathname:n,search:s,hash:r}=e,i=t.indexOf("#");if(i>-1){let a=r.includes(t.slice(i))?t.slice(i).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),_u(l,"")}return _u(n,t)+s+r}function _v(t,e,n,s){let r=[],i=[],o=null;const a=({state:f})=>{const p=Bf(t,location),m=n.value,w=e.value;let E=0;if(f){if(n.value=p,e.value=f,o&&o===m){o=null;return}E=w?f.position-w.position:0}else s(p);r.forEach(x=>{x(n.value,m,{delta:E,type:gr.pop,direction:E?E>0?tr.forward:tr.back:tr.unknown})})};function l(){o=n.value}function c(f){r.push(f);const p=()=>{const m=r.indexOf(f);m>-1&&r.splice(m,1)};return i.push(p),p}function u(){const{history:f}=window;!f.state||f.replaceState(we({},f.state,{scroll:eo()}),"")}function h(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:l,listen:c,destroy:h}}function Su(t,e,n,s=!1,r=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:r?eo():null}}function Tv(t){const{history:e,location:n}=window,s={value:Bf(t,n)},r={value:e.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const h=t.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+l:Ev()+t+l;try{e[u?"replaceState":"pushState"](c,"",f),r.value=c}catch(p){console.error(p),n[u?"replace":"assign"](f)}}function o(l,c){const u=we({},e.state,Su(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});i(l,u,!0),s.value=l}function a(l,c){const u=we({},r.value,e.state,{forward:l,scroll:eo()});i(u.current,u,!0);const h=we({},Su(s.value,l,null),{position:u.position+1},c);i(l,h,!1),s.value=l}return{location:s,state:r,push:a,replace:o}}function Cv(t){t=pv(t);const e=Tv(t),n=_v(t,e.state,e.location,e.replace);function s(i,o=!0){o||n.pauseListeners(),history.go(i)}const r=we({location:"",base:t,go:s,createHref:mv.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function Sv(t){return typeof t=="string"||t&&typeof t=="object"}function Uf(t){return typeof t=="string"||typeof t=="symbol"}const pn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Vf=Symbol("");var xu;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(xu||(xu={}));function Es(t,e){return we(new Error,{type:t,[Vf]:!0},e)}function Xt(t,e){return t instanceof Error&&Vf in t&&(e==null||!!(t.type&e))}const Iu="[^/]+?",xv={sensitive:!1,strict:!1,start:!0,end:!0},Iv=/[.+*?^${}()[\]/\\]/g;function Av(t,e){const n=we({},xv,e),s=[];let r=n.start?"^":"";const i=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(r+="/");for(let h=0;h<c.length;h++){const f=c[h];let p=40+(n.sensitive?.25:0);if(f.type===0)h||(r+="/"),r+=f.value.replace(Iv,"\\$&"),p+=40;else if(f.type===1){const{value:m,repeatable:w,optional:E,regexp:x}=f;i.push({name:m,repeatable:w,optional:E});const L=x||Iu;if(L!==Iu){p+=10;try{new RegExp(`(${L})`)}catch(G){throw new Error(`Invalid custom RegExp for param "${m}" (${L}): `+G.message)}}let q=w?`((?:${L})(?:/(?:${L}))*)`:`(${L})`;h||(q=E&&c.length<2?`(?:/${q})`:"/"+q),E&&(q+="?"),r+=q,p+=20,E&&(p+=-8),w&&(p+=-20),L===".*"&&(p+=-50)}u.push(p)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let f=1;f<u.length;f++){const p=u[f]||"",m=i[f-1];h[m.name]=p&&m.repeatable?p.split("/"):p}return h}function l(c){let u="",h=!1;for(const f of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const p of f)if(p.type===0)u+=p.value;else if(p.type===1){const{value:m,repeatable:w,optional:E}=p,x=m in c?c[m]:"";if($t(x)&&!w)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const L=$t(x)?x.join("/"):x;if(!L)if(E)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${m}"`);u+=L}}return u||"/"}return{re:o,score:s,keys:i,parse:a,stringify:l}}function Dv(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function kv(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const i=Dv(s[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-s.length)===1){if(Au(s))return 1;if(Au(r))return-1}return r.length-s.length}function Au(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Rv={type:0,value:""},Nv=/[a-zA-Z0-9_]/;function Ov(t){if(!t)return[[]];if(t==="/")return[[Rv]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${n})/"${c}": ${p}`)}let n=0,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,l,c="",u="";function h(){!c||(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(c&&h(),o()):l===":"?(h(),n=1):f();break;case 4:f(),n=s;break;case 1:l==="("?n=2:Nv.test(l)?f():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),h(),o(),r}function Pv(t,e,n){const s=Av(Ov(t.path),n),r=we(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function Lv(t,e){const n=[],s=new Map;e=Ru({strict:!1,end:!0,sensitive:!1},e);function r(u){return s.get(u)}function i(u,h,f){const p=!f,m=Mv(u);m.aliasOf=f&&f.record;const w=Ru(e,u),E=[m];if("alias"in u){const q=typeof u.alias=="string"?[u.alias]:u.alias;for(const G of q)E.push(we({},m,{components:f?f.record.components:m.components,path:G,aliasOf:f?f.record:m}))}let x,L;for(const q of E){const{path:G}=q;if(h&&G[0]!=="/"){const oe=h.record.path,ce=oe[oe.length-1]==="/"?"":"/";q.path=h.record.path+(G&&ce+G)}if(x=Pv(q,h,w),f?f.alias.push(x):(L=L||x,L!==x&&L.alias.push(x),p&&u.name&&!ku(x)&&o(u.name)),m.children){const oe=m.children;for(let ce=0;ce<oe.length;ce++)i(oe[ce],x,f&&f.children[ce])}f=f||x,l(x)}return L?()=>{o(L)}:er}function o(u){if(Uf(u)){const h=s.get(u);h&&(s.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&s.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function l(u){let h=0;for(;h<n.length&&kv(u,n[h])>=0&&(u.record.path!==n[h].record.path||!jf(u,n[h]));)h++;n.splice(h,0,u),u.record.name&&!ku(u)&&s.set(u.record.name,u)}function c(u,h){let f,p={},m,w;if("name"in u&&u.name){if(f=s.get(u.name),!f)throw Es(1,{location:u});w=f.record.name,p=we(Du(h.params,f.keys.filter(L=>!L.optional).map(L=>L.name)),u.params&&Du(u.params,f.keys.map(L=>L.name))),m=f.stringify(p)}else if("path"in u)m=u.path,f=n.find(L=>L.re.test(m)),f&&(p=f.parse(m),w=f.record.name);else{if(f=h.name?s.get(h.name):n.find(L=>L.re.test(h.path)),!f)throw Es(1,{location:u,currentLocation:h});w=f.record.name,p=we({},h.params,u.params),m=f.stringify(p)}const E=[];let x=f;for(;x;)E.unshift(x.record),x=x.parent;return{name:w,path:m,params:p,matched:E,meta:$v(E)}}return t.forEach(u=>i(u)),{addRoute:i,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:r}}function Du(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function Mv(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:Fv(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function Fv(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="boolean"?n:n[s];return e}function ku(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function $v(t){return t.reduce((e,n)=>we(e,n.meta),{})}function Ru(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function jf(t,e){return e.children.some(n=>n===t||jf(t,n))}const Hf=/#/g,Bv=/&/g,Uv=/\//g,Vv=/=/g,jv=/\?/g,qf=/\+/g,Hv=/%5B/g,qv=/%5D/g,Kf=/%5E/g,Kv=/%60/g,zf=/%7B/g,zv=/%7C/g,Gf=/%7D/g,Gv=/%20/g;function $l(t){return encodeURI(""+t).replace(zv,"|").replace(Hv,"[").replace(qv,"]")}function Wv(t){return $l(t).replace(zf,"{").replace(Gf,"}").replace(Kf,"^")}function Ra(t){return $l(t).replace(qf,"%2B").replace(Gv,"+").replace(Hf,"%23").replace(Bv,"%26").replace(Kv,"`").replace(zf,"{").replace(Gf,"}").replace(Kf,"^")}function Qv(t){return Ra(t).replace(Vv,"%3D")}function Yv(t){return $l(t).replace(Hf,"%23").replace(jv,"%3F")}function Xv(t){return t==null?"":Yv(t).replace(Uv,"%2F")}function Ti(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function Jv(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(qf," "),o=i.indexOf("="),a=Ti(o<0?i:i.slice(0,o)),l=o<0?null:Ti(i.slice(o+1));if(a in e){let c=e[a];$t(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function Nu(t){let e="";for(let n in t){const s=t[n];if(n=Qv(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}($t(s)?s.map(i=>i&&Ra(i)):[s&&Ra(s)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function Zv(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=$t(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return e}const e0=Symbol(""),Ou=Symbol(""),to=Symbol(""),Bl=Symbol(""),Na=Symbol("");function Ks(){let t=[];function e(s){return t.push(s),()=>{const r=t.indexOf(s);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function yn(t,e,n,s,r){const i=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((o,a)=>{const l=h=>{h===!1?a(Es(4,{from:n,to:e})):h instanceof Error?a(h):Sv(h)?a(Es(2,{from:e,to:h})):(i&&s.enterCallbacks[r]===i&&typeof h=="function"&&i.push(h),o())},c=t.call(s&&s.instances[r],e,n,l);let u=Promise.resolve(c);t.length<3&&(u=u.then(l)),u.catch(h=>a(h))})}function qo(t,e,n,s){const r=[];for(const i of t)for(const o in i.components){let a=i.components[o];if(!(e!=="beforeRouteEnter"&&!i.instances[o]))if(t0(a)){const c=(a.__vccOpts||a)[e];c&&r.push(yn(c,n,s,i,o))}else{let l=a();r.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const u=av(c)?c.default:c;i.components[o]=u;const f=(u.__vccOpts||u)[e];return f&&yn(f,n,s,i,o)()}))}}return r}function t0(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Pu(t){const e=Ae(to),n=Ae(Bl),s=J(()=>e.resolve(fe(t.to))),r=J(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],h=n.matched;if(!u||!h.length)return-1;const f=h.findIndex(bs.bind(null,u));if(f>-1)return f;const p=Lu(l[c-2]);return c>1&&Lu(u)===p&&h[h.length-1].path!==p?h.findIndex(bs.bind(null,l[c-2])):f}),i=J(()=>r.value>-1&&i0(n.params,s.value.params)),o=J(()=>r.value>-1&&r.value===n.matched.length-1&&$f(n.params,s.value.params));function a(l={}){return r0(l)?e[fe(t.replace)?"replace":"push"](fe(t.to)).catch(er):Promise.resolve()}return{route:s,href:J(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}const n0=Ne({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Pu,setup(t,{slots:e}){const n=Ps(Pu(t)),{options:s}=Ae(to),r=J(()=>({[Mu(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Mu(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&e.default(n);return t.custom?i:Be("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),s0=n0;function r0(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function i0(t,e){for(const n in e){const s=e[n],r=t[n];if(typeof s=="string"){if(s!==r)return!1}else if(!$t(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function Lu(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Mu=(t,e,n)=>t!=null?t:e!=null?e:n,o0=Ne({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=Ae(Na),r=J(()=>t.route||s.value),i=Ae(Ou,0),o=J(()=>{let c=fe(i);const{matched:u}=r.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=J(()=>r.value.matched[o.value]);et(Ou,J(()=>o.value+1)),et(e0,a),et(Na,r);const l=Q();return En(()=>[l.value,a.value,t.name],([c,u,h],[f,p,m])=>{u&&(u.instances[h]=c,p&&p!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=p.leaveGuards),u.updateGuards.size||(u.updateGuards=p.updateGuards))),c&&u&&(!p||!bs(u,p)||!f)&&(u.enterCallbacks[h]||[]).forEach(w=>w(c))},{flush:"post"}),()=>{const c=r.value,u=t.name,h=a.value,f=h&&h.components[u];if(!f)return Fu(n.default,{Component:f,route:c});const p=h.props[u],m=p?p===!0?c.params:typeof p=="function"?p(c):p:null,E=Be(f,we({},m,e,{onVnodeUnmounted:x=>{x.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return Fu(n.default,{Component:E,route:c})||E}}});function Fu(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Wf=o0;function a0(t){const e=Lv(t.routes,t),n=t.parseQuery||Jv,s=t.stringifyQuery||Nu,r=t.history,i=Ks(),o=Ks(),a=Ks(),l=Tm(pn);let c=pn;ls&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=jo.bind(null,b=>""+b),h=jo.bind(null,Xv),f=jo.bind(null,Ti);function p(b,O){let k,B;return Uf(b)?(k=e.getRecordMatcher(b),B=O):B=b,e.addRoute(B,k)}function m(b){const O=e.getRecordMatcher(b);O&&e.removeRoute(O)}function w(){return e.getRoutes().map(b=>b.record)}function E(b){return!!e.getRecordMatcher(b)}function x(b,O){if(O=we({},O||l.value),typeof b=="string"){const d=Ho(n,b,O.path),g=e.resolve({path:d.path},O),y=r.createHref(d.fullPath);return we(d,g,{params:f(g.params),hash:Ti(d.hash),redirectedFrom:void 0,href:y})}let k;if("path"in b)k=we({},b,{path:Ho(n,b.path,O.path).path});else{const d=we({},b.params);for(const g in d)d[g]==null&&delete d[g];k=we({},b,{params:h(b.params)}),O.params=h(O.params)}const B=e.resolve(k,O),de=b.hash||"";B.params=u(f(B.params));const Re=uv(s,we({},b,{hash:Wv(de),path:B.path})),re=r.createHref(Re);return we({fullPath:Re,hash:de,query:s===Nu?Zv(b.query):b.query||{}},B,{redirectedFrom:void 0,href:re})}function L(b){return typeof b=="string"?Ho(n,b,l.value.path):we({},b)}function q(b,O){if(c!==b)return Es(8,{from:O,to:b})}function G(b){return z(b)}function oe(b){return G(we(L(b),{replace:!0}))}function ce(b){const O=b.matched[b.matched.length-1];if(O&&O.redirect){const{redirect:k}=O;let B=typeof k=="function"?k(b):k;return typeof B=="string"&&(B=B.includes("?")||B.includes("#")?B=L(B):{path:B},B.params={}),we({query:b.query,hash:b.hash,params:"path"in B?{}:b.params},B)}}function z(b,O){const k=c=x(b),B=l.value,de=b.state,Re=b.force,re=b.replace===!0,d=ce(k);if(d)return z(we(L(d),{state:typeof d=="object"?we({},de,d.state):de,force:Re,replace:re}),O||k);const g=k;g.redirectedFrom=O;let y;return!Re&&hv(s,B,k)&&(y=Es(16,{to:g,from:B}),Rn(B,B,!0,!1)),(y?Promise.resolve(y):W(g,B)).catch(v=>Xt(v)?Xt(v,2)?v:Rt(v):me(v,g,B)).then(v=>{if(v){if(Xt(v,2))return z(we({replace:re},L(v.to),{state:typeof v.to=="object"?we({},de,v.to.state):de,force:Re}),O||g)}else v=se(g,B,!0,re,de);return K(g,B,v),v})}function R(b,O){const k=q(b,O);return k?Promise.reject(k):Promise.resolve()}function W(b,O){let k;const[B,de,Re]=l0(b,O);k=qo(B.reverse(),"beforeRouteLeave",b,O);for(const d of B)d.leaveGuards.forEach(g=>{k.push(yn(g,b,O))});const re=R.bind(null,b,O);return k.push(re),is(k).then(()=>{k=[];for(const d of i.list())k.push(yn(d,b,O));return k.push(re),is(k)}).then(()=>{k=qo(de,"beforeRouteUpdate",b,O);for(const d of de)d.updateGuards.forEach(g=>{k.push(yn(g,b,O))});return k.push(re),is(k)}).then(()=>{k=[];for(const d of b.matched)if(d.beforeEnter&&!O.matched.includes(d))if($t(d.beforeEnter))for(const g of d.beforeEnter)k.push(yn(g,b,O));else k.push(yn(d.beforeEnter,b,O));return k.push(re),is(k)}).then(()=>(b.matched.forEach(d=>d.enterCallbacks={}),k=qo(Re,"beforeRouteEnter",b,O),k.push(re),is(k))).then(()=>{k=[];for(const d of o.list())k.push(yn(d,b,O));return k.push(re),is(k)}).catch(d=>Xt(d,8)?d:Promise.reject(d))}function K(b,O,k){for(const B of a.list())B(b,O,k)}function se(b,O,k,B,de){const Re=q(b,O);if(Re)return Re;const re=O===pn,d=ls?history.state:{};k&&(B||re?r.replace(b.fullPath,we({scroll:re&&d&&d.scroll},de)):r.push(b.fullPath,de)),l.value=b,Rn(b,O,k,re),Rt()}let Te;function ut(){Te||(Te=r.listen((b,O,k)=>{if(!Wr.listening)return;const B=x(b),de=ce(B);if(de){z(we(de,{replace:!0}),B).catch(er);return}c=B;const Re=l.value;ls&&wv(Cu(Re.fullPath,k.delta),eo()),W(B,Re).catch(re=>Xt(re,12)?re:Xt(re,2)?(z(re.to,B).then(d=>{Xt(d,20)&&!k.delta&&k.type===gr.pop&&r.go(-1,!1)}).catch(er),Promise.reject()):(k.delta&&r.go(-k.delta,!1),me(re,B,Re))).then(re=>{re=re||se(B,Re,!1),re&&(k.delta&&!Xt(re,8)?r.go(-k.delta,!1):k.type===gr.pop&&Xt(re,20)&&r.go(-1,!1)),K(B,Re,re)}).catch(er)}))}let Fe=Ks(),It=Ks(),ke;function me(b,O,k){Rt(b);const B=It.list();return B.length?B.forEach(de=>de(b,O,k)):console.error(b),Promise.reject(b)}function be(){return ke&&l.value!==pn?Promise.resolve():new Promise((b,O)=>{Fe.add([b,O])})}function Rt(b){return ke||(ke=!b,ut(),Fe.list().forEach(([O,k])=>b?k(b):O()),Fe.reset()),b}function Rn(b,O,k,B){const{scrollBehavior:de}=t;if(!ls||!de)return Promise.resolve();const Re=!k&&bv(Cu(b.fullPath,0))||(B||!k)&&history.state&&history.state.scroll||null;return Al().then(()=>de(b,O,Re)).then(re=>re&&vv(re)).catch(re=>me(re,b,O))}const Nt=b=>r.go(b);let gt;const ss=new Set,Wr={currentRoute:l,listening:!0,addRoute:p,removeRoute:m,hasRoute:E,getRoutes:w,resolve:x,options:t,push:G,replace:oe,go:Nt,back:()=>Nt(-1),forward:()=>Nt(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:It.add,isReady:be,install(b){const O=this;b.component("RouterLink",s0),b.component("RouterView",Wf),b.config.globalProperties.$router=O,Object.defineProperty(b.config.globalProperties,"$route",{enumerable:!0,get:()=>fe(l)}),ls&&!gt&&l.value===pn&&(gt=!0,G(r.location).catch(de=>{}));const k={};for(const de in pn)k[de]=J(()=>l.value[de]);b.provide(to,O),b.provide(Bl,Ps(k)),b.provide(Na,l);const B=b.unmount;ss.add(b),b.unmount=function(){ss.delete(b),ss.size<1&&(c=pn,Te&&Te(),Te=null,l.value=pn,gt=!1,ke=!1),B()}}};return Wr}function is(t){return t.reduce((e,n)=>e.then(()=>n()),Promise.resolve())}function l0(t,e){const n=[],s=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(c=>bs(c,a))?s.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>bs(c,l))||r.push(l))}return[n,s,r]}function c0(){return Ae(to)}function u0(){return Ae(Bl)}const h0={__name:"App",setup(t){return(e,n)=>(Ze(),Xi(fe(Wf)))}},f0=["data-zs-src"],d0=Ml('<div id="content"><div class="flex flex-col justify-around mx-auto align-center"><h2 class="mb-4 text-xl text-black uppercase md:text-2xl">Save the Date</h2><h1 class="mb-4 text-4xl font-medium leading-none text-black title xl:text-8xl lg:text-7xl md:text-6xl md:mb-12 sm:text-5xl"><span class="inline-block">Mike</span><small class="inline-block px-6 text-2xl xl:text-5xl lg:text-4xl md:text-3xl">&amp;</small><span class="inline-block">Allie&#39;s</span><br><span class="inline-block">Wedding</span></h1><div class="mt-10 text-base not-italic font-light text-black subtitle md:text-2xl">FEB <span class="xl:text-6xl text-5xl relative top-2.5 pb-3 mx-3.5">18</span> 2023</div><h3 class="mt-24">Invitations to follow</h3></div></div>',1),p0=[d0],g0={__name:"Home",setup(t){let e=['"/images/1.jpg"','"/images/2.jpg"','"/images/3.jpeg"','"/images/4.jpg"'];return(n,s)=>(Ze(),bt("div",{id:"slideshow",class:"relative w-full h-screen overflow-hidden","data-zs-src":"["+fe(e)+"]","data-zs-overlay":"false","data-zs-bullets":"false"},p0,8,f0))}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},m0=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[n++];e[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[s++]=String.fromCharCode(55296+(l>>10)),e[s++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|o&63)}}return e.join("")},y0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const i=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(f=64)),s.push(n[u],n[h],n[f],n[p])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Qf(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):m0(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const i=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const h=r<t.length?n[t.charAt(r)]:64;if(++r,i==null||a==null||c==null||h==null)throw Error();const f=i<<2|a>>4;if(s.push(f),c!==64){const p=a<<4&240|c>>2;if(s.push(p),h!==64){const m=c<<6&192|h;s.push(m)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},v0=function(t){const e=Qf(t);return y0.encodeByteArray(e,!0)},Yf=function(t){return v0(t).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function b0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(no())}function E0(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function _0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function T0(){return no().indexOf("Electron/")>=0}function C0(){const t=no();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function S0(){return no().indexOf("MSAppHost/")>=0}function x0(){return typeof indexedDB=="object"}function I0(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var i;e(((i=r.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="FirebaseError";class Ls extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=A0,Object.setPrototypeOf(this,Ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xf.prototype.create)}}class Xf{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?D0(i,s):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Ls(r,a,s)}}function D0(t,e){return t.replace(k0,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const k0=/\{\$([^}]+)}/g;function Oa(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],o=e[r];if($u(i)&&$u(o)){if(!Oa(i,o))return!1}else if(i!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function $u(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(t){return t&&t._delegate?t._delegate:t}class mr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new w0;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(O0(e))try{this.getOrInitializeService({instanceIdentifier:Mn})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(e=Mn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Mn){return this.instances.has(e)}getOptions(e=Mn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);s===a&&o.resolve(r)}return r}onInit(e,n){var s;const r=this.normalizeInstanceIdentifier(n),i=(s=this.onInitCallbacks.get(r))!==null&&s!==void 0?s:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(!!s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:N0(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Mn){return this.component?this.component.multipleInstances?e:Mn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function N0(t){return t===Mn?void 0:t}function O0(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new R0(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ye||(ye={}));const L0={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},M0=ye.INFO,F0={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},$0=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=F0[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jf{constructor(e){this.name=e,this._logLevel=M0,this._logHandler=$0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?L0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}}const B0=(t,e)=>e.some(n=>t instanceof n);let Bu,Uu;function U0(){return Bu||(Bu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function V0(){return Uu||(Uu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Zf=new WeakMap,Pa=new WeakMap,ed=new WeakMap,Ko=new WeakMap,Ul=new WeakMap;function j0(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(_n(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Zf.set(n,t)}).catch(()=>{}),Ul.set(e,t),e}function H0(t){if(Pa.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Pa.set(t,e)}let La={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Pa.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ed.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _n(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function q0(t){La=t(La)}function K0(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(zo(this),e,...n);return ed.set(s,e.sort?e.sort():[e]),_n(s)}:V0().includes(t)?function(...e){return t.apply(zo(this),e),_n(Zf.get(this))}:function(...e){return _n(t.apply(zo(this),e))}}function z0(t){return typeof t=="function"?K0(t):(t instanceof IDBTransaction&&H0(t),B0(t,U0())?new Proxy(t,La):t)}function _n(t){if(t instanceof IDBRequest)return j0(t);if(Ko.has(t))return Ko.get(t);const e=z0(t);return e!==t&&(Ko.set(t,e),Ul.set(e,t)),e}const zo=t=>Ul.get(t);function G0(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(t,e),a=_n(o);return s&&o.addEventListener("upgradeneeded",l=>{s(_n(o.result),l.oldVersion,l.newVersion,_n(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{i&&l.addEventListener("close",()=>i()),r&&l.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}const W0=["get","getKey","getAll","getAllKeys","count"],Q0=["put","add","delete","clear"],Go=new Map;function Vu(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Go.get(e))return Go.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=Q0.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||W0.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return s&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&l.done]))[0]};return Go.set(e,i),i}q0(t=>({...t,get:(e,n,s)=>Vu(e,n)||t.get(e,n,s),has:(e,n)=>!!Vu(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(X0(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function X0(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ma="@firebase/app",ju="0.7.32";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gn=new Jf("@firebase/app"),J0="@firebase/app-compat",Z0="@firebase/analytics-compat",ew="@firebase/analytics",tw="@firebase/app-check-compat",nw="@firebase/app-check",sw="@firebase/auth",rw="@firebase/auth-compat",iw="@firebase/database",ow="@firebase/database-compat",aw="@firebase/functions",lw="@firebase/functions-compat",cw="@firebase/installations",uw="@firebase/installations-compat",hw="@firebase/messaging",fw="@firebase/messaging-compat",dw="@firebase/performance",pw="@firebase/performance-compat",gw="@firebase/remote-config",mw="@firebase/remote-config-compat",yw="@firebase/storage",vw="@firebase/storage-compat",ww="@firebase/firestore",bw="@firebase/firestore-compat",Ew="firebase",_w="9.9.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td="[DEFAULT]",Tw={[Ma]:"fire-core",[J0]:"fire-core-compat",[ew]:"fire-analytics",[Z0]:"fire-analytics-compat",[nw]:"fire-app-check",[tw]:"fire-app-check-compat",[sw]:"fire-auth",[rw]:"fire-auth-compat",[iw]:"fire-rtdb",[ow]:"fire-rtdb-compat",[aw]:"fire-fn",[lw]:"fire-fn-compat",[cw]:"fire-iid",[uw]:"fire-iid-compat",[hw]:"fire-fcm",[fw]:"fire-fcm-compat",[dw]:"fire-perf",[pw]:"fire-perf-compat",[gw]:"fire-rc",[mw]:"fire-rc-compat",[yw]:"fire-gcs",[vw]:"fire-gcs-compat",[ww]:"fire-fst",[bw]:"fire-fst-compat","fire-js":"fire-js",[Ew]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci=new Map,Fa=new Map;function Cw(t,e){try{t.container.addComponent(e)}catch(n){Gn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Si(t){const e=t.name;if(Fa.has(e))return Gn.debug(`There were multiple attempts to register component ${e}.`),!1;Fa.set(e,t);for(const n of Ci.values())Cw(n,t);return!0}function Sw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Wn=new Xf("app","Firebase",xw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new mr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=_w;function Dw(t,e={}){typeof e!="object"&&(e={name:e});const n=Object.assign({name:td,automaticDataCollectionEnabled:!1},e),s=n.name;if(typeof s!="string"||!s)throw Wn.create("bad-app-name",{appName:String(s)});const r=Ci.get(s);if(r){if(Oa(t,r.options)&&Oa(n,r.config))return r;throw Wn.create("duplicate-app",{appName:s})}const i=new P0(s);for(const a of Fa.values())i.addComponent(a);const o=new Iw(t,n,i);return Ci.set(s,o),o}function kw(t=td){const e=Ci.get(t);if(!e)throw Wn.create("no-app",{appName:t});return e}function gs(t,e,n){var s;let r=(s=Tw[t])!==null&&s!==void 0?s:t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gn.warn(a.join(" "));return}Si(new mr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw="firebase-heartbeat-database",Nw=1,yr="firebase-heartbeat-store";let Wo=null;function nd(){return Wo||(Wo=G0(Rw,Nw,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(yr)}}}).catch(t=>{throw Wn.create("idb-open",{originalErrorMessage:t.message})})),Wo}async function Ow(t){var e;try{return(await nd()).transaction(yr).objectStore(yr).get(sd(t))}catch(n){if(n instanceof Ls)Gn.warn(n.message);else{const s=Wn.create("idb-get",{originalErrorMessage:(e=n)===null||e===void 0?void 0:e.message});Gn.warn(s.message)}}}async function Hu(t,e){var n;try{const r=(await nd()).transaction(yr,"readwrite");return await r.objectStore(yr).put(e,sd(t)),r.done}catch(s){if(s instanceof Ls)Gn.warn(s.message);else{const r=Wn.create("idb-set",{originalErrorMessage:(n=s)===null||n===void 0?void 0:n.message});Gn.warn(r.message)}}}function sd(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=1024,Lw=30*24*60*60*1e3;class Mw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $w(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=qu();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(r=>r.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const i=new Date(r.date).valueOf();return Date.now()-i<=Lw}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=qu(),{heartbeatsToSend:n,unsentEntries:s}=Fw(this._heartbeatsCache.heartbeats),r=Yf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function qu(){return new Date().toISOString().substring(0,10)}function Fw(t,e=Pw){const n=[];let s=t.slice();for(const r of t){const i=n.find(o=>o.agent===r.agent);if(i){if(i.dates.push(r.date),Ku(n)>e){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Ku(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class $w{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return x0()?I0().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Ow(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Hu(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Hu(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Ku(t){return Yf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(t){Si(new mr("platform-logger",e=>new Y0(e),"PRIVATE")),Si(new mr("heartbeat",e=>new Mw(e),"PRIVATE")),gs(Ma,ju,t),gs(Ma,ju,"esm2017"),gs("fire-js","")}Bw("");var Uw="firebase",Vw="9.9.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gs(Uw,Vw,"app");var jw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},M,Vl=Vl||{},Y=jw||self;function xi(){}function $a(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Or(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Hw(t){return Object.prototype.hasOwnProperty.call(t,Qo)&&t[Qo]||(t[Qo]=++qw)}var Qo="closure_uid_"+(1e9*Math.random()>>>0),qw=0;function Kw(t,e,n){return t.call.apply(t.bind,arguments)}function zw(t,e,n){if(!t)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,s),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function tt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?tt=Kw:tt=zw,tt.apply(null,arguments)}function ti(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),t.apply(this,s)}}function rt(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(s,r,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[r].apply(s,o)}}function Dn(){this.s=this.s,this.o=this.o}var Gw=0;Dn.prototype.s=!1;Dn.prototype.na=function(){!this.s&&(this.s=!0,this.M(),Gw!=0)&&Hw(this)};Dn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const rd=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},id=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const s=t.length,r=typeof t=="string"?t.split(""):t;for(let i=0;i<s;i++)i in r&&e.call(n,r[i],i,t)};function Ww(t){e:{var e=Bb;const n=t.length,s=typeof t=="string"?t.split(""):t;for(let r=0;r<n;r++)if(r in s&&e.call(void 0,s[r],r,t)){e=r;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function zu(t){return Array.prototype.concat.apply([],arguments)}function jl(t){const e=t.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=t[s];return n}return[]}function Ii(t){return/^[\s\xa0]*$/.test(t)}var Gu=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function ft(t,e){return t.indexOf(e)!=-1}function Yo(t,e){return t<e?-1:t>e?1:0}var dt;e:{var Wu=Y.navigator;if(Wu){var Qu=Wu.userAgent;if(Qu){dt=Qu;break e}}dt=""}function Hl(t,e,n){for(const s in t)e.call(n,t[s],s,t)}function od(t){const e={};for(const n in t)e[n]=t[n];return e}var Yu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ad(t,e){let n,s;for(let r=1;r<arguments.length;r++){s=arguments[r];for(n in s)t[n]=s[n];for(let i=0;i<Yu.length;i++)n=Yu[i],Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}}function ql(t){return ql[" "](t),t}ql[" "]=xi;function Qw(t){var e=Jw;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var Yw=ft(dt,"Opera"),_s=ft(dt,"Trident")||ft(dt,"MSIE"),ld=ft(dt,"Edge"),Ba=ld||_s,cd=ft(dt,"Gecko")&&!(ft(dt.toLowerCase(),"webkit")&&!ft(dt,"Edge"))&&!(ft(dt,"Trident")||ft(dt,"MSIE"))&&!ft(dt,"Edge"),Xw=ft(dt.toLowerCase(),"webkit")&&!ft(dt,"Edge");function ud(){var t=Y.document;return t?t.documentMode:void 0}var Ai;e:{var Xo="",Jo=function(){var t=dt;if(cd)return/rv:([^\);]+)(\)|;)/.exec(t);if(ld)return/Edge\/([\d\.]+)/.exec(t);if(_s)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Xw)return/WebKit\/(\S+)/.exec(t);if(Yw)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Jo&&(Xo=Jo?Jo[1]:""),_s){var Zo=ud();if(Zo!=null&&Zo>parseFloat(Xo)){Ai=String(Zo);break e}}Ai=Xo}var Jw={};function Zw(){return Qw(function(){let t=0;const e=Gu(String(Ai)).split("."),n=Gu("9").split("."),s=Math.max(e.length,n.length);for(let o=0;t==0&&o<s;o++){var r=e[o]||"",i=n[o]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],r[0].length==0&&i[0].length==0)break;t=Yo(r[1].length==0?0:parseInt(r[1],10),i[1].length==0?0:parseInt(i[1],10))||Yo(r[2].length==0,i[2].length==0)||Yo(r[2],i[2]),r=r[3],i=i[3]}while(t==0)}return 0<=t})}var Ua;if(Y.document&&_s){var Xu=ud();Ua=Xu||parseInt(Ai,10)||void 0}else Ua=void 0;var eb=Ua,tb=function(){if(!Y.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Y.addEventListener("test",xi,e),Y.removeEventListener("test",xi,e)}catch{}return t}();function lt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};function vr(t,e){if(lt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,s=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(cd){e:{try{ql(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,s?(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:nb[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&vr.Z.h.call(this)}}rt(vr,lt);var nb={2:"touch",3:"pen",4:"mouse"};vr.prototype.h=function(){vr.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Pr="closure_listenable_"+(1e6*Math.random()|0),sb=0;function rb(t,e,n,s,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.ia=r,this.key=++sb,this.ca=this.fa=!1}function so(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function ro(t){this.src=t,this.g={},this.h=0}ro.prototype.add=function(t,e,n,s,r){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=ja(t,e,s,r);return-1<o?(e=t[o],n||(e.fa=!1)):(e=new rb(e,this.src,i,!!s,r),e.fa=n,t.push(e)),e};function Va(t,e){var n=e.type;if(n in t.g){var s=t.g[n],r=rd(s,e),i;(i=0<=r)&&Array.prototype.splice.call(s,r,1),i&&(so(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function ja(t,e,n,s){for(var r=0;r<t.length;++r){var i=t[r];if(!i.ca&&i.listener==e&&i.capture==!!n&&i.ia==s)return r}return-1}var Kl="closure_lm_"+(1e6*Math.random()|0),ea={};function hd(t,e,n,s,r){if(s&&s.once)return dd(t,e,n,s,r);if(Array.isArray(e)){for(var i=0;i<e.length;i++)hd(t,e[i],n,s,r);return null}return n=Wl(n),t&&t[Pr]?t.N(e,n,Or(s)?!!s.capture:!!s,r):fd(t,e,n,!1,s,r)}function fd(t,e,n,s,r,i){if(!e)throw Error("Invalid event type");var o=Or(r)?!!r.capture:!!r,a=Gl(t);if(a||(t[Kl]=a=new ro(t)),n=a.add(e,n,s,o,i),n.proxy)return n;if(s=ib(),n.proxy=s,s.src=t,s.listener=n,t.addEventListener)tb||(r=o),r===void 0&&(r=!1),t.addEventListener(e.toString(),s,r);else if(t.attachEvent)t.attachEvent(gd(e.toString()),s);else if(t.addListener&&t.removeListener)t.addListener(s);else throw Error("addEventListener and attachEvent are unavailable.");return n}function ib(){function t(n){return e.call(t.src,t.listener,n)}var e=ob;return t}function dd(t,e,n,s,r){if(Array.isArray(e)){for(var i=0;i<e.length;i++)dd(t,e[i],n,s,r);return null}return n=Wl(n),t&&t[Pr]?t.O(e,n,Or(s)?!!s.capture:!!s,r):fd(t,e,n,!0,s,r)}function pd(t,e,n,s,r){if(Array.isArray(e))for(var i=0;i<e.length;i++)pd(t,e[i],n,s,r);else s=Or(s)?!!s.capture:!!s,n=Wl(n),t&&t[Pr]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=ja(i,n,s,r),-1<n&&(so(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=Gl(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ja(e,n,s,r)),(n=-1<t?e[t]:null)&&zl(n))}function zl(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[Pr])Va(e.i,t);else{var n=t.type,s=t.proxy;e.removeEventListener?e.removeEventListener(n,s,t.capture):e.detachEvent?e.detachEvent(gd(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=Gl(e))?(Va(n,t),n.h==0&&(n.src=null,e[Kl]=null)):so(t)}}}function gd(t){return t in ea?ea[t]:ea[t]="on"+t}function ob(t,e){if(t.ca)t=!0;else{e=new vr(e,this);var n=t.listener,s=t.ia||t.src;t.fa&&zl(t),t=n.call(s,e)}return t}function Gl(t){return t=t[Kl],t instanceof ro?t:null}var ta="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wl(t){return typeof t=="function"?t:(t[ta]||(t[ta]=function(e){return t.handleEvent(e)}),t[ta])}function Ye(){Dn.call(this),this.i=new ro(this),this.P=this,this.I=null}rt(Ye,Dn);Ye.prototype[Pr]=!0;Ye.prototype.removeEventListener=function(t,e,n,s){pd(this,t,e,n,s)};function nt(t,e){var n,s=t.I;if(s)for(n=[];s;s=s.I)n.push(s);if(t=t.P,s=e.type||e,typeof e=="string")e=new lt(e,t);else if(e instanceof lt)e.target=e.target||t;else{var r=e;e=new lt(s,t),ad(e,r)}if(r=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];r=ni(o,s,!0,e)&&r}if(o=e.g=t,r=ni(o,s,!0,e)&&r,r=ni(o,s,!1,e)&&r,n)for(i=0;i<n.length;i++)o=e.g=n[i],r=ni(o,s,!1,e)&&r}Ye.prototype.M=function(){if(Ye.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],s=0;s<n.length;s++)so(n[s]);delete t.g[e],t.h--}}this.I=null};Ye.prototype.N=function(t,e,n,s){return this.i.add(String(t),e,!1,n,s)};Ye.prototype.O=function(t,e,n,s){return this.i.add(String(t),e,!0,n,s)};function ni(t,e,n,s){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.ca&&o.capture==n){var a=o.listener,l=o.ia||o.src;o.fa&&Va(t.i,o),r=a.call(l,s)!==!1&&r}}return r&&!s.defaultPrevented}var Ql=Y.JSON.stringify;function ab(){var t=yd;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class lb{constructor(){this.h=this.g=null}add(e,n){const s=md.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}}var md=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new cb,t=>t.reset());class cb{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function ub(t){Y.setTimeout(()=>{throw t},0)}function Yl(t,e){Ha||hb(),qa||(Ha(),qa=!0),yd.add(t,e)}var Ha;function hb(){var t=Y.Promise.resolve(void 0);Ha=function(){t.then(fb)}}var qa=!1,yd=new lb;function fb(){for(var t;t=ab();){try{t.h.call(t.g)}catch(n){ub(n)}var e=md;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}qa=!1}function io(t,e){Ye.call(this),this.h=t||1,this.g=e||Y,this.j=tt(this.kb,this),this.l=Date.now()}rt(io,Ye);M=io.prototype;M.da=!1;M.S=null;M.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),nt(this,"tick"),this.da&&(Xl(this),this.start()))}};M.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Xl(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}M.M=function(){io.Z.M.call(this),Xl(this),delete this.g};function Jl(t,e,n){if(typeof t=="function")n&&(t=tt(t,n));else if(t&&typeof t.handleEvent=="function")t=tt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Y.setTimeout(t,e||0)}function vd(t){t.g=Jl(()=>{t.g=null,t.i&&(t.i=!1,vd(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class db extends Dn{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:vd(this)}M(){super.M(),this.g&&(Y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wr(t){Dn.call(this),this.h=t,this.g={}}rt(wr,Dn);var Ju=[];function wd(t,e,n,s){Array.isArray(n)||(n&&(Ju[0]=n.toString()),n=Ju);for(var r=0;r<n.length;r++){var i=hd(e,n[r],s||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function bd(t){Hl(t.g,function(e,n){this.g.hasOwnProperty(n)&&zl(e)},t),t.g={}}wr.prototype.M=function(){wr.Z.M.call(this),bd(this)};wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function oo(){this.g=!0}oo.prototype.Aa=function(){this.g=!1};function pb(t,e,n,s,r,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+s+") [attempt "+r+"]: "+e+`
`+n+`
`+o})}function gb(t,e,n,s,r,i,o){t.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+r+"]: "+e+`
`+n+`
`+i+" "+o})}function cs(t,e,n,s){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+yb(t,n)+(s?" "+s:"")})}function mb(t,e){t.info(function(){return"TIMEOUT: "+e})}oo.prototype.info=function(){};function yb(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var s=n[t];if(!(2>s.length)){var r=s[1];if(Array.isArray(r)&&!(1>r.length)){var i=r[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<r.length;o++)r[o]=""}}}}return Ql(n)}catch{return e}}var Zn={},Zu=null;function ao(){return Zu=Zu||new Ye}Zn.Ma="serverreachability";function Ed(t){lt.call(this,Zn.Ma,t)}rt(Ed,lt);function br(t){const e=ao();nt(e,new Ed(e))}Zn.STAT_EVENT="statevent";function _d(t,e){lt.call(this,Zn.STAT_EVENT,t),this.stat=e}rt(_d,lt);function pt(t){const e=ao();nt(e,new _d(e,t))}Zn.Na="timingevent";function Td(t,e){lt.call(this,Zn.Na,t),this.size=e}rt(Td,lt);function Lr(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Y.setTimeout(function(){t()},e)}var lo={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Cd={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Zl(){}Zl.prototype.h=null;function eh(t){return t.h||(t.h=t.i())}function Sd(){}var Mr={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ec(){lt.call(this,"d")}rt(ec,lt);function tc(){lt.call(this,"c")}rt(tc,lt);var Ka;function co(){}rt(co,Zl);co.prototype.g=function(){return new XMLHttpRequest};co.prototype.i=function(){return{}};Ka=new co;function Fr(t,e,n,s){this.l=t,this.j=e,this.m=n,this.X=s||1,this.V=new wr(this),this.P=vb,t=Ba?125:void 0,this.W=new io(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new xd}function xd(){this.i=null,this.g="",this.h=!1}var vb=45e3,za={},Di={};M=Fr.prototype;M.setTimeout=function(t){this.P=t};function Ga(t,e,n){t.K=1,t.v=ho(ln(e)),t.s=n,t.U=!0,Id(t,null)}function Id(t,e){t.F=Date.now(),$r(t),t.A=ln(t.v);var n=t.A,s=t.X;Array.isArray(s)||(s=[String(s)]),Pd(n.h,"t",s),t.C=0,n=t.l.H,t.h=new xd,t.g=ep(t.l,n?e:null,!t.s),0<t.O&&(t.L=new db(tt(t.Ia,t,t.g),t.O)),wd(t.V,t.g,"readystatechange",t.gb),e=t.H?od(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),br(),pb(t.j,t.u,t.A,t.m,t.X,t.s)}M.gb=function(t){t=t.target;const e=this.L;e&&tn(t)==3?e.l():this.Ia(t)};M.Ia=function(t){try{if(t==this.g)e:{const u=tn(this.g);var e=this.g.Da();const h=this.g.ba();if(!(3>u)&&(u!=3||Ba||this.g&&(this.h.h||this.g.ga()||rh(this.g)))){this.I||u!=4||e==7||(e==8||0>=h?br(3):br(2)),uo(this);var n=this.g.ba();this.N=n;t:if(Ad(this)){var s=rh(this.g);t="";var r=s.length,i=tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vn(this),nr(this);var o="";break t}this.h.i=new Y.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(s[e],{stream:i&&e==r-1});s.splice(0,r),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=n==200,gb(this.j,this.u,this.A,this.m,this.X,u,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ii(a)){var c=a;break t}}c=null}if(n=c)cs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Wa(this,n);else{this.i=!1,this.o=3,pt(12),Vn(this),nr(this);break e}}this.U?(Dd(this,u,o),Ba&&this.i&&u==3&&(wd(this.V,this.W,"tick",this.fb),this.W.start())):(cs(this.j,this.m,o,null),Wa(this,o)),u==4&&Vn(this),this.i&&!this.I&&(u==4?Yd(this.l,this):(this.i=!1,$r(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,pt(12)):(this.o=0,pt(13)),Vn(this),nr(this)}}}catch{}finally{}};function Ad(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function Dd(t,e,n){let s=!0,r;for(;!t.I&&t.C<n.length;)if(r=wb(t,n),r==Di){e==4&&(t.o=4,pt(14),s=!1),cs(t.j,t.m,null,"[Incomplete Response]");break}else if(r==za){t.o=4,pt(15),cs(t.j,t.m,n,"[Invalid Chunk]"),s=!1;break}else cs(t.j,t.m,r,null),Wa(t,r);Ad(t)&&r!=Di&&r!=za&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,pt(16),s=!1),t.i=t.i&&s,s?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),uc(e),e.L=!0,pt(11))):(cs(t.j,t.m,n,"[Invalid Chunked Response]"),Vn(t),nr(t))}M.fb=function(){if(this.g){var t=tn(this.g),e=this.g.ga();this.C<e.length&&(uo(this),Dd(this,t,e),this.i&&t!=4&&$r(this))}};function wb(t,e){var n=t.C,s=e.indexOf(`
`,n);return s==-1?Di:(n=Number(e.substring(n,s)),isNaN(n)?za:(s+=1,s+n>e.length?Di:(e=e.substr(s,n),t.C=s+n,e)))}M.cancel=function(){this.I=!0,Vn(this)};function $r(t){t.Y=Date.now()+t.P,kd(t,t.P)}function kd(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Lr(tt(t.eb,t),e)}function uo(t){t.B&&(Y.clearTimeout(t.B),t.B=null)}M.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(mb(this.j,this.A),this.K!=2&&(br(),pt(17)),Vn(this),this.o=2,nr(this)):kd(this,this.Y-t)};function nr(t){t.l.G==0||t.I||Yd(t.l,t)}function Vn(t){uo(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,Xl(t.W),bd(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Wa(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Qa(n.i,t))){if(n.I=t.N,!t.J&&Qa(n.i,t)&&n.G==3){try{var s=n.Ca.g.parse(e)}catch{s=null}if(Array.isArray(s)&&s.length==3){var r=s;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Oi(n),go(n);else break e;cc(n),pt(18)}}else n.ta=r[1],0<n.ta-n.U&&37500>r[2]&&n.N&&n.A==0&&!n.v&&(n.v=Lr(tt(n.ab,n),6e3));if(1>=Fd(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else jn(n,11)}else if((t.J||n.g==t)&&Oi(n),!Ii(e))for(r=n.Ca.g.parse(e),e=0;e<r.length;e++){let c=r[e];if(n.U=c[0],c=c[1],n.G==2)if(c[0]=="c"){n.J=c[1],n.la=c[2];const u=c[3];u!=null&&(n.ma=u,n.h.info("VER="+n.ma));const h=c[4];h!=null&&(n.za=h,n.h.info("SVER="+n.za));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(s=1.5*f,n.K=s,n.h.info("backChannelRequestTimeoutMs_="+s)),s=n;const p=t.g;if(p){const m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var i=s.i;!i.g&&(ft(m,"spdy")||ft(m,"quic")||ft(m,"h2"))&&(i.j=i.l,i.g=new Set,i.h&&(rc(i,i.h),i.h=null))}if(s.D){const w=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(s.sa=w,xe(s.F,s.D,w))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),s=n;var o=t;if(s.oa=Zd(s,s.H?s.la:null,s.W),o.J){$d(s.i,o);var a=o,l=s.K;l&&a.setTimeout(l),a.B&&(uo(a),$r(a)),s.g=o}else Wd(s);0<n.l.length&&mo(n)}else c[0]!="stop"&&c[0]!="close"||jn(n,7);else n.G==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?jn(n,7):lc(n):c[0]!="noop"&&n.j&&n.j.wa(c),n.A=0)}}br(4)}catch{}}function bb(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if($a(t)){for(var e=[],n=t.length,s=0;s<n;s++)e.push(t[s]);return e}e=[],n=0;for(s in t)e[n++]=t[s];return e}function nc(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if($a(t)||typeof t=="string")id(t,e,void 0);else{if(t.T&&typeof t.T=="function")var n=t.T();else if(t.R&&typeof t.R=="function")n=void 0;else if($a(t)||typeof t=="string"){n=[];for(var s=t.length,r=0;r<s;r++)n.push(r)}else for(r in n=[],s=0,t)n[s++]=r;s=bb(t),r=s.length;for(var i=0;i<r;i++)e.call(void 0,s[i],n&&n[i],t)}}function Ms(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var s=0;s<n;s+=2)this.set(arguments[s],arguments[s+1])}else if(t)if(t instanceof Ms)for(n=t.T(),s=0;s<n.length;s++)this.set(n[s],t.get(n[s]));else for(s in t)this.set(s,t[s])}M=Ms.prototype;M.R=function(){sc(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};M.T=function(){return sc(this),this.g.concat()};function sc(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var s=t.g[e];Qn(t.h,s)&&(t.g[n++]=s),e++}t.g.length=n}if(t.i!=t.g.length){var r={};for(n=e=0;e<t.g.length;)s=t.g[e],Qn(r,s)||(t.g[n++]=s,r[s]=1),e++;t.g.length=n}}M.get=function(t,e){return Qn(this.h,t)?this.h[t]:e};M.set=function(t,e){Qn(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};M.forEach=function(t,e){for(var n=this.T(),s=0;s<n.length;s++){var r=n[s],i=this.get(r);t.call(e,i,r,this)}};function Qn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Rd=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Eb(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var s=t[n].indexOf("="),r=null;if(0<=s){var i=t[n].substring(0,s);r=t[n].substring(s+1)}else i=t[n];e(i,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function Yn(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Yn){this.g=e!==void 0?e:t.g,ki(this,t.j),this.s=t.s,Ri(this,t.i),Ni(this,t.m),this.l=t.l,e=t.h;var n=new Er;n.i=e.i,e.g&&(n.g=new Ms(e.g),n.h=e.h),th(this,n),this.o=t.o}else t&&(n=String(t).match(Rd))?(this.g=!!e,ki(this,n[1]||"",!0),this.s=sr(n[2]||""),Ri(this,n[3]||"",!0),Ni(this,n[4]),this.l=sr(n[5]||"",!0),th(this,n[6]||"",!0),this.o=sr(n[7]||"")):(this.g=!!e,this.h=new Er(null,this.g))}Yn.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Qs(e,nh,!0),":");var n=this.i;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Qs(e,nh,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&t.push("/"),t.push(Qs(n,n.charAt(0)=="/"?xb:Sb,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Qs(n,Ab)),t.join("")};function ln(t){return new Yn(t)}function ki(t,e,n){t.j=n?sr(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ri(t,e,n){t.i=n?sr(e,!0):e}function Ni(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function th(t,e,n){e instanceof Er?(t.h=e,Db(t.h,t.g)):(n||(e=Qs(e,Ib)),t.h=new Er(e,t.g))}function xe(t,e,n){t.h.set(e,n)}function ho(t){return xe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function _b(t){return t instanceof Yn?ln(t):new Yn(t,void 0)}function Tb(t,e,n,s){var r=new Yn(null,void 0);return t&&ki(r,t),e&&Ri(r,e),n&&Ni(r,n),s&&(r.l=s),r}function sr(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Qs(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Cb),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Cb(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var nh=/[#\/\?@]/g,Sb=/[#\?:]/g,xb=/[#\?]/g,Ib=/[#\?@]/g,Ab=/#/g;function Er(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function kn(t){t.g||(t.g=new Ms,t.h=0,t.i&&Eb(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}M=Er.prototype;M.add=function(t,e){kn(this),this.i=null,t=Fs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Nd(t,e){kn(t),e=Fs(t,e),Qn(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,Qn(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&sc(t)))}function Od(t,e){return kn(t),e=Fs(t,e),Qn(t.g.h,e)}M.forEach=function(t,e){kn(this),this.g.forEach(function(n,s){id(n,function(r){t.call(e,r,s,this)},this)},this)};M.T=function(){kn(this);for(var t=this.g.R(),e=this.g.T(),n=[],s=0;s<e.length;s++)for(var r=t[s],i=0;i<r.length;i++)n.push(e[s]);return n};M.R=function(t){kn(this);var e=[];if(typeof t=="string")Od(this,t)&&(e=zu(e,this.g.get(Fs(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=zu(e,t[n])}return e};M.set=function(t,e){return kn(this),this.i=null,t=Fs(this,t),Od(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};M.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function Pd(t,e,n){Nd(t,e),0<n.length&&(t.i=null,t.g.set(Fs(t,e),jl(n)),t.h+=n.length)}M.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var s=e[n],r=encodeURIComponent(String(s));s=this.R(s);for(var i=0;i<s.length;i++){var o=r;s[i]!==""&&(o+="="+encodeURIComponent(String(s[i]))),t.push(o)}}return this.i=t.join("&")};function Fs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Db(t,e){e&&!t.j&&(kn(t),t.i=null,t.g.forEach(function(n,s){var r=s.toLowerCase();s!=r&&(Nd(this,s),Pd(this,r,n))},t)),t.j=e}var kb=class{constructor(t,e){this.h=t,this.g=e}};function Ld(t){this.l=t||Rb,Y.PerformanceNavigationTiming?(t=Y.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Y.g&&Y.g.Ea&&Y.g.Ea()&&Y.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Rb=10;function Md(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Fd(t){return t.h?1:t.g?t.g.size:0}function Qa(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function rc(t,e){t.g?t.g.add(e):t.h=e}function $d(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Ld.prototype.cancel=function(){if(this.i=Bd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Bd(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return jl(t.i)}function ic(){}ic.prototype.stringify=function(t){return Y.JSON.stringify(t,void 0)};ic.prototype.parse=function(t){return Y.JSON.parse(t,void 0)};function Nb(){this.g=new ic}function Ob(t,e,n){const s=n||"";try{nc(t,function(r,i){let o=r;Or(r)&&(o=Ql(r)),e.push(s+i+"="+encodeURIComponent(o))})}catch(r){throw e.push(s+"type="+encodeURIComponent("_badmap")),r}}function Pb(t,e){const n=new oo;if(Y.Image){const s=new Image;s.onload=ti(si,n,s,"TestLoadImage: loaded",!0,e),s.onerror=ti(si,n,s,"TestLoadImage: error",!1,e),s.onabort=ti(si,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=ti(si,n,s,"TestLoadImage: timeout",!1,e),Y.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=t}else e(!1)}function si(t,e,n,s,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(s)}catch{}}function Br(t){this.l=t.$b||null,this.j=t.ib||!1}rt(Br,Zl);Br.prototype.g=function(){return new fo(this.l,this.j)};Br.prototype.i=function(t){return function(){return t}}({});function fo(t,e){Ye.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=oc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rt(fo,Ye);var oc=0;M=fo.prototype;M.open=function(t,e){if(this.readyState!=oc)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,_r(this)};M.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Y).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};M.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ur(this)),this.readyState=oc};M.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,_r(this)),this.g&&(this.readyState=3,_r(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Y.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ud(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function Ud(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}M.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ur(this):_r(this),this.readyState==3&&Ud(this)}};M.Ua=function(t){this.g&&(this.response=this.responseText=t,Ur(this))};M.Ta=function(t){this.g&&(this.response=t,Ur(this))};M.ha=function(){this.g&&Ur(this)};function Ur(t){t.readyState=4,t.l=null,t.j=null,t.A=null,_r(t)}M.setRequestHeader=function(t,e){this.v.append(t,e)};M.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};M.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function _r(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(fo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Lb=Y.JSON.parse;function Me(t){Ye.call(this),this.headers=new Ms,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Vd,this.K=this.L=!1}rt(Me,Ye);var Vd="",Mb=/^https?$/i,Fb=["POST","PUT"];M=Me.prototype;M.ea=function(t,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ka.g(),this.C=this.u?eh(this.u):eh(Ka),this.g.onreadystatechange=tt(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(i){sh(this,i);return}t=n||"";const r=new Ms(this.headers);s&&nc(s,function(i,o){r.set(o,i)}),s=Ww(r.T()),n=Y.FormData&&t instanceof Y.FormData,!(0<=rd(Fb,e))||s||n||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(i,o){this.g.setRequestHeader(o,i)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{qd(this),0<this.B&&((this.K=$b(this.g))?(this.g.timeout=this.B,this.g.ontimeout=tt(this.pa,this)):this.A=Jl(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){sh(this,i)}};function $b(t){return _s&&Zw()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function Bb(t){return t.toLowerCase()=="content-type"}M.pa=function(){typeof Vl<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,nt(this,"timeout"),this.abort(8))};function sh(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,jd(t),po(t)}function jd(t){t.D||(t.D=!0,nt(t,"complete"),nt(t,"error"))}M.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,nt(this,"complete"),nt(this,"abort"),po(this))};M.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),po(this,!0)),Me.Z.M.call(this)};M.Fa=function(){this.s||(this.F||this.v||this.l?Hd(this):this.cb())};M.cb=function(){Hd(this)};function Hd(t){if(t.h&&typeof Vl<"u"&&(!t.C[1]||tn(t)!=4||t.ba()!=2)){if(t.v&&tn(t)==4)Jl(t.Fa,0,t);else if(nt(t,"readystatechange"),tn(t)==4){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var s;if(s=a===0){var r=String(t.H).match(Rd)[1]||null;if(!r&&Y.self&&Y.self.location){var i=Y.self.location.protocol;r=i.substr(0,i.length-1)}s=!Mb.test(r?r.toLowerCase():"")}n=s}if(n)nt(t,"complete"),nt(t,"success");else{t.m=6;try{var o=2<tn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.ba()+"]",jd(t)}}finally{po(t)}}}}function po(t,e){if(t.g){qd(t);const n=t.g,s=t.C[0]?xi:null;t.g=null,t.C=null,e||nt(t,"ready");try{n.onreadystatechange=s}catch{}}}function qd(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Y.clearTimeout(t.A),t.A=null)}function tn(t){return t.g?t.g.readyState:0}M.ba=function(){try{return 2<tn(this)?this.g.status:-1}catch{return-1}};M.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};M.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Lb(e)}};function rh(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Vd:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}M.Da=function(){return this.m};M.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function Ub(t){let e="";return Hl(t,function(n,s){e+=s,e+=":",e+=n,e+=`\r
`}),e}function ac(t,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=Ub(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):xe(t,e,n))}function zs(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Kd(t){this.za=0,this.l=[],this.h=new oo,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=zs("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=zs("baseRetryDelayMs",5e3,t),this.$a=zs("retryDelaySeedMs",1e4,t),this.Ya=zs("forwardChannelMaxRetries",2,t),this.ra=zs("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new Ld(t&&t.concurrentRequestLimit),this.Ca=new Nb,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}M=Kd.prototype;M.ma=8;M.G=1;function lc(t){if(zd(t),t.G==3){var e=t.V++,n=ln(t.F);xe(n,"SID",t.J),xe(n,"RID",e),xe(n,"TYPE","terminate"),Vr(t,n),e=new Fr(t,t.h,e,void 0),e.K=2,e.v=ho(ln(n)),n=!1,Y.navigator&&Y.navigator.sendBeacon&&(n=Y.navigator.sendBeacon(e.v.toString(),"")),!n&&Y.Image&&(new Image().src=e.v,n=!0),n||(e.g=ep(e.l,null),e.g.ea(e.v)),e.F=Date.now(),$r(e)}Jd(t)}M.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function go(t){t.g&&(uc(t),t.g.cancel(),t.g=null)}function zd(t){go(t),t.u&&(Y.clearTimeout(t.u),t.u=null),Oi(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Y.clearTimeout(t.m),t.m=null)}function na(t,e){t.l.push(new kb(t.Za++,e)),t.G==3&&mo(t)}function mo(t){Md(t.i)||t.m||(t.m=!0,Yl(t.Ha,t),t.C=0)}function Vb(t,e){return Fd(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=Lr(tt(t.Ha,t,e),Xd(t,t.C)),t.C++,!0)}M.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const r=new Fr(this,this.h,t,void 0);let i=this.s;if(this.P&&(i?(i=od(i),ad(i,this.P)):i=this.P),this.o===null&&(r.H=i),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){t:{var s=this.l[n];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(e+=s,4096<e){e=n;break e}if(e===4096||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Gd(this,r,e),n=ln(this.F),xe(n,"RID",t),xe(n,"CVER",22),this.D&&xe(n,"X-HTTP-Session-Id",this.D),Vr(this,n),this.o&&i&&ac(n,this.o,i),rc(this.i,r),this.Ra&&xe(n,"TYPE","init"),this.ja?(xe(n,"$req",e),xe(n,"SID","null"),r.$=!0,Ga(r,n,null)):Ga(r,n,e),this.G=2}}else this.G==3&&(t?ih(this,t):this.l.length==0||Md(this.i)||ih(this))};function ih(t,e){var n;e?n=e.m:n=t.V++;const s=ln(t.F);xe(s,"SID",t.J),xe(s,"RID",n),xe(s,"AID",t.U),Vr(t,s),t.o&&t.s&&ac(s,t.o,t.s),n=new Fr(t,t.h,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Gd(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),rc(t.i,n),Ga(n,s,e)}function Vr(t,e){t.j&&nc({},function(n,s){xe(e,s,n)})}function Gd(t,e,n){n=Math.min(t.l.length,n);var s=t.j?tt(t.j.Oa,t.j,t):null;e:{var r=t.l;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=r[0].h,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let c=r[l].h;const u=r[l].g;if(c-=i,0>c)i=Math.max(0,r[l].h-100),a=!1;else try{Ob(u,o,"req"+c+"_")}catch{s&&s(u)}}if(a){s=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,s}function Wd(t){t.g||t.u||(t.Y=1,Yl(t.Ga,t),t.A=0)}function cc(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=Lr(tt(t.Ga,t),Xd(t,t.A)),t.A++,!0)}M.Ga=function(){if(this.u=null,Qd(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Lr(tt(this.bb,this),t)}};M.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,pt(10),go(this),Qd(this))};function uc(t){t.B!=null&&(Y.clearTimeout(t.B),t.B=null)}function Qd(t){t.g=new Fr(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=ln(t.oa);xe(e,"RID","rpc"),xe(e,"SID",t.J),xe(e,"CI",t.N?"0":"1"),xe(e,"AID",t.U),Vr(t,e),xe(e,"TYPE","xmlhttp"),t.o&&t.s&&ac(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=ho(ln(e)),n.s=null,n.U=!0,Id(n,t)}M.ab=function(){this.v!=null&&(this.v=null,go(this),cc(this),pt(19))};function Oi(t){t.v!=null&&(Y.clearTimeout(t.v),t.v=null)}function Yd(t,e){var n=null;if(t.g==e){Oi(t),uc(t),t.g=null;var s=2}else if(Qa(t.i,e))n=e.D,$d(t.i,e),s=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(s==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var r=t.C;s=ao(),nt(s,new Td(s,n)),mo(t)}else Wd(t);else if(r=e.o,r==3||r==0&&0<t.I||!(s==1&&Vb(t,e)||s==2&&cc(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:jn(t,5);break;case 4:jn(t,10);break;case 3:jn(t,6);break;default:jn(t,2)}}}function Xd(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function jn(t,e){if(t.h.info("Error code "+e),e==2){var n=null;t.j&&(n=null);var s=tt(t.jb,t);n||(n=new Yn("//www.google.com/images/cleardot.gif"),Y.location&&Y.location.protocol=="http"||ki(n,"https"),ho(n)),Pb(n.toString(),s)}else pt(2);t.G=0,t.j&&t.j.va(e),Jd(t),zd(t)}M.jb=function(t){t?(this.h.info("Successfully pinged google.com"),pt(2)):(this.h.info("Failed to ping google.com"),pt(1))};function Jd(t){t.G=0,t.I=-1,t.j&&((Bd(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,jl(t.l),t.l.length=0),t.j.ua())}function Zd(t,e,n){let s=_b(n);if(s.i!="")e&&Ri(s,e+"."+s.i),Ni(s,s.m);else{const r=Y.location;s=Tb(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,n)}return t.aa&&Hl(t.aa,function(r,i){xe(s,i,r)}),e=t.D,n=t.sa,e&&n&&xe(s,e,n),xe(s,"VER",t.ma),Vr(t,s),s}function ep(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new Me(new Br({ib:!0})):new Me(t.qa),e.L=t.H,e}function tp(){}M=tp.prototype;M.xa=function(){};M.wa=function(){};M.va=function(){};M.ua=function(){};M.Oa=function(){};function Pi(){if(_s&&!(10<=Number(eb)))throw Error("Environmental error: no available transport.")}Pi.prototype.g=function(t,e){return new xt(t,e)};function xt(t,e){Ye.call(this),this.g=new Kd(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Ii(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ii(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new $s(this)}rt(xt,Ye);xt.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Yl(tt(t.hb,t,e))),pt(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=Zd(t,null,t.W),mo(t)};xt.prototype.close=function(){lc(this.g)};xt.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,na(this.g,e)}else this.v?(e={},e.__data__=Ql(t),na(this.g,e)):na(this.g,t)};xt.prototype.M=function(){this.g.j=null,delete this.j,lc(this.g),delete this.g,xt.Z.M.call(this)};function np(t){ec.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}rt(np,ec);function sp(){tc.call(this),this.status=1}rt(sp,tc);function $s(t){this.g=t}rt($s,tp);$s.prototype.xa=function(){nt(this.g,"a")};$s.prototype.wa=function(t){nt(this.g,new np(t))};$s.prototype.va=function(t){nt(this.g,new sp)};$s.prototype.ua=function(){nt(this.g,"b")};Pi.prototype.createWebChannel=Pi.prototype.g;xt.prototype.send=xt.prototype.u;xt.prototype.open=xt.prototype.m;xt.prototype.close=xt.prototype.close;lo.NO_ERROR=0;lo.TIMEOUT=8;lo.HTTP_ERROR=6;Cd.COMPLETE="complete";Sd.EventType=Mr;Mr.OPEN="a";Mr.CLOSE="b";Mr.ERROR="c";Mr.MESSAGE="d";Ye.prototype.listen=Ye.prototype.N;Me.prototype.listenOnce=Me.prototype.O;Me.prototype.getLastError=Me.prototype.La;Me.prototype.getLastErrorCode=Me.prototype.Da;Me.prototype.getStatus=Me.prototype.ba;Me.prototype.getResponseJson=Me.prototype.Qa;Me.prototype.getResponseText=Me.prototype.ga;Me.prototype.send=Me.prototype.ea;var jb=function(){return new Pi},Hb=function(){return ao()},sa=lo,qb=Cd,Kb=Zn,oh={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},zb=Br,ri=Sd,Gb=Me;const ah="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yt.UNAUTHENTICATED=new yt(null),yt.GOOGLE_CREDENTIALS=new yt("google-credentials-uid"),yt.FIRST_PARTY=new yt("first-party-uid"),yt.MOCK_USER=new yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bs="9.9.4";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xn=new Jf("@firebase/firestore");function lh(){return Xn.logLevel}function $(t,...e){if(Xn.logLevel<=ye.DEBUG){const n=e.map(hc);Xn.debug(`Firestore (${Bs}): ${t}`,...n)}}function cn(t,...e){if(Xn.logLevel<=ye.ERROR){const n=e.map(hc);Xn.error(`Firestore (${Bs}): ${t}`,...n)}}function ch(t,...e){if(Xn.logLevel<=ye.WARN){const n=e.map(hc);Xn.warn(`Firestore (${Bs}): ${t}`,...n)}}function hc(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(t="Unexpected state"){const e=`FIRESTORE (${Bs}) INTERNAL ASSERTION FAILED: `+t;throw cn(e),new Error(e)}function Se(t,e){t||Z()}function te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends Ls{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Qb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(yt.UNAUTHENTICATED))}shutdown(){}}class Yb{constructor(e){this.t=e,this.currentUser=yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let s=this.i;const r=l=>this.i!==s?(s=this.i,n(l)):Promise.resolve();let i=new nn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new nn,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new nn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Se(typeof s.accessToken=="string"),new Wb(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Se(e===null||typeof e=="string"),new yt(e)}}class Xb{constructor(e,n,s,r){this.h=e,this.l=n,this.m=s,this.g=r,this.type="FirstParty",this.user=yt.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Se(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Jb{constructor(e,n,s,r){this.h=e,this.l=n,this.m=s,this.g=r}getToken(){return Promise.resolve(new Xb(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Zb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eE{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const s=i=>{i.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.A;return this.A=i.token,$("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>s(i))};const r=i=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.T.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.T.getImmediate({optional:!0});i?r(i):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Se(typeof n.token=="string"),this.A=n.token,new Zb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const r=tE(40);for(let i=0;i<r.length;++i)s.length<20&&r[i]<n&&(s+=e.charAt(r[i]%e.length))}return s}}function ve(t,e){return t<e?-1:t>e?1:0}function Ts(t,e,n){return t.length===e.length&&t.every((s,r)=>n(s,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new H(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ve.fromMillis(Date.now())}static fromDate(e){return Ve.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new Ve(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ie(e)}static min(){return new ie(new Ve(0,0))}static max(){return new ie(new Ve(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e,n,s){n===void 0?n=0:n>e.length&&Z(),s===void 0?s=e.length-n:s>e.length-n&&Z(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Tr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Tr?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const i=e.get(r),o=n.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ie extends Tr{construct(e,n,s){return new Ie(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new H(C.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new Ie(n)}static emptyPath(){return new Ie([])}}const nE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ot extends Tr{construct(e,n,s){return new ot(e,n,s)}static isValidIdentifier(e){return nE.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ot(["__name__"])}static fromServerFormat(e){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new H(C.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new H(C.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new H(C.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(s+=a,r++):(i(),r++)}if(i(),o)throw new H(C.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ot(n)}static emptyPath(){return new ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.path=e}static fromPath(e){return new j(Ie.fromString(e))}static fromName(e){return new j(Ie.fromString(e).popFirst(5))}static empty(){return new j(Ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ie.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ie.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new j(new Ie(e.slice()))}}function sE(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=ie.fromTimestamp(s===1e9?new Ve(n+1,0):new Ve(n,s));return new xn(r,j.empty(),e)}function rE(t){return new xn(t.readTime,t.key,-1)}class xn{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new xn(ie.min(),j.empty(),-1)}static max(){return new xn(ie.max(),j.empty(),-1)}}function iE(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=j.comparator(t.documentKey,e.documentKey),n!==0?n:ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jr(t){if(t.code!==C.FAILED_PRECONDITION||t.message!==oE)throw t;$("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new S((s,r)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(s,r)},this.catchCallback=i=>{this.wrapFailure(n,i).next(s,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof S?n:S.resolve(n)}catch(n){return S.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):S.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):S.reject(n)}static resolve(e){return new S((n,s)=>{n(e)})}static reject(e){return new S((n,s)=>{s(e)})}static waitFor(e){return new S((n,s)=>{let r=0,i=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++i,o&&i===r&&n()},l=>s(l))}),o=!0,i===r&&n()})}static or(e){let n=S.resolve(!1);for(const s of e)n=n.next(r=>r?S.resolve(r):s());return n}static forEach(e,n){const s=[];return e.forEach((r,i)=>{s.push(n.call(this,r,i))}),this.waitFor(s)}static mapArray(e,n){return new S((s,r)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===i&&s(o)},u=>r(u))}})}static doWhile(e,n){return new S((s,r)=>{const i=()=>{e()===!0?n().next(()=>{i()},r):s()};i()})}}function Hr(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ut(s),this.ct=s=>n.writeSequenceNumber(s))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function es(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ip(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fc.at=-1;class qe{constructor(e,n){this.comparator=e,this.root=n||Xe.EMPTY}insert(e,n){return new qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xe.BLACK,null,null))}remove(e){return new qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xe.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ii(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ii(this.root,e,this.comparator,!1)}getReverseIterator(){return new ii(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ii(this.root,e,this.comparator,!0)}}class ii{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?s(e.key,n):1,n&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xe{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s!=null?s:Xe.RED,this.left=r!=null?r:Xe.EMPTY,this.right=i!=null?i:Xe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,i){return new Xe(e!=null?e:this.key,n!=null?n:this.value,s!=null?s:this.color,r!=null?r:this.left,i!=null?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Xe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return Xe.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Z();const e=this.left.check();if(e!==this.right.check())throw Z();return e+(this.isRed()?0:1)}}Xe.EMPTY=null,Xe.RED=!0,Xe.BLACK=!1;Xe.EMPTY=new class{constructor(){this.size=0}get key(){throw Z()}get value(){throw Z()}get color(){throw Z()}get left(){throw Z()}get right(){throw Z()}copy(t,e,n,s,r){return this}insert(t,e,n){return new Xe(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.comparator=e,this.data=new qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new hh(this.data.getIterator())}getIteratorFrom(e){return new hh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof je)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new je(this.comparator);return n.data=e,n}}class hh{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.fields=e,e.sort(ot.comparator)}static empty(){return new Gt([])}unionWith(e){let n=new je(ot.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Gt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ts(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new st(n)}static fromUint8Array(e){const n=function(s){let r="";for(let i=0;i<s.length;++i)r+=String.fromCharCode(s[i]);return r}(e);return new st(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}st.EMPTY_BYTE_STRING=new st("");const lE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function In(t){if(Se(!!t),typeof t=="string"){let e=0;const n=lE.exec(t);if(Se(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Le(t.seconds),nanos:Le(t.nanos)}}function Le(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Cs(t){return typeof t=="string"?st.fromBase64String(t):st.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ap(t){const e=t.mapValue.fields.__previous_value__;return op(e)?ap(e):e}function Cr(t){const e=In(t.mapValue.fields.__local_write_time__.timestampValue);return new Ve(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e,n,s,r,i,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class Sr{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Sr("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Sr&&e.projectId===this.projectId&&e.database===this.database}}function yo(t){return t==null}function Li(t){return t===0&&1/t==-1/0}function uE(t){return typeof t=="number"&&Number.isInteger(t)&&!Li(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Jn(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?op(t)?4:hE(t)?9007199254740991:10:Z()}function Qt(t,e){if(t===e)return!0;const n=Jn(t);if(n!==Jn(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Cr(t).isEqual(Cr(e));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const i=In(s.timestampValue),o=In(r.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,r){return Cs(s.bytesValue).isEqual(Cs(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,r){return Le(s.geoPointValue.latitude)===Le(r.geoPointValue.latitude)&&Le(s.geoPointValue.longitude)===Le(r.geoPointValue.longitude)}(t,e);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return Le(s.integerValue)===Le(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const i=Le(s.doubleValue),o=Le(r.doubleValue);return i===o?Li(i)===Li(o):isNaN(i)&&isNaN(o)}return!1}(t,e);case 9:return Ts(t.arrayValue.values||[],e.arrayValue.values||[],Qt);case 10:return function(s,r){const i=s.mapValue.fields||{},o=r.mapValue.fields||{};if(uh(i)!==uh(o))return!1;for(const a in i)if(i.hasOwnProperty(a)&&(o[a]===void 0||!Qt(i[a],o[a])))return!1;return!0}(t,e);default:return Z()}}function xr(t,e){return(t.values||[]).find(n=>Qt(n,e))!==void 0}function Ss(t,e){if(t===e)return 0;const n=Jn(t),s=Jn(e);if(n!==s)return ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ve(t.booleanValue,e.booleanValue);case 2:return function(r,i){const o=Le(r.integerValue||r.doubleValue),a=Le(i.integerValue||i.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return fh(t.timestampValue,e.timestampValue);case 4:return fh(Cr(t),Cr(e));case 5:return ve(t.stringValue,e.stringValue);case 6:return function(r,i){const o=Cs(r),a=Cs(i);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(r,i){const o=r.split("/"),a=i.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=ve(o[l],a[l]);if(c!==0)return c}return ve(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,i){const o=ve(Le(r.latitude),Le(i.latitude));return o!==0?o:ve(Le(r.longitude),Le(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(r,i){const o=r.values||[],a=i.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=Ss(o[l],a[l]);if(c)return c}return ve(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(r,i){if(r===oi.mapValue&&i===oi.mapValue)return 0;if(r===oi.mapValue)return 1;if(i===oi.mapValue)return-1;const o=r.fields||{},a=Object.keys(o),l=i.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const h=ve(a[u],c[u]);if(h!==0)return h;const f=Ss(o[a[u]],l[c[u]]);if(f!==0)return f}return ve(a.length,c.length)}(t.mapValue,e.mapValue);default:throw Z()}}function fh(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ve(t,e);const n=In(t),s=In(e),r=ve(n.seconds,s.seconds);return r!==0?r:ve(n.nanos,s.nanos)}function ms(t){return Ya(t)}function Ya(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(s){const r=In(s);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Cs(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,j.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(s){let r="[",i=!0;for(const o of s.values||[])i?i=!1:r+=",",r+=Ya(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(s){const r=Object.keys(s.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${Ya(s.fields[a])}`;return i+"}"}(t.mapValue):Z();var e,n}function Xa(t){return!!t&&"integerValue"in t}function dc(t){return!!t&&"arrayValue"in t}function dh(t){return!!t&&"nullValue"in t}function ph(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function di(t){return!!t&&"mapValue"in t}function rr(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return es(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=rr(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=rr(t.arrayValue.values[n]);return e}return Object.assign({},t)}function hE(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.value=e}static empty(){return new Et({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!di(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=rr(n)}setAll(e){let n=ot.emptyPath(),s={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,s,r),s={},r=[],n=a.popLast()}o?s[a.lastSegment()]=rr(o):r.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(e){const n=this.field(e.popLast());di(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];di(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){es(n,(r,i)=>e[r]=i);for(const r of s)delete e[r]}clone(){return new Et(rr(this.value))}}function lp(t){const e=[];return es(t.fields,(n,s)=>{const r=new ot([n]);if(di(s)){const i=lp(s.mapValue).fields;if(i.length===0)e.push(r);else for(const o of i)e.push(r.child(o))}else e.push(r)}),new Gt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,n,s,r,i,o){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.data=i,this.documentState=o}static newInvalidDocument(e){return new Je(e,0,ie.min(),ie.min(),Et.empty(),0)}static newFoundDocument(e,n,s){return new Je(e,1,n,ie.min(),s,0)}static newNoDocument(e,n){return new Je(e,2,n,ie.min(),Et.empty(),0)}static newUnknownDocument(e,n){return new Je(e,3,n,ie.min(),Et.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Et.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Et.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Je&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e,n=null,s=[],r=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.ht=null}}function gh(t,e=null,n=[],s=[],r=null,i=null,o=null){return new fE(t,e,n,s,r,i,o)}function pc(t){const e=te(t);if(e.ht===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>{return(r=s).field.canonicalString()+r.op.toString()+ms(r.value);var r}).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(r){return r.field.canonicalString()+r.dir}(s)).join(","),yo(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>ms(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>ms(s)).join(",")),e.ht=n}return e.ht}function dE(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(s=n).field.canonicalString()} ${s.op} ${ms(s.value)}`;var s}).join(", ")}]`),yo(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(n)).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>ms(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>ms(n)).join(",")),`Target(${e})`}function gc(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!EE(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(n=t.filters[r],s=e.filters[r],n.op!==s.op||!n.field.isEqual(s.field)||!Qt(n.value,s.value))return!1;var n,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!yh(t.startAt,e.startAt)&&yh(t.endAt,e.endAt)}function Ja(t){return j.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class vt extends class{}{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.lt(e,n,s):new pE(e,n,s):n==="array-contains"?new yE(e,s):n==="in"?new vE(e,s):n==="not-in"?new wE(e,s):n==="array-contains-any"?new bE(e,s):new vt(e,n,s)}static lt(e,n,s){return n==="in"?new gE(e,s):new mE(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.ft(Ss(n,this.value)):n!==null&&Jn(this.value)===Jn(n)&&this.ft(Ss(n,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class pE extends vt{constructor(e,n,s){super(e,n,s),this.key=j.fromName(s.referenceValue)}matches(e){const n=j.comparator(e.key,this.key);return this.ft(n)}}class gE extends vt{constructor(e,n){super(e,"in",n),this.keys=cp("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class mE extends vt{constructor(e,n){super(e,"not-in",n),this.keys=cp("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function cp(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>j.fromName(s.referenceValue))}class yE extends vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return dc(n)&&xr(n.arrayValue,this.value)}}class vE extends vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&xr(this.value.arrayValue,n)}}class wE extends vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(xr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!xr(this.value.arrayValue,n)}}class bE extends vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!dc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>xr(this.value.arrayValue,s))}}class Mi{constructor(e,n){this.position=e,this.inclusive=n}}class ir{constructor(e,n="asc"){this.field=e,this.dir=n}}function EE(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function mh(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const i=e[r],o=t.position[r];if(i.field.isKeyField()?s=j.comparator(j.fromName(o.referenceValue),n.key):s=Ss(o,n.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function yh(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Qt(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,n=null,s=[],r=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this._t=null,this.wt=null,this.startAt,this.endAt}}function _E(t,e,n,s,r,i,o,a){return new vo(t,e,n,s,r,i,o,a)}function mc(t){return new vo(t)}function vh(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function TE(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function CE(t){for(const e of t.filters)if(e.dt())return e.field;return null}function SE(t){return t.collectionGroup!==null}function Ir(t){const e=te(t);if(e._t===null){e._t=[];const n=CE(e),s=TE(e);if(n!==null&&s===null)n.isKeyField()||e._t.push(new ir(n)),e._t.push(new ir(ot.keyField(),"asc"));else{let r=!1;for(const i of e.explicitOrderBy)e._t.push(i),i.field.isKeyField()&&(r=!0);if(!r){const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new ir(ot.keyField(),i))}}}return e._t}function un(t){const e=te(t);if(!e.wt)if(e.limitType==="F")e.wt=gh(e.path,e.collectionGroup,Ir(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const i of Ir(e)){const o=i.dir==="desc"?"asc":"desc";n.push(new ir(i.field,o))}const s=e.endAt?new Mi(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Mi(e.startAt.position,e.startAt.inclusive):null;e.wt=gh(e.path,e.collectionGroup,n,e.filters,e.limit,s,r)}return e.wt}function Za(t,e,n){return new vo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wo(t,e){return gc(un(t),un(e))&&t.limitType===e.limitType}function up(t){return`${pc(un(t))}|lt:${t.limitType}`}function el(t){return`Query(target=${dE(un(t))}; limitType=${t.limitType})`}function yc(t,e){return e.isFoundDocument()&&function(n,s){const r=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):j.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r)}(t,e)&&function(n,s){for(const r of n.explicitOrderBy)if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(t,e)&&function(n,s){for(const r of n.filters)if(!r.matches(s))return!1;return!0}(t,e)&&function(n,s){return!(n.startAt&&!function(r,i,o){const a=mh(r,i,o);return r.inclusive?a<=0:a<0}(n.startAt,Ir(n),s)||n.endAt&&!function(r,i,o){const a=mh(r,i,o);return r.inclusive?a>=0:a>0}(n.endAt,Ir(n),s))}(t,e)}function xE(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function hp(t){return(e,n)=>{let s=!1;for(const r of Ir(t)){const i=IE(r,e,n);if(i!==0)return i;s=s||r.field.isKeyField()}return 0}}function IE(t,e,n){const s=t.field.isKeyField()?j.comparator(e.key,n.key):function(r,i,o){const a=i.data.field(r),l=o.data.field(r);return a!==null&&l!==null?Ss(a,l):Z()}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Z()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(t,e){if(t.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Li(e)?"-0":e}}function dp(t){return{integerValue:""+t}}function AE(t,e){return uE(e)?dp(e):fp(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this._=void 0}}function DE(t,e,n){return t instanceof Ar?function(s,r){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&(i.fields.__previous_value__=r),{mapValue:i}}(n,e):t instanceof Dr?gp(t,e):t instanceof kr?mp(t,e):function(s,r){const i=pp(s,r),o=wh(i)+wh(s.yt);return Xa(i)&&Xa(s.yt)?dp(o):fp(s.It,o)}(t,e)}function kE(t,e,n){return t instanceof Dr?gp(t,e):t instanceof kr?mp(t,e):n}function pp(t,e){return t instanceof Fi?Xa(n=e)||function(s){return!!s&&"doubleValue"in s}(n)?e:{integerValue:0}:null;var n}class Ar extends bo{}class Dr extends bo{constructor(e){super(),this.elements=e}}function gp(t,e){const n=yp(e);for(const s of t.elements)n.some(r=>Qt(r,s))||n.push(s);return{arrayValue:{values:n}}}class kr extends bo{constructor(e){super(),this.elements=e}}function mp(t,e){let n=yp(e);for(const s of t.elements)n=n.filter(r=>!Qt(r,s));return{arrayValue:{values:n}}}class Fi extends bo{constructor(e,n){super(),this.It=e,this.yt=n}}function wh(t){return Le(t.integerValue||t.doubleValue)}function yp(t){return dc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e,n){this.field=e,this.transform=n}}function NE(t,e){return t.field.isEqual(e.field)&&function(n,s){return n instanceof Dr&&s instanceof Dr||n instanceof kr&&s instanceof kr?Ts(n.elements,s.elements,Qt):n instanceof Fi&&s instanceof Fi?Qt(n.yt,s.yt):n instanceof Ar&&s instanceof Ar}(t.transform,e.transform)}class OE{constructor(e,n){this.version=e,this.transformResults=n}}class sn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new sn}static exists(e){return new sn(void 0,e)}static updateTime(e){return new sn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pi(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Eo{}function vp(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new bp(t.key,sn.none()):new _o(t.key,t.data,sn.none());{const n=t.data,s=Et.empty();let r=new je(ot.comparator);for(let i of e.fields)if(!r.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?s.delete(i):s.set(i,o),r=r.add(i)}return new ts(t.key,s,new Gt(r.toArray()),sn.none())}}function PE(t,e,n){t instanceof _o?function(s,r,i){const o=s.value.clone(),a=Eh(s.fieldTransforms,r,i.transformResults);o.setAll(a),r.convertToFoundDocument(i.version,o).setHasCommittedMutations()}(t,e,n):t instanceof ts?function(s,r,i){if(!pi(s.precondition,r))return void r.convertToUnknownDocument(i.version);const o=Eh(s.fieldTransforms,r,i.transformResults),a=r.data;a.setAll(wp(s)),a.setAll(o),r.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,e,n):function(s,r,i){r.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function or(t,e,n,s){return t instanceof _o?function(r,i,o,a){if(!pi(r.precondition,i))return o;const l=r.value.clone(),c=_h(r.fieldTransforms,a,i);return l.setAll(c),i.convertToFoundDocument(i.version,l).setHasLocalMutations(),null}(t,e,n,s):t instanceof ts?function(r,i,o,a){if(!pi(r.precondition,i))return o;const l=_h(r.fieldTransforms,a,i),c=i.data;return c.setAll(wp(r)),c.setAll(l),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),o===null?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(u=>u.field))}(t,e,n,s):function(r,i,o){return pi(r.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o}(t,e,n)}function LE(t,e){let n=null;for(const s of t.fieldTransforms){const r=e.data.field(s.field),i=pp(s.transform,r||null);i!=null&&(n===null&&(n=Et.empty()),n.set(s.field,i))}return n||null}function bh(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&Ts(n,s,(r,i)=>NE(r,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _o extends Eo{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ts extends Eo{constructor(e,n,s,r,i=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function wp(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function Eh(t,e,n){const s=new Map;Se(t.length===n.length);for(let r=0;r<n.length;r++){const i=t[r],o=i.transform,a=e.data.field(i.field);s.set(i.field,kE(o,a,n[r]))}return s}function _h(t,e,n){const s=new Map;for(const r of t){const i=r.transform,o=n.data.field(r.field);s.set(r.field,DE(i,o,e))}return s}class bp extends Eo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ME extends Eo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe,he;function $E(t){switch(t){default:return Z();case C.CANCELLED:case C.UNKNOWN:case C.DEADLINE_EXCEEDED:case C.RESOURCE_EXHAUSTED:case C.INTERNAL:case C.UNAVAILABLE:case C.UNAUTHENTICATED:return!1;case C.INVALID_ARGUMENT:case C.NOT_FOUND:case C.ALREADY_EXISTS:case C.PERMISSION_DENIED:case C.FAILED_PRECONDITION:case C.ABORTED:case C.OUT_OF_RANGE:case C.UNIMPLEMENTED:case C.DATA_LOSS:return!0}}function Ep(t){if(t===void 0)return cn("GRPC error has no .code"),C.UNKNOWN;switch(t){case Pe.OK:return C.OK;case Pe.CANCELLED:return C.CANCELLED;case Pe.UNKNOWN:return C.UNKNOWN;case Pe.DEADLINE_EXCEEDED:return C.DEADLINE_EXCEEDED;case Pe.RESOURCE_EXHAUSTED:return C.RESOURCE_EXHAUSTED;case Pe.INTERNAL:return C.INTERNAL;case Pe.UNAVAILABLE:return C.UNAVAILABLE;case Pe.UNAUTHENTICATED:return C.UNAUTHENTICATED;case Pe.INVALID_ARGUMENT:return C.INVALID_ARGUMENT;case Pe.NOT_FOUND:return C.NOT_FOUND;case Pe.ALREADY_EXISTS:return C.ALREADY_EXISTS;case Pe.PERMISSION_DENIED:return C.PERMISSION_DENIED;case Pe.FAILED_PRECONDITION:return C.FAILED_PRECONDITION;case Pe.ABORTED:return C.ABORTED;case Pe.OUT_OF_RANGE:return C.OUT_OF_RANGE;case Pe.UNIMPLEMENTED:return C.UNIMPLEMENTED;case Pe.DATA_LOSS:return C.DATA_LOSS;default:return Z()}}(he=Pe||(Pe={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,i]of s)if(this.equalsFn(r,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){es(this.inner,(n,s)=>{for(const[r,i]of s)e(r,i)})}isEmpty(){return ip(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE=new qe(j.comparator);function hn(){return BE}const _p=new qe(j.comparator);function Ys(...t){let e=_p;for(const n of t)e=e.insert(n.key,n);return e}function Tp(t){let e=_p;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Hn(){return ar()}function Cp(){return ar()}function ar(){return new Us(t=>t.toString(),(t,e)=>t.isEqual(e))}const UE=new qe(j.comparator),VE=new je(j.comparator);function le(...t){let e=VE;for(const n of t)e=e.add(n);return e}const jE=new je(ve);function Sp(){return jE}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,n,s,r,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n){const s=new Map;return s.set(e,qr.createSynthesizedTargetChangeForCurrentChange(e,n)),new To(ie.min(),s,Sp(),hn(),le())}}class qr{constructor(e,n,s,r,i){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n){return new qr(st.EMPTY_BYTE_STRING,n,le(),le(),le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,n,s,r){this.Tt=e,this.removedTargetIds=n,this.key=s,this.Et=r}}class xp{constructor(e,n){this.targetId=e,this.At=n}}class Ip{constructor(e,n,s=st.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class Th{constructor(){this.Rt=0,this.bt=Sh(),this.Pt=st.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return this.Rt!==0}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=le(),n=le(),s=le();return this.bt.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:Z()}}),new qr(this.Pt,this.vt,e,n,s)}Nt(){this.Vt=!1,this.bt=Sh()}kt(e,n){this.Vt=!0,this.bt=this.bt.insert(e,n)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class HE{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=hn(),this.qt=Ch(),this.Kt=new je(ve)}Gt(e){for(const n of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(n,e.Et):this.jt(n,e.key,e.Et);for(const n of e.removedTargetIds)this.jt(n,e.key,e.Et)}Wt(e){this.forEachTarget(e,n=>{const s=this.zt(n);switch(e.state){case 0:this.Ht(n)&&s.Ct(e.resumeToken);break;case 1:s.Ft(),s.St||s.Nt(),s.Ct(e.resumeToken);break;case 2:s.Ft(),s.St||this.removeTarget(n);break;case 3:this.Ht(n)&&(s.$t(),s.Ct(e.resumeToken));break;case 4:this.Ht(n)&&(this.Jt(n),s.Ct(e.resumeToken));break;default:Z()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Lt.forEach((s,r)=>{this.Ht(r)&&n(r)})}Yt(e){const n=e.targetId,s=e.At.count,r=this.Xt(n);if(r){const i=r.target;if(Ja(i))if(s===0){const o=new j(i.path);this.jt(n,o,Je.newNoDocument(o,ie.min()))}else Se(s===1);else this.Zt(n)!==s&&(this.Jt(n),this.Kt=this.Kt.add(n))}}te(e){const n=new Map;this.Lt.forEach((i,o)=>{const a=this.Xt(o);if(a){if(i.current&&Ja(a.target)){const l=new j(a.target.path);this.Ut.get(l)!==null||this.ee(o,l)||this.jt(o,l,Je.newNoDocument(l,e))}i.Dt&&(n.set(o,i.xt()),i.Nt())}});let s=le();this.qt.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Xt(l);return!c||c.purpose===2||(a=!1,!1)}),a&&(s=s.add(i))}),this.Ut.forEach((i,o)=>o.setReadTime(e));const r=new To(e,n,this.Kt,this.Ut,s);return this.Ut=hn(),this.qt=Ch(),this.Kt=new je(ve),r}Qt(e,n){if(!this.Ht(e))return;const s=this.ee(e,n.key)?2:0;this.zt(e).kt(n.key,s),this.Ut=this.Ut.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ne(n.key).add(e))}jt(e,n,s){if(!this.Ht(e))return;const r=this.zt(e);this.ee(e,n)?r.kt(n,1):r.Mt(n),this.qt=this.qt.insert(n,this.ne(n).delete(e)),s&&(this.Ut=this.Ut.insert(n,s))}removeTarget(e){this.Lt.delete(e)}Zt(e){const n=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let n=this.Lt.get(e);return n||(n=new Th,this.Lt.set(e,n)),n}ne(e){let n=this.qt.get(e);return n||(n=new je(ve),this.qt=this.qt.insert(e,n)),n}Ht(e){const n=this.Xt(e)!==null;return n||$("WatchChangeAggregator","Detected inactive target",e),n}Xt(e){const n=this.Lt.get(e);return n&&n.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new Th),this.Bt.getRemoteKeysForTarget(e).forEach(n=>{this.jt(e,n,null)})}ee(e,n){return this.Bt.getRemoteKeysForTarget(e).has(n)}}function Ch(){return new qe(j.comparator)}function Sh(){return new qe(j.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),KE=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class zE{constructor(e,n){this.databaseId=e,this.gt=n}}function $i(t,e){return t.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ap(t,e){return t.gt?e.toBase64():e.toUint8Array()}function GE(t,e){return $i(t,e.toTimestamp())}function rn(t){return Se(!!t),ie.fromTimestamp(function(e){const n=In(e);return new Ve(n.seconds,n.nanos)}(t))}function vc(t,e){return function(n){return new Ie(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function Dp(t){const e=Ie.fromString(t);return Se(Np(e)),e}function tl(t,e){return vc(t.databaseId,e.path)}function ra(t,e){const n=Dp(e);if(n.get(1)!==t.databaseId.projectId)throw new H(C.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(C.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new j(kp(n))}function nl(t,e){return vc(t.databaseId,e)}function WE(t){const e=Dp(t);return e.length===4?Ie.emptyPath():kp(e)}function sl(t){return new Ie(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function kp(t){return Se(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function xh(t,e,n){return{name:tl(t,e),fields:n.value.mapValue.fields}}function QE(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Z()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=function(l,c){return l.gt?(Se(c===void 0||typeof c=="string"),st.fromBase64String(c||"")):(Se(c===void 0||c instanceof Uint8Array),st.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=l.code===void 0?C.UNKNOWN:Ep(l.code);return new H(c,l.message||"")}(o);n=new Ip(s,r,i,a||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=ra(t,s.document.name),i=rn(s.document.updateTime),o=new Et({mapValue:{fields:s.document.fields}}),a=Je.newFoundDocument(r,i,o),l=s.targetIds||[],c=s.removedTargetIds||[];n=new gi(l,c,a.key,a)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=ra(t,s.document),i=s.readTime?rn(s.readTime):ie.min(),o=Je.newNoDocument(r,i),a=s.removedTargetIds||[];n=new gi([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=ra(t,s.document),i=s.removedTargetIds||[];n=new gi([],i,r,null)}else{if(!("filter"in e))return Z();{e.filter;const s=e.filter;s.targetId;const r=s.count||0,i=new FE(r),o=s.targetId;n=new xp(o,i)}}return n}function YE(t,e){let n;if(e instanceof _o)n={update:xh(t,e.key,e.value)};else if(e instanceof bp)n={delete:tl(t,e.key)};else if(e instanceof ts)n={update:xh(t,e.key,e.data),updateMask:o1(e.fieldMask)};else{if(!(e instanceof ME))return Z();n={verify:tl(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(r,i){const o=i.transform;if(o instanceof Ar)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Dr)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof kr)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Fi)return{fieldPath:i.field.canonicalString(),increment:o.yt};throw Z()}(0,s))),e.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:GE(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:Z()}(t,e.precondition)),n}function XE(t,e){return t&&t.length>0?(Se(e!==void 0),t.map(n=>function(s,r){let i=s.updateTime?rn(s.updateTime):rn(r);return i.isEqual(ie.min())&&(i=rn(r)),new OE(i,s.transformResults||[])}(n,e))):[]}function JE(t,e){return{documents:[nl(t,e.path)]}}function ZE(t,e){const n={structuredQuery:{}},s=e.path;e.collectionGroup!==null?(n.parent=nl(t,s),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=nl(t,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const r=function(l){if(l.length===0)return;const c=l.map(u=>function(h){if(h.op==="=="){if(ph(h.value))return{unaryFilter:{field:os(h.field),op:"IS_NAN"}};if(dh(h.value))return{unaryFilter:{field:os(h.field),op:"IS_NULL"}}}else if(h.op==="!="){if(ph(h.value))return{unaryFilter:{field:os(h.field),op:"IS_NOT_NAN"}};if(dh(h.value))return{unaryFilter:{field:os(h.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:os(h.field),op:s1(h.op),value:h.value}}}(u));return c.length===1?c[0]:{compositeFilter:{op:"AND",filters:c}}}(e.filters);r&&(n.structuredQuery.where=r);const i=function(l){if(l.length!==0)return l.map(c=>function(u){return{field:os(u.field),direction:n1(u.dir)}}(c))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=function(l,c){return l.gt||yo(c)?c:{value:c}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function e1(t){let e=WE(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){Se(s===1);const u=n.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=Rp(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(u=>function(h){return new ir(us(h.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(u)));let a=null;n.limit&&(a=function(u){let h;return h=typeof u=="object"?u.value:u,yo(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(u){const h=!!u.before,f=u.values||[];return new Mi(f,h)}(n.startAt));let c=null;return n.endAt&&(c=function(u){const h=!u.before,f=u.values||[];return new Mi(f,h)}(n.endAt)),_E(e,r,o,i,a,"F",l,c)}function t1(t,e){const n=function(s,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Z()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function Rp(t){return t?t.unaryFilter!==void 0?[i1(t)]:t.fieldFilter!==void 0?[r1(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(e=>Rp(e)).reduce((e,n)=>e.concat(n)):Z():[]}function n1(t){return qE[t]}function s1(t){return KE[t]}function os(t){return{fieldPath:t.canonicalString()}}function us(t){return ot.fromServerFormat(t.fieldPath)}function r1(t){return vt.create(us(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Z()}}(t.fieldFilter.op),t.fieldFilter.value)}function i1(t){switch(t.unaryFilter.op){case"IS_NAN":const e=us(t.unaryFilter.field);return vt.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=us(t.unaryFilter.field);return vt.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=us(t.unaryFilter.field);return vt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=us(t.unaryFilter.field);return vt.create(r,"!=",{nullValue:"NULL_VALUE"});default:return Z()}}function o1(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Np(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(e.key)&&PE(i,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=or(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=or(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Cp();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(r.key)?null:a;const l=vp(o,a);l!==null&&s.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(ie.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),le())}isEqual(e){return this.batchId===e.batchId&&Ts(this.mutations,e.mutations,(n,s)=>bh(n,s))&&Ts(this.baseMutations,e.baseMutations,(n,s)=>bh(n,s))}}class wc{constructor(e,n,s,r){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(e,n,s){Se(e.mutations.length===s.length);let r=UE;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,s[o].version);return new wc(e,n,s,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e,n,s,r,i=ie.min(),o=ie.min(),a=st.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new zn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new zn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new zn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e){this.re=e}}function u1(t){const e=e1({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Za(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(){this.Ye=new f1}addToCollectionParentIndex(e,n){return this.Ye.add(n),S.resolve()}getCollectionParents(e,n){return S.resolve(this.Ye.getEntries(n))}addFieldIndex(e,n){return S.resolve()}deleteFieldIndex(e,n){return S.resolve()}getDocumentsMatchingTarget(e,n){return S.resolve(null)}getIndexType(e,n){return S.resolve(0)}getFieldIndexes(e,n){return S.resolve([])}getNextCollectionGroupToUpdate(e){return S.resolve(null)}getMinOffset(e,n){return S.resolve(xn.min())}getMinOffsetFromCollectionGroup(e,n){return S.resolve(xn.min())}updateCollectionGroup(e,n,s){return S.resolve()}updateIndexEntries(e,n){return S.resolve()}}class f1{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new je(Ie.comparator),i=!r.has(s);return this.index[n]=r.add(s),i}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new je(Ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new xs(0)}static vn(){return new xs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(){this.changes=new Us(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Je.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?S.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(s=r,this.getBaseDocument(e,n,s))).next(r=>(s!==null&&or(s.mutation,r,Gt.empty(),Ve.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,le()).next(()=>s))}getLocalViewOfDocuments(e,n,s=le()){const r=Hn();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,s).next(i=>{let o=Ys();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const s=Hn();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,le()))}populateOverlays(e,n,s){const r=[];return s.forEach(i=>{n.has(i)||r.push(i)}),this.documentOverlayCache.getOverlays(e,r).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,s,r){let i=hn();const o=ar(),a=ar();return n.forEach((l,c)=>{const u=s.get(c.key);r.has(c.key)&&(u===void 0||u.mutation instanceof ts)?i=i.insert(c.key,c):u!==void 0&&(o.set(c.key,u.mutation.getFieldMask()),or(u.mutation,c,u.mutation.getFieldMask(),Ve.now()))}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new p1(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const s=ar();let r=new qe((o,a)=>o-a),i=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=s.get(l)||Gt.empty();u=a.applyToLocalView(c,u),s.set(l,u);const h=(r.get(a.batchId)||le()).add(l);r=r.insert(a.batchId,h)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=Cp();u.forEach(f=>{if(!i.has(f)){const p=vp(n.get(f),s.get(f));p!==null&&h.set(f,p),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return S.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s){return function(r){return j.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):SE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s):this.getDocumentsMatchingCollectionQuery(e,n,s)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-i.size):S.resolve(Hn());let a=-1,l=i;return o.next(c=>S.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?S.resolve():this.getBaseDocument(e,u,h).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,le())).next(u=>({batchId:a,changes:Tp(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new j(n)).next(s=>{let r=Ys();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,s){const r=n.collectionGroup;let i=Ys();return this.indexManager.getCollectionParents(e,r).next(o=>S.forEach(o,a=>{const l=function(c,u){return new vo(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(r));return this.getDocumentsMatchingCollectionQuery(e,l,s).next(c=>{c.forEach((u,h)=>{i=i.insert(u,h)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,s){let r;return this.remoteDocumentCache.getAllFromCollection(e,n.path,s).next(i=>(r=i,this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId))).next(i=>{i.forEach((a,l)=>{const c=l.getKey();r.get(c)===null&&(r=r.insert(c,Je.newInvalidDocument(c)))});let o=Ys();return r.forEach((a,l)=>{const c=i.get(a);c!==void 0&&or(c.mutation,l,Gt.empty(),Ve.now()),yc(n,l)&&(o=o.insert(a,l))}),o})}getBaseDocument(e,n,s){return s===null||s.mutation.type===1?this.remoteDocumentCache.getEntry(e,n):S.resolve(Je.newInvalidDocument(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return S.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var s;return this.Zn.set(n.id,{id:(s=n).id,version:s.version,createTime:rn(s.createTime)}),S.resolve()}getNamedQuery(e,n){return S.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,function(s){return{name:s.name,query:u1(s.bundledQuery),readTime:rn(s.readTime)}}(n)),S.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(){this.overlays=new qe(j.comparator),this.es=new Map}getOverlay(e,n){return S.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Hn();return S.forEach(n,r=>this.getOverlay(e,r).next(i=>{i!==null&&s.set(r,i)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((r,i)=>{this.ue(e,n,i)}),S.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.es.get(s);return r!==void 0&&(r.forEach(i=>this.overlays=this.overlays.remove(i)),this.es.delete(s)),S.resolve()}getOverlaysForCollection(e,n,s){const r=Hn(),i=n.length+1,o=new j(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>s&&r.set(l.getKey(),l)}return S.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let i=new qe((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>s){let u=i.get(c.largestBatchId);u===null&&(u=Hn(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Hn(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return S.resolve(a)}ue(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const o=this.es.get(r.largestBatchId).delete(s.key);this.es.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new l1(n,s));let i=this.es.get(n);i===void 0&&(i=le(),this.es.set(n,i)),this.es.set(n,i.add(s.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(){this.ns=new je(Ge.ss),this.rs=new je(Ge.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const s=new Ge(e,n);this.ns=this.ns.add(s),this.rs=this.rs.add(s)}us(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.cs(new Ge(e,n))}hs(e,n){e.forEach(s=>this.removeReference(s,n))}ls(e){const n=new j(new Ie([])),s=new Ge(n,e),r=new Ge(n,e+1),i=[];return this.rs.forEachInRange([s,r],o=>{this.cs(o),i.push(o.key)}),i}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new j(new Ie([])),s=new Ge(n,e),r=new Ge(n,e+1);let i=le();return this.rs.forEachInRange([s,r],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Ge(e,0),s=this.ns.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ge{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return j.comparator(e.key,n.key)||ve(e._s,n._s)}static os(e,n){return ve(e._s,n._s)||j.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new je(Ge.ss)}checkEmpty(e){return S.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new a1(i,n,s,r);this.mutationQueue.push(o);for(const a of r)this.gs=this.gs.add(new Ge(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return S.resolve(o)}lookupMutationBatch(e,n){return S.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.ps(s),i=r<0?0:r;return S.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return S.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return S.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ge(n,0),r=new Ge(n,Number.POSITIVE_INFINITY),i=[];return this.gs.forEachInRange([s,r],o=>{const a=this.ys(o._s);i.push(a)}),S.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new je(ve);return n.forEach(r=>{const i=new Ge(r,0),o=new Ge(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([i,o],a=>{s=s.add(a._s)})}),S.resolve(this.Is(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let i=s;j.isDocumentKey(i)||(i=i.child(""));const o=new Ge(new j(i),0);let a=new je(ve);return this.gs.forEachWhile(l=>{const c=l.key.path;return!!s.isPrefixOf(c)&&(c.length===r&&(a=a.add(l._s)),!0)},o),S.resolve(this.Is(a))}Is(e){const n=[];return e.forEach(s=>{const r=this.ys(s);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Se(this.Ts(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.gs;return S.forEach(n.mutations,r=>{const i=new Ge(r.key,n.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.gs=s})}An(e){}containsKey(e,n){const s=new Ge(n,0),r=this.gs.firstAfterOrEqual(s);return S.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,S.resolve()}Ts(e,n){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e){this.Es=e,this.docs=new qe(j.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),i=r?r.size:0,o=this.Es(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return S.resolve(s?s.document.mutableCopy():Je.newInvalidDocument(n))}getEntries(e,n){let s=hn();return n.forEach(r=>{const i=this.docs.get(r);s=s.insert(r,i?i.document.mutableCopy():Je.newInvalidDocument(r))}),S.resolve(s)}getAllFromCollection(e,n,s){let r=hn();const i=new j(n.child("")),o=this.docs.getIteratorFrom(i);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||iE(rE(l),s)<=0||(r=r.insert(l.key,l.mutableCopy()))}return S.resolve(r)}getAllFromCollectionGroup(e,n,s,r){Z()}As(e,n){return S.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new b1(this)}getSize(e){return S.resolve(this.size)}}class b1 extends d1{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((s,r)=>{r.isValidDocument()?n.push(this.Yn.addEntry(e,r)):this.Yn.removeEntry(s)}),S.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e){this.persistence=e,this.Rs=new Us(n=>pc(n),gc),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.bs=0,this.Ps=new bc,this.targetCount=0,this.vs=xs.Pn()}forEachTarget(e,n){return this.Rs.forEach((s,r)=>n(r)),S.resolve()}getLastRemoteSnapshotVersion(e){return S.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return S.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),S.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.bs&&(this.bs=n),S.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new xs(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,S.resolve()}updateTargetData(e,n){return this.Dn(n),S.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,S.resolve()}removeTargets(e,n,s){let r=0;const i=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=n&&s.get(a.targetId)===null&&(this.Rs.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),S.waitFor(i).next(()=>r)}getTargetCount(e){return S.resolve(this.targetCount)}getTargetData(e,n){const s=this.Rs.get(n)||null;return S.resolve(s)}addMatchingKeys(e,n,s){return this.Ps.us(n,s),S.resolve()}removeMatchingKeys(e,n,s){this.Ps.hs(n,s);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach(o=>{i.push(r.markPotentiallyOrphaned(e,o))}),S.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),S.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Ps.ds(n);return S.resolve(s)}containsKey(e,n){return S.resolve(this.Ps.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new fc(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new E1(this),this.indexManager=new h1,this.remoteDocumentCache=function(s){return new w1(s)}(s=>this.referenceDelegate.xs(s)),this.It=new c1(n),this.Ns=new m1(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new y1,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Vs[e.toKey()];return s||(s=new v1(n,this.referenceDelegate),this.Vs[e.toKey()]=s),s}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,s){$("MemoryPersistence","Starting transaction:",e);const r=new T1(this.Ss.next());return this.referenceDelegate.ks(),s(r).next(i=>this.referenceDelegate.Ms(r).next(()=>i)).toPromise().then(i=>(r.raiseOnCommittedEvent(),i))}Os(e,n){return S.or(Object.values(this.Vs).map(s=>()=>s.containsKey(e,n)))}}class T1 extends aE{constructor(e){super(),this.currentSequenceNumber=e}}class Ec{constructor(e){this.persistence=e,this.Fs=new bc,this.$s=null}static Bs(e){return new Ec(e)}get Ls(){if(this.$s)return this.$s;throw Z()}addReference(e,n,s){return this.Fs.addReference(s,n),this.Ls.delete(s.toString()),S.resolve()}removeReference(e,n,s){return this.Fs.removeReference(s,n),this.Ls.add(s.toString()),S.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),S.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(r=>this.Ls.add(r.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(i=>this.Ls.add(i.toString()))}).next(()=>s.removeTargetData(e,n))}ks(){this.$s=new Set}Ms(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return S.forEach(this.Ls,s=>{const r=j.fromPath(s);return this.Us(e,r).next(i=>{i||n.removeEntry(r,ie.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.Us(e,n).next(s=>{s?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}Us(e,n){return S.or([()=>S.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Os(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.Si=s,this.Di=r}static Ci(e,n){let s=le(),r=le();for(const i of n.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new _c(e,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,s,r){return this.ki(e,n).next(i=>i||this.Mi(e,n,r,s)).next(i=>i||this.Oi(e,n))}ki(e,n){if(vh(n))return S.resolve(null);let s=un(n);return this.indexManager.getIndexType(e,s).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Za(n,null,"F"),s=un(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(i=>{const o=le(...i);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,s).next(l=>{const c=this.Fi(n,a);return this.$i(n,c,o,l.readTime)?this.ki(e,Za(n,null,"F")):this.Bi(e,c,n,l)}))})))}Mi(e,n,s,r){return vh(n)||r.isEqual(ie.min())?this.Oi(e,n):this.Ni.getDocuments(e,s).next(i=>{const o=this.Fi(n,i);return this.$i(n,o,s,r)?this.Oi(e,n):(lh()<=ye.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),el(n)),this.Bi(e,o,n,sE(r,-1)))})}Fi(e,n){let s=new je(hp(e));return n.forEach((r,i)=>{yc(e,i)&&(s=s.add(i))}),s}$i(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Oi(e,n){return lh()<=ye.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",el(n)),this.Ni.getDocumentsMatchingQuery(e,n,xn.min())}Bi(e,n,s,r){return this.Ni.getDocumentsMatchingQuery(e,s,r).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,n,s,r){this.persistence=e,this.Li=n,this.It=r,this.Ui=new qe(ve),this.qi=new Us(i=>pc(i),gc),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(s)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new g1(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ui))}}function x1(t,e,n,s){return new S1(t,e,n,s)}async function Op(t,e){const n=te(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next(i=>(r=i,n.Qi(e),n.mutationQueue.getAllMutationBatches(s))).next(i=>{const o=[],a=[];let l=le();for(const c of r){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(s,l).next(c=>({ji:c,removedBatchIds:o,addedBatchIds:a}))})})}function I1(t,e){const n=te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const r=e.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const u=l.batch,h=u.keys();let f=S.resolve();return h.forEach(p=>{f=f.next(()=>c.getEntry(a,p)).next(m=>{const w=l.docVersions.get(p);Se(w!==null),m.version.compareTo(w)<0&&(u.applyToRemoteDocument(m,l),m.isValidDocument()&&(m.setReadTime(l.commitVersion),c.addEntry(m)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(n,s,e,i).next(()=>i.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(o){let a=le();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(s,r))})}function Pp(t){const e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function A1(t,e){const n=te(t),s=e.snapshotVersion;let r=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});r=n.Ui;const a=[];e.targetChanges.forEach((u,h)=>{const f=r.get(h);if(!f)return;a.push(n.Cs.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.Cs.addMatchingKeys(i,u.addedDocuments,h)));let p=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.has(h)?p=p.withResumeToken(st.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,s)),r=r.insert(h,p),function(m,w,E){return m.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(f,p,u)&&a.push(n.Cs.updateTargetData(i,p))});let l=hn(),c=le();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(D1(i,o,e.documentUpdates).next(u=>{l=u.Wi,c=u.zi})),!s.isEqual(ie.min())){const u=n.Cs.getLastRemoteSnapshotVersion(i).next(h=>n.Cs.setTargetsMetadata(i,i.currentSequenceNumber,s));a.push(u)}return S.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Ui=r,i))}function D1(t,e,n){let s=le(),r=le();return n.forEach(i=>s=s.add(i)),e.getEntries(t,s).next(i=>{let o=hn();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(ie.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):$("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Wi:o,zi:r}})}function k1(t,e){const n=te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function R1(t,e){const n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let r;return n.Cs.getTargetData(s,e).next(i=>i?(r=i,S.resolve(r)):n.Cs.allocateTargetId(s).next(o=>(r=new zn(e,o,0,s.currentSequenceNumber),n.Cs.addTargetData(s,r).next(()=>r))))}).then(s=>{const r=n.Ui.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(s.targetId,s),n.qi.set(e,s.targetId)),s})}async function rl(t,e,n){const s=te(t),r=s.Ui.get(e),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,o=>s.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!Hr(o))throw o;$("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}s.Ui=s.Ui.remove(e),s.qi.delete(r.target)}function Ih(t,e,n){const s=te(t);let r=ie.min(),i=le();return s.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const u=te(a),h=u.qi.get(c);return h!==void 0?S.resolve(u.Ui.get(h)):u.Cs.getTargetData(l,c)}(s,o,un(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,s.Cs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>s.Li.getDocumentsMatchingQuery(o,e,n?r:ie.min(),n?i:le())).next(a=>(N1(s,xE(e),a),{documents:a,Hi:i})))}function N1(t,e,n){let s=ie.min();n.forEach((r,i)=>{i.readTime.compareTo(s)>0&&(s=i.readTime)}),t.Ki.set(e,s)}class Ah{constructor(){this.activeTargetIds=Sp()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class O1{constructor(){this.Lr=new Ah,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,n,s){this.Ur[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Ah,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{qr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){$("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){$("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.oo=n+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,n,s,r,i){const o=this.ao(e,n);$("RestConnection","Sending: ",o,s);const a={};return this.ho(a,r,i),this.lo(e,o,a,s).then(l=>($("RestConnection","Received: ",l),l),l=>{throw ch("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",s),l})}fo(e,n,s,r,i,o){return this.co(e,n,s,r,i)}ho(e,n,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+Bs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,i)=>e[i]=r),s&&s.headers.forEach((r,i)=>e[i]=r)}ao(e,n){const s=L1[e];return`${this.oo}/v1/${n}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,n,s,r){return new Promise((i,o)=>{const a=new Gb;a.listenOnce(qb.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case sa.NO_ERROR:const c=a.getResponseJson();$("Connection","XHR received:",JSON.stringify(c)),i(c);break;case sa.TIMEOUT:$("Connection",'RPC "'+e+'" timed out'),o(new H(C.DEADLINE_EXCEEDED,"Request time out"));break;case sa.HTTP_ERROR:const u=a.getStatus();if($("Connection",'RPC "'+e+'" failed with status:',u,"response text:",a.getResponseText()),u>0){const h=a.getResponseJson().error;if(h&&h.status&&h.message){const f=function(p){const m=p.toLowerCase().replace(/_/g,"-");return Object.values(C).indexOf(m)>=0?m:C.UNKNOWN}(h.status);o(new H(f,h.message))}else o(new H(C.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new H(C.UNAVAILABLE,"Connection failed."));break;default:Z()}}finally{$("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(r);a.send(n,"POST",l,s,15)})}_o(e,n,s){const r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=jb(),o=Hb(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new zb({})),this.ho(a.initMessageHeaders,n,s),b0()||_0()||T0()||C0()||S0()||E0()||(a.httpHeadersOverwriteParam="$httpHeaders");const l=r.join("");$("Connection","Creating WebChannel: "+l,a);const c=i.createWebChannel(l,a);let u=!1,h=!1;const f=new M1({Hr:m=>{h?$("Connection","Not sending because WebChannel is closed:",m):(u||($("Connection","Opening WebChannel transport."),c.open(),u=!0),$("Connection","WebChannel sending:",m),c.send(m))},Jr:()=>c.close()}),p=(m,w,E)=>{m.listen(w,x=>{try{E(x)}catch(L){setTimeout(()=>{throw L},0)}})};return p(c,ri.EventType.OPEN,()=>{h||$("Connection","WebChannel transport opened.")}),p(c,ri.EventType.CLOSE,()=>{h||(h=!0,$("Connection","WebChannel transport closed"),f.io())}),p(c,ri.EventType.ERROR,m=>{h||(h=!0,ch("Connection","WebChannel transport errored:",m),f.io(new H(C.UNAVAILABLE,"The operation could not be completed")))}),p(c,ri.EventType.MESSAGE,m=>{var w;if(!h){const E=m.data[0];Se(!!E);const x=E,L=x.error||((w=x[0])===null||w===void 0?void 0:w.error);if(L){$("Connection","WebChannel received error:",L);const q=L.status;let G=function(ce){const z=Pe[ce];if(z!==void 0)return Ep(z)}(q),oe=L.message;G===void 0&&(G=C.INTERNAL,oe="Unknown error status: "+q+" with message "+L.message),h=!0,f.io(new H(G,oe)),c.close()}else $("Connection","WebChannel received:",E),f.ro(E)}}),p(o,Kb.STAT_EVENT,m=>{m.stat===oh.PROXY?$("Connection","Detected buffering proxy"):m.stat===oh.NOPROXY&&$("Connection","Detected no buffering proxy")}),setTimeout(()=>{f.so()},0),f}}function ia(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(t){return new zE(t,!0)}class Lp{constructor(e,n,s=1e3,r=1.5,i=6e4){this.Hs=e,this.timerId=n,this.wo=s,this.mo=r,this.yo=i,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const n=Math.floor(this.po+this.Ro()),s=Math.max(0,Date.now()-this.To),r=Math.max(0,n-s);r>0&&$("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){this.Io!==null&&(this.Io.skipDelay(),this.Io=null)}cancel(){this.Io!==null&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,n,s,r,i,o,a,l){this.Hs=e,this.Po=s,this.vo=r,this.Vo=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Lp(e,n)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Mo()}async stop(){this.No()&&await this.close(0)}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,n){this.Lo(),this.Uo(),this.xo.cancel(),this.So++,e!==4?this.xo.reset():n&&n.code===C.RESOURCE_EXHAUSTED?(cn(n.toString()),cn("Using maximum backoff delay to prevent overloading the backend."),this.xo.Eo()):n&&n.code===C.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.qo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}qo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,r])=>{this.So===n&&this.Go(s,r)},s=>{e(()=>{const r=new H(C.UNKNOWN,"Fetching auth token failed: "+s.message);return this.Qo(r)})})}Go(e,n){const s=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{s(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{s(()=>this.Qo(r))}),this.stream.onMessage(r=>{s(()=>this.onMessage(r))})}Mo(){this.state=5,this.xo.Ao(async()=>{this.state=0,this.start()})}Qo(e){return $("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():($("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $1 extends Mp{constructor(e,n,s,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,o),this.It=i}jo(e,n){return this.Vo._o("Listen",e,n)}onMessage(e){this.xo.reset();const n=QE(this.It,e),s=function(r){if(!("targetChange"in r))return ie.min();const i=r.targetChange;return i.targetIds&&i.targetIds.length?ie.min():i.readTime?rn(i.readTime):ie.min()}(e);return this.listener.Wo(n,s)}zo(e){const n={};n.database=sl(this.It),n.addTarget=function(r,i){let o;const a=i.target;return o=Ja(a)?{documents:JE(r,a)}:{query:ZE(r,a)},o.targetId=i.targetId,i.resumeToken.approximateByteSize()>0?o.resumeToken=Ap(r,i.resumeToken):i.snapshotVersion.compareTo(ie.min())>0&&(o.readTime=$i(r,i.snapshotVersion.toTimestamp())),o}(this.It,e);const s=t1(this.It,e);s&&(n.labels=s),this.Bo(n)}Ho(e){const n={};n.database=sl(this.It),n.removeTarget=e,this.Bo(n)}}class B1 extends Mp{constructor(e,n,s,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,o),this.It=i,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,n){return this.Vo._o("Write",e,n)}onMessage(e){if(Se(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=XE(e.writeResults,e.commitTime),s=rn(e.commitTime);return this.listener.Zo(s,n)}return Se(!e.writeResults||e.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=sl(this.It),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>YE(this.It,s))};this.Bo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1 extends class{}{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.Vo=s,this.It=r,this.nu=!1}su(){if(this.nu)throw new H(C.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,s){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,i])=>this.Vo.co(e,n,s,r,i)).catch(r=>{throw r.name==="FirebaseError"?(r.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new H(C.UNKNOWN,r.toString())})}fo(e,n,s,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.Vo.fo(e,n,s,i,o,r)).catch(i=>{throw i.name==="FirebaseError"?(i.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new H(C.UNKNOWN,i.toString())})}terminate(){this.nu=!0}}class V1{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,e==="Online"&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(cn(n),this.ou=!1):$("OnlineStateTracker",n)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e,n,s,r,i){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=i,this.mu.qr(o=>{s.enqueueAndForget(async()=>{ns(this)&&($("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=te(a);l._u.add(4),await Kr(l),l.gu.set("Unknown"),l._u.delete(4),await So(l)}(this))})}),this.gu=new V1(s,r)}}async function So(t){if(ns(t))for(const e of t.wu)await e(!0)}async function Kr(t){for(const e of t.wu)await e(!1)}function Fp(t,e){const n=te(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),Sc(n)?Cc(n):Vs(n).ko()&&Tc(n,e))}function $p(t,e){const n=te(t),s=Vs(n);n.du.delete(e),s.ko()&&Bp(n,e),n.du.size===0&&(s.ko()?s.Fo():ns(n)&&n.gu.set("Unknown"))}function Tc(t,e){t.yu.Ot(e.targetId),Vs(t).zo(e)}function Bp(t,e){t.yu.Ot(e),Vs(t).Ho(e)}function Cc(t){t.yu=new HE({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),se:e=>t.du.get(e)||null}),Vs(t).start(),t.gu.uu()}function Sc(t){return ns(t)&&!Vs(t).No()&&t.du.size>0}function ns(t){return te(t)._u.size===0}function Up(t){t.yu=void 0}async function H1(t){t.du.forEach((e,n)=>{Tc(t,e)})}async function q1(t,e){Up(t),Sc(t)?(t.gu.hu(e),Cc(t)):t.gu.set("Unknown")}async function K1(t,e,n){if(t.gu.set("Online"),e instanceof Ip&&e.state===2&&e.cause)try{await async function(s,r){const i=r.cause;for(const o of r.targetIds)s.du.has(o)&&(await s.remoteSyncer.rejectListen(o,i),s.du.delete(o),s.yu.removeTarget(o))}(t,e)}catch(s){$("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Bi(t,s)}else if(e instanceof gi?t.yu.Gt(e):e instanceof xp?t.yu.Yt(e):t.yu.Wt(e),!n.isEqual(ie.min()))try{const s=await Pp(t.localStore);n.compareTo(s)>=0&&await function(r,i){const o=r.yu.te(i);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=r.du.get(l);c&&r.du.set(l,c.withResumeToken(a.resumeToken,i))}}),o.targetMismatches.forEach(a=>{const l=r.du.get(a);if(!l)return;r.du.set(a,l.withResumeToken(st.EMPTY_BYTE_STRING,l.snapshotVersion)),Bp(r,a);const c=new zn(l.target,a,1,l.sequenceNumber);Tc(r,c)}),r.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(s){$("RemoteStore","Failed to raise snapshot:",s),await Bi(t,s)}}async function Bi(t,e,n){if(!Hr(e))throw e;t._u.add(1),await Kr(t),t.gu.set("Offline"),n||(n=()=>Pp(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{$("RemoteStore","Retrying IndexedDB access"),await n(),t._u.delete(1),await So(t)})}function Vp(t,e){return e().catch(n=>Bi(t,n,e))}async function xo(t){const e=te(t),n=An(e);let s=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;z1(e);)try{const r=await k1(e.localStore,s);if(r===null){e.fu.length===0&&n.Fo();break}s=r.batchId,G1(e,r)}catch(r){await Bi(e,r)}jp(e)&&Hp(e)}function z1(t){return ns(t)&&t.fu.length<10}function G1(t,e){t.fu.push(e);const n=An(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function jp(t){return ns(t)&&!An(t).No()&&t.fu.length>0}function Hp(t){An(t).start()}async function W1(t){An(t).eu()}async function Q1(t){const e=An(t);for(const n of t.fu)e.Xo(n.mutations)}async function Y1(t,e,n){const s=t.fu.shift(),r=wc.from(s,e,n);await Vp(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await xo(t)}async function X1(t,e){e&&An(t).Yo&&await async function(n,s){if(r=s.code,$E(r)&&r!==C.ABORTED){const i=n.fu.shift();An(n).Oo(),await Vp(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,s)),await xo(n)}var r}(t,e),jp(t)&&Hp(t)}async function kh(t,e){const n=te(t);n.asyncQueue.verifyOperationInProgress(),$("RemoteStore","RemoteStore received new credentials");const s=ns(n);n._u.add(3),await Kr(n),s&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),await So(n)}async function J1(t,e){const n=te(t);e?(n._u.delete(2),await So(n)):e||(n._u.add(2),await Kr(n),n.gu.set("Unknown"))}function Vs(t){return t.pu||(t.pu=function(e,n,s){const r=te(e);return r.su(),new $1(n,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,s)}(t.datastore,t.asyncQueue,{Yr:H1.bind(null,t),Zr:q1.bind(null,t),Wo:K1.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Oo(),Sc(t)?Cc(t):t.gu.set("Unknown")):(await t.pu.stop(),Up(t))})),t.pu}function An(t){return t.Iu||(t.Iu=function(e,n,s){const r=te(e);return r.su(),new B1(n,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,s)}(t.datastore,t.asyncQueue,{Yr:W1.bind(null,t),Zr:X1.bind(null,t),tu:Q1.bind(null,t),Zo:Y1.bind(null,t)}),t.wu.push(async e=>{e?(t.Iu.Oo(),await xo(t)):(await t.Iu.stop(),t.fu.length>0&&($("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))})),t.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,n,s,r,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new nn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,s,r,i){const o=Date.now()+s,a=new xc(e,n,o,r,i);return a.start(s),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(C.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ic(t,e){if(cn("AsyncQueue",`${e}: ${t}`),Hr(t))return new H(C.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e){this.comparator=e?(n,s)=>e(n,s)||j.comparator(n.key,s.key):(n,s)=>j.comparator(n.key,s.key),this.keyedMap=Ys(),this.sortedSet=new qe(this.comparator)}static emptySet(e){return new ys(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ys)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(!r.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ys;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(){this.Tu=new qe(j.comparator)}track(e){const n=e.doc.key,s=this.Tu.get(n);s?e.type!==0&&s.type===3?this.Tu=this.Tu.insert(n,e):e.type===3&&s.type!==1?this.Tu=this.Tu.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Tu=this.Tu.remove(n):e.type===1&&s.type===2?this.Tu=this.Tu.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):Z():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,s)=>{e.push(s)}),e}}class Is{constructor(e,n,s,r,i,o,a,l){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l}static fromInitialDocuments(e,n,s,r){const i=[];return n.forEach(o=>{i.push({type:0,doc:o})}),new Is(e,n,ys.emptySet(n),i,s,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(){this.Au=void 0,this.listeners=[]}}class e_{constructor(){this.queries=new Us(e=>up(e),wo),this.onlineState="Unknown",this.Ru=new Set}}async function qp(t,e){const n=te(t),s=e.query;let r=!1,i=n.queries.get(s);if(i||(r=!0,i=new Z1),r)try{i.Au=await n.onListen(s)}catch(o){const a=Ic(o,`Initialization of query '${el(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.listeners.push(e),e.bu(n.onlineState),i.Au&&e.Pu(i.Au)&&Ac(n)}async function Kp(t,e){const n=te(t),s=e.query;let r=!1;const i=n.queries.get(s);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),r=i.listeners.length===0)}if(r)return n.queries.delete(s),n.onUnlisten(s)}function t_(t,e){const n=te(t);let s=!1;for(const r of e){const i=r.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.Pu(r)&&(s=!0);o.Au=r}}s&&Ac(n)}function n_(t,e,n){const s=te(t),r=s.queries.get(e);if(r)for(const i of r.listeners)i.onError(n);s.queries.delete(e)}function Ac(t){t.Ru.forEach(e=>{e.next()})}class zp{constructor(e,n,s){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=s||{}}Pu(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new Is(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){if(!e.fromCache)return!0;const s=n!=="Offline";return(!this.options.Nu||!s)&&(!e.docs.isEmpty()||n==="Offline")}Du(e){if(e.docChanges.length>0)return!0;const n=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}xu(e){e=Is.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e){this.key=e}}class Wp{constructor(e){this.key=e}}class s_{constructor(e,n){this.query=e,this.Lu=n,this.Uu=null,this.current=!1,this.qu=le(),this.mutatedKeys=le(),this.Ku=hp(e),this.Gu=new ys(this.Ku)}get Qu(){return this.Lu}ju(e,n){const s=n?n.Wu:new Rh,r=n?n.Gu:this.Gu;let i=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,h)=>{const f=r.get(u),p=yc(this.query,h)?h:null,m=!!f&&this.mutatedKeys.has(f.key),w=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let E=!1;f&&p?f.data.isEqual(p.data)?m!==w&&(s.track({type:3,doc:p}),E=!0):this.zu(f,p)||(s.track({type:2,doc:p}),E=!0,(l&&this.Ku(p,l)>0||c&&this.Ku(p,c)<0)&&(a=!0)):!f&&p?(s.track({type:0,doc:p}),E=!0):f&&!p&&(s.track({type:1,doc:f}),E=!0,(l||c)&&(a=!0)),E&&(p?(o=o.add(p),i=w?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),s.track({type:1,doc:u})}return{Gu:o,Wu:s,$i:a,mutatedKeys:i}}zu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s){const r=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const i=e.Wu.Eu();i.sort((c,u)=>function(h,f){const p=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z()}};return p(h)-p(f)}(c.type,u.type)||this.Ku(c.doc,u.doc)),this.Hu(s);const o=n?this.Ju():[],a=this.qu.size===0&&this.current?1:0,l=a!==this.Uu;return this.Uu=a,i.length!==0||l?{snapshot:new Is(this.query,e.Gu,r,i,e.mutatedKeys,a===0,l,!1),Yu:o}:{Yu:o}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new Rh,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=le(),this.Gu.forEach(s=>{this.Xu(s.key)&&(this.qu=this.qu.add(s.key))});const n=[];return e.forEach(s=>{this.qu.has(s)||n.push(new Wp(s))}),this.qu.forEach(s=>{e.has(s)||n.push(new Gp(s))}),n}Zu(e){this.Lu=e.Hi,this.qu=le();const n=this.ju(e.documents);return this.applyChanges(n,!0)}tc(){return Is.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,this.Uu===0)}}class r_{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class i_{constructor(e){this.key=e,this.ec=!1}}class o_{constructor(e,n,s,r,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new Us(a=>up(a),wo),this.ic=new Map,this.rc=new Set,this.oc=new qe(j.comparator),this.uc=new Map,this.cc=new bc,this.ac={},this.hc=new Map,this.lc=xs.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return this.fc===!0}}async function a_(t,e){const n=y_(t);let s,r;const i=n.sc.get(e);if(i)s=i.targetId,n.sharedClientState.addLocalQueryTarget(s),r=i.view.tc();else{const o=await R1(n.localStore,un(e));n.isPrimaryClient&&Fp(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);s=o.targetId,r=await l_(n,e,s,a==="current")}return r}async function l_(t,e,n,s){t.dc=(u,h,f)=>async function(p,m,w,E){let x=m.view.ju(w);x.$i&&(x=await Ih(p.localStore,m.query,!1).then(({documents:G})=>m.view.ju(G,x)));const L=E&&E.targetChanges.get(m.targetId),q=m.view.applyChanges(x,p.isPrimaryClient,L);return Oh(p,m.targetId,q.Yu),q.snapshot}(t,u,h,f);const r=await Ih(t.localStore,e,!0),i=new s_(e,r.Hi),o=i.ju(r.documents),a=qr.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline"),l=i.applyChanges(o,t.isPrimaryClient,a);Oh(t,n,l.Yu);const c=new r_(e,n,i);return t.sc.set(e,c),t.ic.has(n)?t.ic.get(n).push(e):t.ic.set(n,[e]),l.snapshot}async function c_(t,e){const n=te(t),s=n.sc.get(e),r=n.ic.get(s.targetId);if(r.length>1)return n.ic.set(s.targetId,r.filter(i=>!wo(i,e))),void n.sc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await rl(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),$p(n.remoteStore,s.targetId),il(n,s.targetId)}).catch(jr)):(il(n,s.targetId),await rl(n.localStore,s.targetId,!0))}async function u_(t,e,n){const s=v_(t);try{const r=await function(i,o){const a=te(i),l=Ve.now(),c=o.reduce((f,p)=>f.add(p.key),le());let u,h;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=hn(),m=le();return a.Gi.getEntries(f,c).next(w=>{p=w,p.forEach((E,x)=>{x.isValidDocument()||(m=m.add(E))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,p)).next(w=>{u=w;const E=[];for(const x of o){const L=LE(x,u.get(x.key).overlayedDocument);L!=null&&E.push(new ts(x.key,L,lp(L.value.mapValue),sn.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,E,o)}).next(w=>{h=w;const E=w.applyToLocalDocumentSet(u,m);return a.documentOverlayCache.saveOverlays(f,w.batchId,E)})}).then(()=>({batchId:h.batchId,changes:Tp(u)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),function(i,o,a){let l=i.ac[i.currentUser.toKey()];l||(l=new qe(ve)),l=l.insert(o,a),i.ac[i.currentUser.toKey()]=l}(s,r.batchId,n),await zr(s,r.changes),await xo(s.remoteStore)}catch(r){const i=Ic(r,"Failed to persist write");n.reject(i)}}async function Qp(t,e){const n=te(t);try{const s=await A1(n.localStore,e);e.targetChanges.forEach((r,i)=>{const o=n.uc.get(i);o&&(Se(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.ec=!0:r.modifiedDocuments.size>0?Se(o.ec):r.removedDocuments.size>0&&(Se(o.ec),o.ec=!1))}),await zr(n,s,e)}catch(s){await jr(s)}}function Nh(t,e,n){const s=te(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.sc.forEach((i,o)=>{const a=o.view.bu(e);a.snapshot&&r.push(a.snapshot)}),function(i,o){const a=te(i);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const h of u.listeners)h.bu(o)&&(l=!0)}),l&&Ac(a)}(s.eventManager,e),r.length&&s.nc.Wo(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function h_(t,e,n){const s=te(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s.uc.get(e),i=r&&r.key;if(i){let o=new qe(j.comparator);o=o.insert(i,Je.newNoDocument(i,ie.min()));const a=le().add(i),l=new To(ie.min(),new Map,new je(ve),o,a);await Qp(s,l),s.oc=s.oc.remove(i),s.uc.delete(e),Dc(s)}else await rl(s.localStore,e,!1).then(()=>il(s,e,n)).catch(jr)}async function f_(t,e){const n=te(t),s=e.batch.batchId;try{const r=await I1(n.localStore,e);Xp(n,s,null),Yp(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await zr(n,r)}catch(r){await jr(r)}}async function d_(t,e,n){const s=te(t);try{const r=await function(i,o){const a=te(i);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(u=>(Se(u!==null),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(s.localStore,e);Xp(s,e,n),Yp(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await zr(s,r)}catch(r){await jr(r)}}function Yp(t,e){(t.hc.get(e)||[]).forEach(n=>{n.resolve()}),t.hc.delete(e)}function Xp(t,e,n){const s=te(t);let r=s.ac[s.currentUser.toKey()];if(r){const i=r.get(e);i&&(n?i.reject(n):i.resolve(),r=r.remove(e)),s.ac[s.currentUser.toKey()]=r}}function il(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.ic.get(e))t.sc.delete(s),n&&t.nc._c(s,n);t.ic.delete(e),t.isPrimaryClient&&t.cc.ls(e).forEach(s=>{t.cc.containsKey(s)||Jp(t,s)})}function Jp(t,e){t.rc.delete(e.path.canonicalString());const n=t.oc.get(e);n!==null&&($p(t.remoteStore,n),t.oc=t.oc.remove(e),t.uc.delete(n),Dc(t))}function Oh(t,e,n){for(const s of n)s instanceof Gp?(t.cc.addReference(s.key,e),p_(t,s)):s instanceof Wp?($("SyncEngine","Document no longer in limbo: "+s.key),t.cc.removeReference(s.key,e),t.cc.containsKey(s.key)||Jp(t,s.key)):Z()}function p_(t,e){const n=e.key,s=n.path.canonicalString();t.oc.get(n)||t.rc.has(s)||($("SyncEngine","New document in limbo: "+n),t.rc.add(s),Dc(t))}function Dc(t){for(;t.rc.size>0&&t.oc.size<t.maxConcurrentLimboResolutions;){const e=t.rc.values().next().value;t.rc.delete(e);const n=new j(Ie.fromString(e)),s=t.lc.next();t.uc.set(s,new i_(n)),t.oc=t.oc.insert(n,s),Fp(t.remoteStore,new zn(un(mc(n.path)),s,2,fc.at))}}async function zr(t,e,n){const s=te(t),r=[],i=[],o=[];s.sc.isEmpty()||(s.sc.forEach((a,l)=>{o.push(s.dc(l,e,n).then(c=>{if(c){s.isPrimaryClient&&s.sharedClientState.updateQueryState(l.targetId,c.fromCache?"not-current":"current"),r.push(c);const u=_c.Ci(l.targetId,c);i.push(u)}}))}),await Promise.all(o),s.nc.Wo(r),await async function(a,l){const c=te(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>S.forEach(l,h=>S.forEach(h.Si,f=>c.persistence.referenceDelegate.addReference(u,h.targetId,f)).next(()=>S.forEach(h.Di,f=>c.persistence.referenceDelegate.removeReference(u,h.targetId,f)))))}catch(u){if(!Hr(u))throw u;$("LocalStore","Failed to update sequence numbers: "+u)}for(const u of l){const h=u.targetId;if(!u.fromCache){const f=c.Ui.get(h),p=f.snapshotVersion,m=f.withLastLimboFreeSnapshotVersion(p);c.Ui=c.Ui.insert(h,m)}}}(s.localStore,i))}async function g_(t,e){const n=te(t);if(!n.currentUser.isEqual(e)){$("SyncEngine","User change. New user:",e.toKey());const s=await Op(n.localStore,e);n.currentUser=e,function(r,i){r.hc.forEach(o=>{o.forEach(a=>{a.reject(new H(C.CANCELLED,i))})}),r.hc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await zr(n,s.ji)}}function m_(t,e){const n=te(t),s=n.uc.get(e);if(s&&s.ec)return le().add(s.key);{let r=le();const i=n.ic.get(e);if(!i)return r;for(const o of i){const a=n.sc.get(o);r=r.unionWith(a.view.Qu)}return r}}function y_(t){const e=te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Qp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=m_.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=h_.bind(null,e),e.nc.Wo=t_.bind(null,e.eventManager),e.nc._c=n_.bind(null,e.eventManager),e}function v_(t){const e=te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=f_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=d_.bind(null,e),e}class w_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.It=Co(e.databaseInfo.databaseId),this.sharedClientState=this.mc(e),this.persistence=this.gc(e),await this.persistence.start(),this.localStore=this.yc(e),this.gcScheduler=this.Ic(e,this.localStore),this.indexBackfillerScheduler=this.Tc(e,this.localStore)}Ic(e,n){return null}Tc(e,n){return null}yc(e){return x1(this.persistence,new C1,e.initialUser,this.It)}gc(e){return new _1(Ec.Bs,this.It)}mc(e){return new O1}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class b_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Nh(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=g_.bind(null,this.syncEngine),await J1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new e_}createDatastore(e){const n=Co(e.databaseInfo.databaseId),s=(r=e.databaseInfo,new F1(r));var r;return function(i,o,a,l){return new U1(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return n=this.localStore,s=this.datastore,r=e.asyncQueue,i=a=>Nh(this.syncEngine,a,0),o=Dh.C()?new Dh:new P1,new j1(n,s,r,i,o);var n,s,r,i,o}createSyncEngine(e,n){return function(s,r,i,o,a,l,c){const u=new o_(s,r,i,o,a,l);return c&&(u.fc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=te(e);$("RemoteStore","RemoteStore shutting down."),n._u.add(5),await Kr(n),n.mu.shutdown(),n.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):cn("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e,n,s,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=yt.UNAUTHENTICATED,this.clientId=rp.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,async i=>{$("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(s,i=>($("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new H(C.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new nn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Ic(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function __(t,e){t.asyncQueue.verifyOperationInProgress(),$("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async r=>{s.isEqual(r)||(await Op(e.localStore,r),s=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function T_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await C_(t);$("FirestoreClient","Initializing OnlineComponentProvider");const s=await t.getConfiguration();await e.initialize(n,s),t.setCredentialChangeListener(r=>kh(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>kh(e.remoteStore,i)),t.onlineComponents=e}async function C_(t){return t.offlineComponents||($("FirestoreClient","Using default OfflineComponentProvider"),await __(t,new w_)),t.offlineComponents}async function eg(t){return t.onlineComponents||($("FirestoreClient","Using default OnlineComponentProvider"),await T_(t,new b_)),t.onlineComponents}function S_(t){return eg(t).then(e=>e.syncEngine)}async function tg(t){const e=await eg(t),n=e.eventManager;return n.onListen=a_.bind(null,e.syncEngine),n.onUnlisten=c_.bind(null,e.syncEngine),n}function x_(t,e,n={}){const s=new nn;return t.asyncQueue.enqueueAndForget(async()=>function(r,i,o,a,l){const c=new Zp({next:h=>{i.enqueueAndForget(()=>Kp(r,u));const f=h.docs.has(o);!f&&h.fromCache?l.reject(new H(C.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&a&&a.source==="server"?l.reject(new H(C.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),u=new zp(mc(o.path),c,{includeMetadataChanges:!0,Nu:!0});return qp(r,u)}(await tg(t),t.asyncQueue,e,n,s)),s.promise}function I_(t,e,n={}){const s=new nn;return t.asyncQueue.enqueueAndForget(async()=>function(r,i,o,a,l){const c=new Zp({next:h=>{i.enqueueAndForget(()=>Kp(r,u)),h.fromCache&&a.source==="server"?l.reject(new H(C.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),u=new zp(o,c,{includeMetadataChanges:!0,Nu:!0});return qp(r,u)}(await tg(t),t.asyncQueue,e,n,s)),s.promise}const Ph=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(t,e,n){if(!n)throw new H(C.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function A_(t,e,n,s){if(e===!0&&s===!0)throw new H(C.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Lh(t){if(!j.isDocumentKey(t))throw new H(C.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Mh(t){if(j.isDocumentKey(t))throw new H(C.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function kc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Z()}function As(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(C.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kc(t);throw new H(C.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new H(C.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new H(C.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,A_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new H(C.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new H(C.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fh(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Qb;switch(n.type){case"gapi":const s=n.client;return new Jb(s,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new H(C.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Ph.get(e);n&&($("ComponentProvider","Removing Datastore"),Ph.delete(e),n.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _t(this.firestore,e,this._key)}}class Io{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Io(this.firestore,e,this._query)}}class Tn extends Io{constructor(e,n,s){super(e,n,mc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _t(this.firestore,null,new j(e))}withConverter(e){return new Tn(this.firestore,e,this._path)}}function D_(t,e,...n){if(t=Sn(t),ng("collection","path",e),t instanceof Rc){const s=Ie.fromString(e,...n);return Mh(s),new Tn(t,null,s)}{if(!(t instanceof _t||t instanceof Tn))throw new H(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Ie.fromString(e,...n));return Mh(s),new Tn(t.firestore,null,s)}}function sg(t,e,...n){if(t=Sn(t),arguments.length===1&&(e=rp.R()),ng("doc","path",e),t instanceof Rc){const s=Ie.fromString(e,...n);return Lh(s),new _t(t,null,new j(s))}{if(!(t instanceof _t||t instanceof Tn))throw new H(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Ie.fromString(e,...n));return Lh(s),new _t(t.firestore,t instanceof Tn?t.converter:null,new j(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new Lp(this,"async_queue_retry"),this.jc=()=>{const n=ia();n&&$("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.bo()};const e=ia();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const n=ia();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const n=new nn;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}async Hc(){if(this.Bc.length!==0){try{await this.Bc[0](),this.Bc.shift(),this.xo.reset()}catch(e){if(!Hr(e))throw e;$("AsyncQueue","Operation failed with retryable error: "+e)}this.Bc.length>0&&this.xo.Ao(()=>this.Hc())}}zc(e){const n=this.$c.then(()=>(this.Kc=!0,e().catch(s=>{this.qc=s,this.Kc=!1;const r=function(i){let o=i.message||"";return i.stack&&(o=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),o}(s);throw cn("INTERNAL UNHANDLED ERROR: ",r),s}).then(s=>(this.Kc=!1,s))));return this.$c=n,n}enqueueAfterDelay(e,n,s){this.Wc(),this.Qc.indexOf(e)>-1&&(n=0);const r=xc.createAndSchedule(this,e,n,s,i=>this.Jc(i));return this.Uc.push(r),r}Wc(){this.qc&&Z()}verifyOperationInProgress(){}async Yc(){let e;do e=this.$c,await e;while(e!==this.$c)}Xc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}class Ao extends Rc{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new k_,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||rg(this),this._firestoreClient.terminate()}}function R_(t,e){const n=typeof t=="object"?t:kw(),s=typeof t=="string"?t:e||"(default)";return Sw(n,"firestore").getImmediate({identifier:s})}function Nc(t){return t._firestoreClient||rg(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function rg(t){var e;const n=t._freezeSettings(),s=function(r,i,o,a){return new cE(r,i,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new E_(t._authCredentials,t._appCheckCredentials,t._queue,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(C.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ds(st.fromBase64String(e))}catch(n){throw new H(C.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ds(st.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(C.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(C.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_=/^__.*__$/;class ig{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ts(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function og(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z()}}class Pc{constructor(e,n,s,r,i,o){this.settings=e,this.databaseId=n,this.It=s,this.ignoreUndefinedProperties=r,i===void 0&&this.ea(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new Pc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.sa({path:s,ra:!1});return r.oa(e),r}ua(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.sa({path:s,ra:!1});return r.ea(),r}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return Ui(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(e.length===0)throw this.aa("Document fields must not be empty");if(og(this.na)&&N_.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class O_{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.It=s||Co(e)}fa(e,n,s,r=!1){return new Pc({na:e,methodName:n,la:s,path:ot.emptyPath(),ra:!1,ha:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function P_(t){const e=t._freezeSettings(),n=Co(t._databaseId);return new O_(t._databaseId,!!e.ignoreUndefinedProperties,n)}class Ro extends ko{_toFieldTransform(e){if(e.na!==2)throw e.na===1?e.aa(`${this._methodName}() can only appear at the top level of your update data`):e.aa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ro}}class Lc extends ko{_toFieldTransform(e){return new RE(e.path,new Ar)}isEqual(e){return e instanceof Lc}}function L_(t,e,n,s){const r=t.fa(1,e,n);lg("Data must be an object, but it was:",r,s);const i=[],o=Et.empty();es(s,(l,c)=>{const u=Mc(e,l,n);c=Sn(c);const h=r.ua(u);if(c instanceof Ro)i.push(u);else{const f=No(c,h);f!=null&&(i.push(u),o.set(u,f))}});const a=new Gt(i);return new ig(o,a,r.fieldTransforms)}function M_(t,e,n,s,r,i){const o=t.fa(1,e,n),a=[$h(e,s,n)],l=[r];if(i.length%2!=0)throw new H(C.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push($h(e,i[f])),l.push(i[f+1]);const c=[],u=Et.empty();for(let f=a.length-1;f>=0;--f)if(!B_(c,a[f])){const p=a[f];let m=l[f];m=Sn(m);const w=o.ua(p);if(m instanceof Ro)c.push(p);else{const E=No(m,w);E!=null&&(c.push(p),u.set(p,E))}}const h=new Gt(c);return new ig(u,h,o.fieldTransforms)}function No(t,e){if(ag(t=Sn(t)))return lg("Unsupported field value:",e,t),F_(t,e);if(t instanceof ko)return function(n,s){if(!og(s.na))throw s.aa(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.aa(`${n._methodName}() is not currently supported inside arrays`);const r=n._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ra&&e.na!==4)throw e.aa("Nested arrays are not supported");return function(n,s){const r=[];let i=0;for(const o of n){let a=No(o,s.ca(i));a==null&&(a={nullValue:"NULL_VALUE"}),r.push(a),i++}return{arrayValue:{values:r}}}(t,e)}return function(n,s){if((n=Sn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return AE(s.It,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const r=Ve.fromDate(n);return{timestampValue:$i(s.It,r)}}if(n instanceof Ve){const r=new Ve(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:$i(s.It,r)}}if(n instanceof Oc)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ds)return{bytesValue:Ap(s.It,n._byteString)};if(n instanceof _t){const r=s.databaseId,i=n.firestore._databaseId;if(!i.isEqual(r))throw s.aa(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:vc(n.firestore._databaseId||s.databaseId,n._key.path)}}throw s.aa(`Unsupported field value: ${kc(n)}`)}(t,e)}function F_(t,e){const n={};return ip(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):es(t,(s,r)=>{const i=No(r,e.ia(s));i!=null&&(n[s]=i)}),{mapValue:{fields:n}}}function ag(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ve||t instanceof Oc||t instanceof Ds||t instanceof _t||t instanceof ko)}function lg(t,e,n){if(!ag(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const s=kc(n);throw s==="an object"?e.aa(t+" a custom object"):e.aa(t+" "+s)}}function $h(t,e,n){if((e=Sn(e))instanceof Do)return e._internalPath;if(typeof e=="string")return Mc(t,e);throw Ui("Field path arguments must be of type string or ",t,!1,void 0,n)}const $_=new RegExp("[~\\*/\\[\\]]");function Mc(t,e,n){if(e.search($_)>=0)throw Ui(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Do(...e.split("."))._internalPath}catch{throw Ui(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ui(t,e,n,s,r){const i=s&&!s.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${s}`),o&&(l+=` in document ${r}`),l+=")"),new H(C.INVALID_ARGUMENT,a+t+l)}function B_(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,n,s,r,i){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new U_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ug("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class U_ extends cg{data(){return super.data()}}function ug(t,e){return typeof e=="string"?Mc(t,e):e instanceof Do?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hg extends cg{constructor(e,n,s,r,i,o){super(e,n,s,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new mi(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(ug("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class mi extends hg{data(e={}){return super.data(e)}}class V_{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Xs(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new mi(this._firestore,this._userDataWriter,s.key,s,new Xs(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(C.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let i=0;return s._snapshot.docChanges.map(o=>({type:"added",doc:new mi(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Xs(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:i++}))}{let i=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>r||o.type!==3).map(o=>{const a=new mi(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Xs(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let l=-1,c=-1;return o.type!==0&&(l=i.indexOf(o.doc.key),i=i.delete(o.doc.key)),o.type!==1&&(i=i.add(o.doc),c=i.indexOf(o.doc.key)),{type:j_(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function j_(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H(C.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{convertValue(e,n="none"){switch(Jn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Le(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Z()}}convertObject(e,n){const s={};return es(e.fields,(r,i)=>{s[r]=this.convertValue(i,n)}),s}convertGeoPoint(e){return new Oc(Le(e.latitude),Le(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=ap(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Cr(e));default:return null}}convertTimestamp(e){const n=In(e);return new Ve(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ie.fromString(e);Se(Np(s));const r=new Sr(s.get(1),s.get(3)),i=new j(s.popFirst(5));return r.isEqual(n)||cn(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(t){t=As(t,_t);const e=As(t.firestore,Ao);return x_(Nc(e),t._key).then(n=>Q_(e,t,n))}class fg extends q_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ds(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,n)}}function z_(t){t=As(t,Io);const e=As(t.firestore,Ao),n=Nc(e),s=new fg(e);return H_(t._query),I_(n,t._query).then(r=>new V_(e,s,t,r))}function G_(t,e,n,...s){t=As(t,_t);const r=As(t.firestore,Ao),i=P_(r);let o;return o=typeof(e=Sn(e))=="string"||e instanceof Do?M_(i,"updateDoc",t._key,e,n,s):L_(i,"updateDoc",t._key,e),W_(r,[o.toMutation(t._key,sn.exists(!0))])}function W_(t,e){return function(n,s){const r=new nn;return n.asyncQueue.enqueueAndForget(async()=>u_(await S_(n),s,r)),r.promise}(Nc(t),e)}function Q_(t,e,n){const s=n.docs.get(e._key),r=new fg(t);return new hg(t,r,e._key,s,new Xs(n.hasPendingWrites,n.fromCache),e.converter)}function Y_(){return new Lc("serverTimestamp")}(function(t,e=!0){(function(n){Bs=n})(Aw),Si(new mr("firestore",(n,{instanceIdentifier:s,options:r})=>{const i=n.getProvider("app").getImmediate(),o=new Ao(new Yb(n.getProvider("auth-internal")),new eE(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new H(C.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sr(a.options.projectId,l)}(i,s),i);return r=Object.assign({useFetchStreams:e},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),gs(ah,"3.4.15",t),gs(ah,"3.4.15","esm2017")})();const X_={apiKey:{BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}.FIREBASE_API_KEY,authDomain:"wedding-invites-5f1fe.firebaseapp.com",projectId:"wedding-invites-5f1fe",storageBucket:"wedding-invites-5f1fe.appspot.com",messagingSenderId:"681510411650",appId:"1:681510411650:web:8f56daa1dfce6d2f20c39b"},J_=Dw(X_),Fc=R_(J_);function Tt(t,e,...n){if(t in e){let r=e[t];return typeof r=="function"?r(...n):r}let s=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(r=>`"${r}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,Tt),s}var ks=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(ks||{}),vn=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(vn||{});function Ke({visible:t=!0,features:e=0,ourProps:n,theirProps:s,...r}){var i;let o=Z_(s,n),a=Object.assign(r,{props:o});if(t||e&2&&o.static)return oa(a);if(e&1){let l=(i=o.unmount)==null||i?0:1;return Tt(l,{[0](){return null},[1](){return oa({...r,props:{...o,hidden:!0,style:{display:"none"}}})}})}return oa(a)}function oa({props:t,attrs:e,slots:n,slot:s,name:r}){var i;let{as:o,...a}=$c(t,["unmount","static"]),l=(i=n.default)==null?void 0:i.call(n,s),c={};if(s){let u=!1,h=[];for(let[f,p]of Object.entries(s))typeof p=="boolean"&&(u=!0),p===!0&&h.push(f);u&&(c["data-headlessui-state"]=h.join(" "))}if(o==="template"){if(l=dg(l),Object.keys(a).length>0||Object.keys(e).length>0){let[u,...h]=l!=null?l:[];if(!tT(u)||h.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${r} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(a).concat(Object.keys(e)).sort((f,p)=>f.localeCompare(p)).map(f=>`  - ${f}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(f=>`  - ${f}`).join(`
`)].join(`
`));return an(u,Object.assign({},a,c))}return Array.isArray(l)&&l.length===1?l[0]:l}return Be(o,Object.assign({},a,c),l)}function dg(t){return t.flatMap(e=>e.type===$e?dg(e.children):[e])}function Z_(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let s of t)for(let r in s)r.startsWith("on")&&typeof s[r]=="function"?(n[r]!=null||(n[r]=[]),n[r].push(s[r])):e[r]=s[r];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(n).map(s=>[s,void 0])));for(let s in n)Object.assign(e,{[s](r,...i){let o=n[s];for(let a of o){if(r instanceof Event&&r.defaultPrevented)return;a(r,...i)}}});return e}function eT(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function $c(t,e=[]){let n=Object.assign({},t);for(let s of e)s in n&&delete n[s];return n}function tT(t){return t==null?!1:typeof t.type=="string"||typeof t.type=="object"||typeof t.type=="function"}let nT=0;function sT(){return++nT}function Bt(){return sT()}var en=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(en||{});function Qe(t){var e;return t==null||t.value==null?null:(e=t.value.$el)!=null?e:t.value}let pg=Symbol("Context");var Yt=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Yt||{});function rT(){return Oo()!==null}function Oo(){return Ae(pg,null)}function gg(t){et(pg,t)}function Bh(t,e){if(t)return t;let n=e!=null?e:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function mg(t,e){let n=Q(Bh(t.value.type,t.value.as));return Ue(()=>{n.value=Bh(t.value.type,t.value.as)}),St(()=>{var s;n.value||!Qe(e)||Qe(e)instanceof HTMLButtonElement&&!((s=Qe(e))!=null&&s.hasAttribute("type"))&&(n.value="button")}),n}const Po=typeof window>"u"||typeof document>"u";function js(t){if(Po)return null;if(t instanceof Node)return t.ownerDocument;if(t!=null&&t.hasOwnProperty("value")){let e=Qe(t);if(e)return e.ownerDocument}return document}let ol=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Rr=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(Rr||{}),yg=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(yg||{}),iT=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(iT||{});function oT(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(ol))}var vg=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(vg||{});function aT(t,e=0){var n;return t===((n=js(t))==null?void 0:n.body)?!1:Tt(e,{[0](){return t.matches(ol)},[1](){let s=t;for(;s!==null;){if(s.matches(ol))return!0;s=s.parentElement}return!1}})}function lr(t){t==null||t.focus({preventScroll:!0})}let lT=["textarea","input"].join(",");function cT(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,lT))!=null?n:!1}function uT(t,e=n=>n){return t.slice().sort((n,s)=>{let r=e(n),i=e(s);if(r===null||i===null)return 0;let o=r.compareDocumentPosition(i);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function al(t,e,n=!0,s=null){var r;let i=(r=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t==null?void 0:t.ownerDocument)!=null?r:document,o=Array.isArray(t)?n?uT(t):t:oT(t);s=s!=null?s:i.activeElement;let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(s))-1;if(e&4)return Math.max(0,o.indexOf(s))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=e&32?{preventScroll:!0}:{},u=0,h=o.length,f;do{if(u>=h||u+h<=0)return 0;let p=l+u;if(e&16)p=(p+h)%h;else{if(p<0)return 3;if(p>=h)return 1}f=o[p],f==null||f.focus(c),u+=a}while(f!==i.activeElement);return e&6&&cT(f)&&f.select(),f.hasAttribute("tabindex")||f.setAttribute("tabindex","0"),2}function aa(t,e,n){Po||St(s=>{document.addEventListener(t,e,n),s(()=>document.removeEventListener(t,e,n))})}function hT(t,e,n=J(()=>!0)){function s(i,o){if(!n.value||i.defaultPrevented)return;let a=o(i);if(a===null||!a.ownerDocument.documentElement.contains(a))return;let l=function c(u){return typeof u=="function"?c(u()):Array.isArray(u)||u instanceof Set?u:[u]}(t);for(let c of l){if(c===null)continue;let u=c instanceof HTMLElement?c:Qe(c);if(u!=null&&u.contains(a))return}return!aT(a,vg.Loose)&&a.tabIndex!==-1&&i.preventDefault(),e(i,a)}let r=Q(null);aa("mousedown",i=>{n.value&&(r.value=i.target)},!0),aa("click",i=>{!r.value||(s(i,()=>r.value),r.value=null)},!0),aa("blur",i=>s(i,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}var Nr=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(Nr||{});let Vi=Ne({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(t,{slots:e,attrs:n}){return()=>{let{features:s,...r}=t,i={"aria-hidden":(s&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(s&4)===4&&(s&2)!==2&&{display:"none"}}};return Ke({ourProps:i,theirProps:r,slot:{},attrs:n,slots:e,name:"Hidden"})}}});function fT(t){var e;let n=(e=t==null?void 0:t.form)!=null?e:t.closest("form");if(n){for(let s of n.elements)if(s.tagName==="INPUT"&&s.type==="submit"||s.tagName==="BUTTON"&&s.type==="submit"||s.nodeName==="INPUT"&&s.type==="image"){s.click();return}}}function dT(t,e,n){let s=Q(n==null?void 0:n.value),r=J(()=>t.value!==void 0);return[J(()=>r.value?t.value:s.value),function(i){return r.value||(s.value=i),e==null?void 0:e(i)}]}function pT(t,e,n){Po||St(s=>{window.addEventListener(t,e,n),s(()=>window.removeEventListener(t,e,n))})}var ll=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(ll||{});function gT(){let t=Q(0);return pT("keydown",e=>{e.key==="Tab"&&(t.value=e.shiftKey?1:0)}),t}function wg(t,e,n,s){Po||St(r=>{t=t!=null?t:window,t.addEventListener(e,n,s),r(()=>t.removeEventListener(e,n,s))})}function mT(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}var bg=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(bg||{});let Gs=Object.assign(Ne({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:Object,default:Q(new Set)}},inheritAttrs:!1,setup(t,{attrs:e,slots:n,expose:s}){let r=Q(null);s({el:r,$el:r});let i=J(()=>js(r));yT({ownerDocument:i},J(()=>Boolean(t.features&16)));let o=vT({ownerDocument:i,container:r,initialFocus:J(()=>t.initialFocus)},J(()=>Boolean(t.features&2)));wT({ownerDocument:i,container:r,containers:t.containers,previousActiveElement:o},J(()=>Boolean(t.features&8)));let a=gT();function l(){let c=Qe(r);!c||Tt(a.value,{[ll.Forwards]:()=>al(c,Rr.First),[ll.Backwards]:()=>al(c,Rr.Last)})}return()=>{let c={},u={ref:r},{features:h,initialFocus:f,containers:p,...m}=t;return Be($e,[Boolean(h&4)&&Be(Vi,{as:"button",type:"button",onFocus:l,features:Nr.Focusable}),Ke({ourProps:u,theirProps:{...e,...m},slot:c,attrs:e,slots:n,name:"FocusTrap"}),Boolean(h&4)&&Be(Vi,{as:"button",type:"button",onFocus:l,features:Nr.Focusable})])}}}),{features:bg});function yT({ownerDocument:t},e){let n=Q(null);function s(){var i;n.value||(n.value=(i=t.value)==null?void 0:i.activeElement)}function r(){!n.value||(lr(n.value),n.value=null)}Ue(()=>{En(e,(i,o)=>{i!==o&&(i?s():r())},{immediate:!0})}),Ut(r)}function vT({ownerDocument:t,container:e,initialFocus:n},s){let r=Q(null),i=Q(!1);return Ue(()=>i.value=!0),Ut(()=>i.value=!1),Ue(()=>{En([e,n,s],(o,a)=>{if(o.every((c,u)=>(a==null?void 0:a[u])===c)||!s.value)return;let l=Qe(e);!l||mT(()=>{var c,u;if(!i.value)return;let h=Qe(n),f=(c=t.value)==null?void 0:c.activeElement;if(h){if(h===f){r.value=f;return}}else if(l.contains(f)){r.value=f;return}h?lr(h):al(l,Rr.First|Rr.NoScroll)===yg.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),r.value=(u=t.value)==null?void 0:u.activeElement})},{immediate:!0,flush:"post"})}),r}function wT({ownerDocument:t,container:e,containers:n,previousActiveElement:s},r){var i;wg((i=t.value)==null?void 0:i.defaultView,"focus",o=>{if(!r.value)return;let a=new Set(n==null?void 0:n.value);a.add(e);let l=s.value;if(!l)return;let c=o.target;c&&c instanceof HTMLElement?bT(a,c)?(s.value=c,lr(c)):(o.preventDefault(),o.stopPropagation(),lr(l)):lr(s.value)},!0)}function bT(t,e){var n;for(let s of t)if((n=s.value)!=null&&n.contains(e))return!0;return!1}let Uh="body > *",as=new Set,gn=new Map;function Vh(t){t.setAttribute("aria-hidden","true"),t.inert=!0}function jh(t){let e=gn.get(t);!e||(e["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",e["aria-hidden"]),t.inert=e.inert)}function ET(t,e=Q(!0)){St(n=>{if(!e.value||!t.value)return;let s=t.value,r=js(s);if(r){as.add(s);for(let i of gn.keys())i.contains(s)&&(jh(i),gn.delete(i));r.querySelectorAll(Uh).forEach(i=>{if(i instanceof HTMLElement){for(let o of as)if(i.contains(o))return;as.size===1&&(gn.set(i,{"aria-hidden":i.getAttribute("aria-hidden"),inert:i.inert}),Vh(i))}}),n(()=>{if(as.delete(s),as.size>0)r.querySelectorAll(Uh).forEach(i=>{if(i instanceof HTMLElement&&!gn.has(i)){for(let o of as)if(i.contains(o))return;gn.set(i,{"aria-hidden":i.getAttribute("aria-hidden"),inert:i.inert}),Vh(i)}});else for(let i of gn.keys())jh(i),gn.delete(i)})}})}let Eg=Symbol("ForcePortalRootContext");function _T(){return Ae(Eg,!1)}let cl=Ne({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(t,{slots:e,attrs:n}){return et(Eg,t.force),()=>{let{force:s,...r}=t;return Ke({theirProps:r,ourProps:{},slot:{},slots:e,attrs:n,name:"ForcePortalRoot"})}}});function TT(t){let e=js(t);if(!e){if(t===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${t}`)}let n=e.getElementById("headlessui-portal-root");if(n)return n;let s=e.createElement("div");return s.setAttribute("id","headlessui-portal-root"),e.body.appendChild(s)}let _g=Ne({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(t,{slots:e,attrs:n}){let s=Q(null),r=J(()=>js(s)),i=_T(),o=Ae(Tg,null),a=Q(i===!0||o==null?TT(s.value):o.resolveTarget());return St(()=>{i||o!=null&&(a.value=o.resolveTarget())}),Ut(()=>{var l,c;let u=(l=r.value)==null?void 0:l.getElementById("headlessui-portal-root");!u||a.value===u&&a.value.children.length<=0&&((c=a.value.parentElement)==null||c.removeChild(a.value))}),()=>{if(a.value===null)return null;let l={ref:s,"data-headlessui-portal":""};return Be(_y,{to:a.value},Ke({ourProps:l,theirProps:t,slot:{},attrs:n,slots:e,name:"Portal"}))}}}),Tg=Symbol("PortalGroupContext"),CT=Ne({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(t,{attrs:e,slots:n}){let s=Ps({resolveTarget(){return t.target}});return et(Tg,s),()=>{let{target:r,...i}=t;return Ke({theirProps:i,ourProps:{},slot:{},attrs:e,slots:n,name:"PortalGroup"})}}}),Cg=Symbol("StackContext");var ul=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(ul||{});function ST(){return Ae(Cg,()=>{})}function xT({type:t,enabled:e,element:n,onUpdate:s}){let r=ST();function i(...o){s==null||s(...o),r(...o)}Ue(()=>{En(e,(o,a)=>{o?i(0,t,n):a===!0&&i(1,t,n)},{immediate:!0,flush:"sync"})}),Ut(()=>{e.value&&i(1,t,n)}),et(Cg,i)}let Sg=Symbol("DescriptionContext");function IT(){let t=Ae(Sg,null);if(t===null)throw new Error("Missing parent");return t}function xg({slot:t=Q({}),name:e="Description",props:n={}}={}){let s=Q([]);function r(i){return s.value.push(i),()=>{let o=s.value.indexOf(i);o!==-1&&s.value.splice(o,1)}}return et(Sg,{register:r,slot:t,name:e,props:n}),J(()=>s.value.length>0?s.value.join(" "):void 0)}let YC=Ne({name:"Description",props:{as:{type:[Object,String],default:"p"}},setup(t,{attrs:e,slots:n}){let s=IT(),r=`headlessui-description-${Bt()}`;return Ue(()=>Ut(s.register(r))),()=>{let{name:i="Description",slot:o=Q({}),props:a={}}=s,l=t,c={...Object.entries(a).reduce((u,[h,f])=>Object.assign(u,{[h]:fe(f)}),{}),id:r};return Ke({ourProps:c,theirProps:l,slot:o.value,attrs:e,slots:n,name:i})}}});function Bc(){let t=[],e=[],n={enqueue(s){e.push(s)},addEventListener(s,r,i,o){return s.addEventListener(r,i,o),n.add(()=>s.removeEventListener(r,i,o))},requestAnimationFrame(...s){let r=requestAnimationFrame(...s);n.add(()=>cancelAnimationFrame(r))},nextFrame(...s){n.requestAnimationFrame(()=>{n.requestAnimationFrame(...s)})},setTimeout(...s){let r=setTimeout(...s);n.add(()=>clearTimeout(r))},add(s){t.push(s)},dispose(){for(let s of t.splice(0))s()},async workQueue(){for(let s of e.splice(0))await s()}};return n}function AT(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}var DT=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(DT||{});let hl=Symbol("DialogContext");function Gr(t){let e=Ae(hl,null);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Gr),n}return e}let ai="DC8F892D-2EBD-447C-A4C8-A03058436FF4",kT=Ne({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:ai},initialFocus:{type:Object,default:null}},emits:{close:t=>!0},setup(t,{emit:e,attrs:n,slots:s,expose:r}){var i;let o=Q(!1);Ue(()=>{o.value=!0});let a=Q(0),l=Oo(),c=J(()=>t.open===ai&&l!==null?Tt(l.value,{[Yt.Open]:!0,[Yt.Closed]:!1}):t.open),u=Q(new Set),h=Q(null),f=Q(null),p=J(()=>js(h));if(r({el:h,$el:h}),!(t.open!==ai||l!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof c.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${c.value===ai?void 0:t.open}`);let m=J(()=>o.value&&c.value?0:1),w=J(()=>m.value===0),E=J(()=>a.value>1),x=Ae(hl,null)!==null,L=J(()=>E.value?"parent":"leaf");ET(h,J(()=>E.value?w.value:!1)),xT({type:"Dialog",enabled:J(()=>m.value===0),element:h,onUpdate:(z,R,W)=>{if(R==="Dialog")return Tt(z,{[ul.Add](){u.value.add(W),a.value+=1},[ul.Remove](){u.value.delete(W),a.value-=1}})}});let q=xg({name:"DialogDescription",slot:J(()=>({open:c.value}))}),G=`headlessui-dialog-${Bt()}`,oe=Q(null),ce={titleId:oe,panelRef:Q(null),dialogState:m,setTitleId(z){oe.value!==z&&(oe.value=z)},close(){e("close",!1)}};return et(hl,ce),hT(()=>{var z,R,W;return[...Array.from((R=(z=p.value)==null?void 0:z.querySelectorAll("body > *, [data-headlessui-portal]"))!=null?R:[]).filter(K=>!(!(K instanceof HTMLElement)||K.contains(Qe(f))||ce.panelRef.value&&K.contains(ce.panelRef.value))),(W=ce.panelRef.value)!=null?W:h.value]},(z,R)=>{ce.close(),Al(()=>R==null?void 0:R.focus())},J(()=>m.value===0&&!E.value)),wg((i=p.value)==null?void 0:i.defaultView,"keydown",z=>{z.defaultPrevented||z.key===en.Escape&&m.value===0&&(E.value||(z.preventDefault(),z.stopPropagation(),ce.close()))}),St(z=>{var R;if(m.value!==0||x)return;let W=p.value;if(!W)return;let K=Bc();function se(Fe,It,ke){let me=Fe.style.getPropertyValue(It);return Object.assign(Fe.style,{[It]:ke}),K.add(()=>{Object.assign(Fe.style,{[It]:me})})}let Te=W==null?void 0:W.documentElement,ut=((R=W.defaultView)!=null?R:window).innerWidth-Te.clientWidth;if(se(Te,"overflow","hidden"),ut>0){let Fe=Te.clientWidth-Te.offsetWidth,It=ut-Fe;se(Te,"paddingRight",`${It}px`)}if(AT()){let Fe=window.pageYOffset;se(Te,"position","fixed"),se(Te,"marginTop",`-${Fe}px`),se(Te,"width","100%"),K.add(()=>window.scrollTo(0,Fe))}z(K.dispose)}),St(z=>{if(m.value!==0)return;let R=Qe(h);if(!R)return;let W=new IntersectionObserver(K=>{for(let se of K)se.boundingClientRect.x===0&&se.boundingClientRect.y===0&&se.boundingClientRect.width===0&&se.boundingClientRect.height===0&&ce.close()});W.observe(R),z(()=>W.disconnect())}),()=>{let z={...n,ref:h,id:G,role:"dialog","aria-modal":m.value===0?!0:void 0,"aria-labelledby":oe.value,"aria-describedby":q.value},{open:R,initialFocus:W,...K}=t,se={open:m.value===0};return Be(cl,{force:!0},()=>[Be(_g,()=>Be(CT,{target:h.value},()=>Be(cl,{force:!1},()=>Be(Gs,{initialFocus:W,containers:u,features:w.value?Tt(L.value,{parent:Gs.features.RestoreFocus,leaf:Gs.features.All&~Gs.features.FocusLock}):Gs.features.None},()=>Ke({ourProps:z,theirProps:K,slot:se,attrs:n,slots:s,visible:m.value===0,features:ks.RenderStrategy|ks.Static,name:"Dialog"}))))),Be(Vi,{features:Nr.Hidden,ref:f})])}}});Ne({name:"DialogOverlay",props:{as:{type:[Object,String],default:"div"}},setup(t,{attrs:e,slots:n}){let s=Gr("DialogOverlay"),r=`headlessui-dialog-overlay-${Bt()}`;function i(o){o.target===o.currentTarget&&(o.preventDefault(),o.stopPropagation(),s.close())}return()=>Ke({ourProps:{id:r,"aria-hidden":!0,onClick:i},theirProps:t,slot:{open:s.dialogState.value===0},attrs:e,slots:n,name:"DialogOverlay"})}});Ne({name:"DialogBackdrop",props:{as:{type:[Object,String],default:"div"}},inheritAttrs:!1,setup(t,{attrs:e,slots:n,expose:s}){let r=Gr("DialogBackdrop"),i=`headlessui-dialog-backdrop-${Bt()}`,o=Q(null);return s({el:o,$el:o}),Ue(()=>{if(r.panelRef.value===null)throw new Error("A <DialogBackdrop /> component is being used, but a <DialogPanel /> component is missing.")}),()=>{let a=t,l={id:i,ref:o,"aria-hidden":!0};return Be(cl,{force:!0},()=>Be(_g,()=>Ke({ourProps:l,theirProps:{...e,...a},slot:{open:r.dialogState.value===0},attrs:e,slots:n,name:"DialogBackdrop"})))}}});let RT=Ne({name:"DialogPanel",props:{as:{type:[Object,String],default:"div"}},setup(t,{attrs:e,slots:n,expose:s}){let r=Gr("DialogPanel"),i=`headlessui-dialog-panel-${Bt()}`;s({el:r.panelRef,$el:r.panelRef});function o(a){a.stopPropagation()}return()=>{let a={id:i,ref:r.panelRef,onClick:o};return Ke({ourProps:a,theirProps:t,slot:{open:r.dialogState.value===0},attrs:e,slots:n,name:"DialogPanel"})}}}),NT=Ne({name:"DialogTitle",props:{as:{type:[Object,String],default:"h2"}},setup(t,{attrs:e,slots:n}){let s=Gr("DialogTitle"),r=`headlessui-dialog-title-${Bt()}`;return Ue(()=>{s.setTitleId(r),Ut(()=>s.setTitleId(null))}),()=>Ke({ourProps:{id:r},theirProps:t,slot:{open:s.dialogState.value===0},attrs:e,slots:n,name:"DialogTitle"})}});var OT=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(OT||{});let Ig=Symbol("DisclosureContext");function Uc(t){let e=Ae(Ig,null);if(e===null){let n=new Error(`<${t} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Uc),n}return e}let Ag=Symbol("DisclosurePanelContext");function PT(){return Ae(Ag,null)}let la=Ne({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(t,{slots:e,attrs:n}){let s=`headlessui-disclosure-button-${Bt()}`,r=`headlessui-disclosure-panel-${Bt()}`,i=Q(t.defaultOpen?0:1),o=Q(null),a=Q(null),l={buttonId:s,panelId:r,disclosureState:i,panel:o,button:a,toggleDisclosure(){i.value=Tt(i.value,{[0]:1,[1]:0})},closeDisclosure(){i.value!==1&&(i.value=1)},close(c){l.closeDisclosure();let u=(()=>c?c instanceof HTMLElement?c:c.value instanceof HTMLElement?Qe(c):Qe(l.button):Qe(l.button))();u==null||u.focus()}};return et(Ig,l),gg(J(()=>Tt(i.value,{[0]:Yt.Open,[1]:Yt.Closed}))),()=>{let{defaultOpen:c,...u}=t,h={open:i.value===0,close:l.close};return Ke({theirProps:u,ourProps:{},slot:h,slots:e,attrs:n,name:"Disclosure"})}}}),ca=Ne({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1}},setup(t,{attrs:e,slots:n,expose:s}){let r=Uc("DisclosureButton"),i=PT(),o=i===null?!1:i===r.panelId,a=Q(null);s({el:a,$el:a}),o||St(()=>{r.button.value=a.value});let l=mg(J(()=>({as:t.as,type:e.type})),a);function c(){var f;t.disabled||(o?(r.toggleDisclosure(),(f=Qe(r.button))==null||f.focus()):r.toggleDisclosure())}function u(f){var p;if(!t.disabled)if(o)switch(f.key){case en.Space:case en.Enter:f.preventDefault(),f.stopPropagation(),r.toggleDisclosure(),(p=Qe(r.button))==null||p.focus();break}else switch(f.key){case en.Space:case en.Enter:f.preventDefault(),f.stopPropagation(),r.toggleDisclosure();break}}function h(f){switch(f.key){case en.Space:f.preventDefault();break}}return()=>{let f={open:r.disclosureState.value===0},p=o?{ref:a,type:l.value,onClick:c,onKeydown:u}:{id:r.buttonId,ref:a,type:l.value,"aria-expanded":t.disabled?void 0:r.disclosureState.value===0,"aria-controls":Qe(r.panel)?r.panelId:void 0,disabled:t.disabled?!0:void 0,onClick:c,onKeydown:u,onKeyup:h};return Ke({ourProps:p,theirProps:t,slot:f,attrs:e,slots:n,name:"DisclosureButton"})}}}),ua=Ne({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},setup(t,{attrs:e,slots:n,expose:s}){let r=Uc("DisclosurePanel");s({el:r.panel,$el:r.panel}),et(Ag,r.panelId);let i=Oo(),o=J(()=>i!==null?i.value===Yt.Open:r.disclosureState.value===0);return()=>{let a={open:r.disclosureState.value===0,close:r.close},l={id:r.panelId,ref:r.panel};return Ke({ourProps:l,theirProps:t,slot:a,attrs:e,slots:n,features:ks.RenderStrategy|ks.Static,visible:o.value,name:"DisclosurePanel"})}}}),Dg=Symbol("LabelContext");function kg(){let t=Ae(Dg,null);if(t===null){let e=new Error("You used a <Label /> component, but it is not inside a parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,kg),e}return t}function LT({slot:t={},name:e="Label",props:n={}}={}){let s=Q([]);function r(i){return s.value.push(i),()=>{let o=s.value.indexOf(i);o!==-1&&s.value.splice(o,1)}}return et(Dg,{register:r,slot:t,name:e,props:n}),J(()=>s.value.length>0?s.value.join(" "):void 0)}let XC=Ne({name:"Label",props:{as:{type:[Object,String],default:"label"},passive:{type:[Boolean],default:!1}},setup(t,{slots:e,attrs:n}){let s=kg(),r=`headlessui-label-${Bt()}`;return Ue(()=>Ut(s.register(r))),()=>{let{name:i="Label",slot:o={},props:a={}}=s,{passive:l,...c}=t,u={...Object.entries(a).reduce((h,[f,p])=>Object.assign(h,{[f]:fe(p)}),{}),id:r};return l&&(delete u.onClick,delete c.onClick),Ke({ourProps:u,theirProps:c,slot:o,attrs:n,slots:e,name:i})}}}),Rg=Symbol("GroupContext");Ne({name:"SwitchGroup",props:{as:{type:[Object,String],default:"template"}},setup(t,{slots:e,attrs:n}){let s=Q(null),r=LT({name:"SwitchLabel",props:{onClick(){!s.value||(s.value.click(),s.value.focus({preventScroll:!0}))}}}),i=xg({name:"SwitchDescription"});return et(Rg,{switchRef:s,labelledby:r,describedby:i}),()=>Ke({theirProps:t,ourProps:{},slot:{},slots:e,attrs:n,name:"SwitchGroup"})}});let MT=Ne({name:"Switch",emits:{"update:modelValue":t=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,default:!1},name:{type:String,optional:!0},value:{type:String,optional:!0}},inheritAttrs:!1,setup(t,{emit:e,attrs:n,slots:s,expose:r}){let i=Ae(Rg,null),o=`headlessui-switch-${Bt()}`,[a,l]=dT(J(()=>t.modelValue),E=>e("update:modelValue",E),J(()=>t.defaultChecked));function c(){l(!a.value)}let u=Q(null),h=i===null?u:i.switchRef,f=mg(J(()=>({as:t.as,type:n.type})),h);r({el:h,$el:h});function p(E){E.preventDefault(),c()}function m(E){E.key===en.Space?(E.preventDefault(),c()):E.key===en.Enter&&fT(E.currentTarget)}function w(E){E.preventDefault()}return()=>{let{name:E,value:x,...L}=t,q={checked:a.value},G={id:o,ref:h,role:"switch",type:f.value,tabIndex:0,"aria-checked":a.value,"aria-labelledby":i==null?void 0:i.labelledby.value,"aria-describedby":i==null?void 0:i.describedby.value,onClick:p,onKeyup:m,onKeypress:w};return Be($e,[E!=null&&a.value!=null?Be(Vi,eT({features:Nr.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:a.value,name:E,value:x})):null,Ke({ourProps:G,theirProps:{...n,...$c(L,["modelValue","defaultChecked"])},slot:q,attrs:n,slots:s,name:"Switch"})])}}});function FT(t){let e={called:!1};return(...n)=>{if(!e.called)return e.called=!0,t(...n)}}function ha(t,...e){t&&e.length>0&&t.classList.add(...e)}function li(t,...e){t&&e.length>0&&t.classList.remove(...e)}var fl=(t=>(t.Finished="finished",t.Cancelled="cancelled",t))(fl||{});function $T(t,e){let n=Bc();if(!t)return n.dispose;let{transitionDuration:s,transitionDelay:r}=getComputedStyle(t),[i,o]=[s,r].map(a=>{let[l=0]=a.split(",").filter(Boolean).map(c=>c.includes("ms")?parseFloat(c):parseFloat(c)*1e3).sort((c,u)=>u-c);return l});return i!==0?n.setTimeout(()=>e("finished"),i+o):e("finished"),n.add(()=>e("cancelled")),n.dispose}function Hh(t,e,n,s,r,i){let o=Bc(),a=i!==void 0?FT(i):()=>{};return li(t,...r),ha(t,...e,...n),o.nextFrame(()=>{li(t,...n),ha(t,...s),o.add($T(t,l=>(li(t,...s,...e),ha(t,...r),a(l))))}),o.add(()=>li(t,...e,...n,...s,...r)),o.add(()=>a("cancelled")),o.dispose}function Pn(t=""){return t.split(" ").filter(e=>e.trim().length>1)}let Vc=Symbol("TransitionContext");var BT=(t=>(t.Visible="visible",t.Hidden="hidden",t))(BT||{});function UT(){return Ae(Vc,null)!==null}function VT(){let t=Ae(Vc,null);if(t===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return t}function jT(){let t=Ae(jc,null);if(t===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return t}let jc=Symbol("NestingContext");function Lo(t){return"children"in t?Lo(t.children):t.value.filter(({state:e})=>e==="visible").length>0}function Ng(t){let e=Q([]),n=Q(!1);Ue(()=>n.value=!0),Ut(()=>n.value=!1);function s(i,o=vn.Hidden){let a=e.value.findIndex(({id:l})=>l===i);a!==-1&&(Tt(o,{[vn.Unmount](){e.value.splice(a,1)},[vn.Hidden](){e.value[a].state="hidden"}}),!Lo(e)&&n.value&&(t==null||t()))}function r(i){let o=e.value.find(({id:a})=>a===i);return o?o.state!=="visible"&&(o.state="visible"):e.value.push({id:i,state:"visible"}),()=>s(i,vn.Unmount)}return{children:e,register:r,unregister:s}}let Og=ks.RenderStrategy,dl=Ne({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(t,{emit:e,attrs:n,slots:s,expose:r}){if(!UT()&&rT())return()=>Be(Pg,{...t,onBeforeEnter:()=>e("beforeEnter"),onAfterEnter:()=>e("afterEnter"),onBeforeLeave:()=>e("beforeLeave"),onAfterLeave:()=>e("afterLeave")},s);let i=Q(null),o=Q("visible"),a=J(()=>t.unmount?vn.Unmount:vn.Hidden);r({el:i,$el:i});let{show:l,appear:c}=VT(),{register:u,unregister:h}=jT(),f={value:!0},p=Bt(),m={value:!1},w=Ng(()=>{m.value||(o.value="hidden",h(p),e("afterLeave"))});Ue(()=>{let R=u(p);Ut(R)}),St(()=>{if(a.value===vn.Hidden&&!!p){if(l&&o.value!=="visible"){o.value="visible";return}Tt(o.value,{hidden:()=>h(p),visible:()=>u(p)})}});let E=Pn(t.enter),x=Pn(t.enterFrom),L=Pn(t.enterTo),q=Pn(t.entered),G=Pn(t.leave),oe=Pn(t.leaveFrom),ce=Pn(t.leaveTo);Ue(()=>{St(()=>{if(o.value==="visible"){let R=Qe(i);if(R instanceof Comment&&R.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function z(R){let W=f.value&&!c.value,K=Qe(i);!K||!(K instanceof HTMLElement)||W||(m.value=!0,l.value&&e("beforeEnter"),l.value||e("beforeLeave"),R(l.value?Hh(K,E,x,L,q,se=>{m.value=!1,se===fl.Finished&&e("afterEnter")}):Hh(K,G,oe,ce,q,se=>{m.value=!1,se===fl.Finished&&(Lo(w)||(o.value="hidden",h(p),e("afterLeave")))})))}return Ue(()=>{En([l],(R,W,K)=>{z(K),f.value=!1},{immediate:!0})}),et(jc,w),gg(J(()=>Tt(o.value,{visible:Yt.Open,hidden:Yt.Closed}))),()=>{let{appear:R,show:W,enter:K,enterFrom:se,enterTo:Te,entered:ut,leave:Fe,leaveFrom:It,leaveTo:ke,...me}=t;return Ke({theirProps:me,ourProps:{ref:i},slot:{},slots:s,attrs:n,features:Og,visible:o.value==="visible",name:"TransitionChild"})}}}),HT=dl,Pg=Ne({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(t,{emit:e,attrs:n,slots:s}){let r=Oo(),i=J(()=>t.show===null&&r!==null?Tt(r.value,{[Yt.Open]:!0,[Yt.Closed]:!1}):t.show);St(()=>{if(![!0,!1].includes(i.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let o=Q(i.value?"visible":"hidden"),a=Ng(()=>{o.value="hidden"}),l=Q(!0),c={show:i,appear:J(()=>t.appear||!l.value)};return Ue(()=>{St(()=>{l.value=!1,i.value?o.value="visible":Lo(a)||(o.value="hidden")})}),et(jc,a),et(Vc,c),()=>{let u=$c(t,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),h={unmount:t.unmount};return Ke({ourProps:{...h,as:"template"},theirProps:{},slot:{},slots:{...s,default:()=>[Be(HT,{onBeforeEnter:()=>e("beforeEnter"),onAfterEnter:()=>e("afterEnter"),onBeforeLeave:()=>e("beforeLeave"),onAfterLeave:()=>e("afterLeave"),...n,...h,...u},s.default)]},attrs:{},features:Og,visible:o.value==="visible",name:"Transition"})}}});const qT=P("div",{class:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75"},null,-1),KT={class:"fixed inset-0 z-10 overflow-y-auto"},zT={class:"flex justify-center min-h-full p-4 text-center items-center sm:p-0"},GT={class:"mt-3 text-center sm:mt-5"},WT=P("div",{class:"mt-2"},[P("p",{class:"text-sm text-gray-500"}," Please check or uncheck depending on if you will be attending or not. ")],-1),QT={role:"list",class:"space-y-3"},YT=P("svg",{class:"w-3 h-3 text-gray-400",fill:"none",viewBox:"0 0 12 12"},[P("path",{d:"M4 8l2-2m0 0l2-2M6 6L4 4m2 2l2 2",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),XT=[YT],JT=P("svg",{class:"w-3 h-3 text-black",fill:"currentColor",viewBox:"0 0 12 12"},[P("path",{d:"M3.707 5.293a1 1 0 00-1.414 1.414l1.414-1.414zM5 8l-.707.707a1 1 0 001.414 0L5 8zm4.707-3.293a1 1 0 00-1.414-1.414l1.414 1.414zm-7.414 2l2 2 1.414-1.414-2-2-1.414 1.414zm3.414 2l4-4-1.414-1.414-4 4 1.414 1.414z"})],-1),ZT=[JT],eC={__name:"Participants",props:{participants:{type:Array,required:!0},docId:{type:String,required:!0},state:{type:Boolean,required:!0}},emits:["closeModal"],setup(t,{emit:e}){const n=t;let s=Q(n.participants);const r=sg(Fc,"invites",n.docId);async function i(){let a=new Date;a.setHours(0,0,0,0,0);let l=new Date(2023,0,10);if(a<l){let c=[];Object.values(s.value).forEach(u=>{c.push({person:u.person,coming:u.coming})}),await G_(r,{participants:c,updated:Y_()}),e("closeModal")}else alert("It's past the RSVP time. Can't RSVP anymore"),e("closeModal")}function o(){e("closeModal")}return(a,l)=>(Ze(),Xi(fe(Pg),{as:"template",show:t.state},{default:ze(()=>[pe(fe(kT),{as:"div",class:"relative z-10",onClose:o},{default:ze(()=>[pe(fe(dl),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:ze(()=>[qT]),_:1}),P("div",KT,[P("div",zT,[pe(fe(dl),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:ze(()=>[pe(fe(RT),{class:"relative px-4 pt-5 pb-4 overflow-hidden text-left transition-all transform bg-white rounded-lg shadow-xl sm:my-8 sm:w-full sm:max-w-sm sm:p-6"},{default:ze(()=>[P("div",null,[P("div",GT,[pe(fe(NT),{as:"h3",class:"text-lg font-medium leading-6 text-gray-900"},{default:ze(()=>[Ll("RSVP")]),_:1}),WT,P("ul",QT,[(Ze(!0),bt($e,null,bi(fe(s),c=>(Ze(),bt("li",{key:c.person,class:"flex items-center justify-between px-4 py-4 overflow-hidden bg-white shadow sm:rounded-md sm:px-6"},[P("div",null,Zt(c.person),1),pe(fe(MT),{modelValue:c.coming,"onUpdate:modelValue":u=>c.coming=u,class:zt([c.coming?"bg-black":"bg-gray-200","relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-black focus:ring-offset-2"])},{default:ze(()=>[P("span",{class:zt([c.coming?"translate-x-5":"translate-x-0","pointer-events-none relative inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out"])},[P("span",{class:zt([c.coming?"opacity-0 ease-out duration-100":"opacity-100 ease-in duration-200","absolute inset-0 flex h-full w-full items-center justify-center transition-opacity"]),"aria-hidden":"true"},XT,2),P("span",{class:zt([c.coming?"opacity-100 ease-in duration-200":"opacity-0 ease-out duration-100","absolute inset-0 flex h-full w-full items-center justify-center transition-opacity"]),"aria-hidden":"true"},ZT,2)],2)]),_:2},1032,["modelValue","onUpdate:modelValue","class"])]))),128))])])]),P("div",{class:"mt-5 sm:mt-6"},[P("button",{type:"button",class:"inline-flex justify-center w-full px-4 py-2 text-base font-medium text-white bg-black border border-transparent rounded-md shadow-sm hover:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-black focus:ring-offset-2 sm:text-sm",onClick:i}," Submit ")])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}},tC={class:"min-h-screen w-full flex items-center justify-center"},nC=P("div",{role:"status"},[P("svg",{"aria-hidden":"true",class:"mr-2 w-16 h-16 text-gray-200 animate-spin fill-black",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[P("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),P("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]),P("span",{class:"sr-only"},"Loading...")],-1),sC=[nC],rC={class:"grid grid-cols-1 md:grid-cols-2"},iC={class:"min-h-screen"},oC=["data-zs-src"],aC=P("div",{id:"content"},[P("div",{class:"flex flex-col justify-around mx-auto align-center"},[P("h1",{class:"mb-4 text-6xl font-medium leading-none text-black md:mb-12"}," 18.02.23 ")])],-1),lC=P("p",{class:"absolute w-full text-center bottom-20 md:hidden"}," scroll down to rsvp ",-1),cC=[aC,lC],uC={class:"flex flex-col justify-center min-h-screen px-10 text-center align-center lg:px-24 invite-box"},hC=Ml('<h2 class="mb-4 text-xl text-black uppercase md:text-2xl">You&#39;re invited to</h2><h1 class="mb-4 text-5xl font-medium leading-none text-black xl:text-8xl lg:text-7xl md:text-6xl md:mb-12"><span class="inline-block">Mike</span><small class="inline-block px-6 text-2xl xl:text-5xl lg:text-4xl md:text-3xl">&amp;</small><span class="inline-block">Allie&#39;s</span><br><span class="inline-block">Wedding</span></h1><p class="mt-10 text-base not-italic font-light text-black md:text-2xl">When: <strong class="font-bold">18 February 2023, 14:00 for 15:00</strong></p><p class="mt-10 text-base not-italic font-light text-black md:text-2xl">Where: <a href="https://www.google.com/maps/search/?api=1&amp;query=bell+and+blossom" target="_blank" class="underline"><strong class="font-bold">Bell &amp; Blossom Wedding Venue, Pretoria</strong></a></p><span class="mt-12 text-center text-black">RSVP before 10 January 2023</span>',5),fC={__name:"Invite",setup(t){let e=['"/images/1.jpg"','"/images/2.jpg"','"/images/3.jpeg"','"/images/4.jpg"'],n=Q({});const s=Q(!1),r=u0(),i=c0(),o=Q(!1);Ue(async()=>{o.value=!0;const c=sg(Fc,"invites",r.params.id),u=await K_(c);u.exists()?(n.value=u.data(),n.value.id=u.id,o.value=!1):(n.value={},i.push({name:"NotFound"}))});function a(){s.value=!1}function l(){s.value=!0}return(c,u)=>{const h=ey("router-link");return Ze(),bt($e,null,[ba(P("div",tC,sC,512),[[Da,o.value]]),ba(P("div",rC,[P("div",iC,[P("div",{id:"slideshow",class:"relative w-full h-screen overflow-hidden","data-zs-src":"["+fe(e)+"]","data-zs-overlay":"false","data-zs-bullets":"false"},cC,8,oC)]),P("div",uC,[hC,P("button",{onClick:l,class:"items-center inline-block w-full max-w-sm px-6 py-3 mx-auto mt-16 text-base font-medium text-center text-white bg-black border border-transparent shadow-sm hover:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-back focus:ring-offset-2"}," RSVP "),pe(h,{to:"/more",class:"mt-10 text-center text-black underline"},{default:ze(()=>[Ll("More info")]),_:1}),Object.keys(fe(n)).length!==0?(Ze(),Xi(eC,{key:0,onCloseModal:a,state:s.value,participants:fe(n).participants,docId:fe(n).id},null,8,["state","participants","docId"])):xy("",!0)])],512),[[Da,!o.value]])],64)}}},dC=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},pC={},gC={class:"flex items-center min-h-screen p-16"},mC=Ml('<div class="container flex flex-col items-center justify-center px-5 mx-auto my-8"><div class="max-w-md text-center"><h2 class="mb-8 font-extrabold text-9xl dark:text-gray-600"><span class="sr-only">Error</span>404 </h2><p class="text-2xl font-semibold md:text-3xl">Sorry, we couldn&#39;t find this page.</p><p class="mt-4 mb-8 dark:text-gray-400">But dont worry, you can find plenty of other things on our homepage.</p><a rel="noopener noreferrer" href="/" class="mt-10 px-8 py-3 font-medium text-white bg-black border border-transparent shadow-sm hover:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-back focus:ring-offset-2">Back to homepage</a></div></div>',1),yC=[mC];function vC(t,e){return Ze(),bt("section",gC,yC)}const wC=dC(pC,[["render",vC]]);function fa(t,e){return Ze(),bt("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})])}const bC={class:"bg-gray-50 min-h-screen"},EC={class:"mx-auto max-w-7xl py-12 px-4 sm:py-16 sm:px-6 lg:px-8"},_C={class:"mx-auto max-w-3xl divide-y-2 divide-gray-200"},TC=P("h2",{class:"text-center text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl"},"More Wedding Related Info",-1),CC={class:"mt-10 space-y-6 divide-y divide-gray-200"},SC={class:"text-lg"},xC=P("span",{class:"font-medium text-gray-900"},"Places to stay in the area",-1),IC={class:"ml-6 flex h-7 items-center"},AC={role:"list"},DC=["href"],kC={class:"flex justify-between"},RC={class:"min-w-0 flex-1"},NC=P("span",{class:"absolute inset-0","aria-hidden":"true"},null,-1),OC={class:"text-md font-medium text-gray-900"},PC={class:"flex-shrink-0 whitespace-nowrap text-sm text-gray-500"},LC={class:"mt-4"},MC={class:"text-sm text-gray-600 line-clamp-2"},FC={class:"text-lg"},$C=P("span",{class:"font-medium text-gray-900"},"What should I wear to the wedding?",-1),BC={class:"ml-6 flex h-7 items-center"},UC=P("p",null,"Please wear formal wear.",-1),VC={class:"text-lg"},jC=P("span",{class:"font-medium text-gray-900"},"Wedding Gifts?",-1),HC={class:"ml-6 flex h-7 items-center"},qC=P("p",null,"Should you wish to contribute, gifts and cash are welcome.",-1),KC={__name:"More",setup(t){const e=[{id:1,name:"Klyne Jiweel Guest House",link:"https://goo.gl/maps/vinrgdTSZBzCpNwCA",distance:"600m"},{id:2,name:"Batter Boys",link:"https://goo.gl/maps/hXpEt6VPobDBg7cw9",distance:"1.1km"},{id:3,name:"Prinshof Manor",link:"https://g.page/prinshofmanorgh?share",distance:"3.8km"},{id:4,name:"Delectus Manor Guest Lodge",link:"https://goo.gl/maps/yiMqgxP8V11ns6wVA",distance:"1.6km"},{id:5,name:"Sheraton Pretoria Hotel",link:"https://goo.gl/maps/nmqgpDQGu8Fz7WccA",distance:"16km"},{id:6,name:"Villa San Giovanni Accommodation",link:"https://goo.gl/maps/KTvhru4Ukndnkgmr6",distance:"6.5km"}];return(n,s)=>(Ze(),bt("div",bC,[P("div",EC,[P("div",_C,[TC,P("dl",CC,[pe(fe(la),{as:"div",class:"pt-6"},{default:ze(({open:r})=>[P("dt",SC,[pe(fe(ca),{class:"flex w-full items-start justify-between text-left text-gray-400"},{default:ze(()=>[xC,P("span",IC,[pe(fe(fa),{class:zt([r?"-rotate-180":"rotate-0","h-6 w-6 transform"]),"aria-hidden":"true"},null,8,["class"])])]),_:2},1024)]),pe(fe(ua),{as:"div",class:"mt-10"},{default:ze(()=>[P("ul",AC,[(Ze(),bt($e,null,bi(e,i=>P("li",{key:i.id,class:"relative py-5 px-4 border-b border-solid border-gray-400 last:border-b-0"},[P("a",{href:i.link,target:"_blank"},[P("div",kC,[P("div",RC,[NC,P("p",OC,Zt(i.name),1)]),P("span",PC,Zt(i.distance)+" from venue",1)]),P("div",LC,[P("p",MC,Zt(i.link),1)])],8,DC)])),64))])]),_:1})]),_:1}),pe(fe(la),{as:"div",class:"pt-6"},{default:ze(({open:r})=>[P("dt",FC,[pe(fe(ca),{class:"flex w-full items-start justify-between text-left text-gray-400"},{default:ze(()=>[$C,P("span",BC,[pe(fe(fa),{class:zt([r?"-rotate-180":"rotate-0","h-6 w-6 transform"]),"aria-hidden":"true"},null,8,["class"])])]),_:2},1024)]),pe(fe(ua),{as:"div",class:"mt-10"},{default:ze(()=>[UC]),_:1})]),_:1}),pe(fe(la),{as:"div",class:"pt-6"},{default:ze(({open:r})=>[P("dt",VC,[pe(fe(ca),{class:"flex w-full items-start justify-between text-left text-gray-400"},{default:ze(()=>[jC,P("span",HC,[pe(fe(fa),{class:zt([r?"-rotate-180":"rotate-0","h-6 w-6 transform"]),"aria-hidden":"true"},null,8,["class"])])]),_:2},1024)]),pe(fe(ua),{as:"div",class:"mt-10"},{default:ze(()=>[qC]),_:1})]),_:1})])])])]))}},zC={class:"p-2 m-2"},GC={class:"italic mt-2 text-gray-600"},WC={__name:"Coming",setup(t){const e=Q([]),n=Q(!1),s=Q(0),r=Q(0);return Ue(async()=>{n.value=!0,(await z_(D_(Fc,"invites"))).forEach(o=>{let a={id:o.id,...o.data()};e.value.push(a)}),e.value.forEach(o=>{o.participants.forEach(a=>{a.coming&&(s.value+=1),r.value+=1})}),n.value=!1}),(i,o)=>(Ze(),bt($e,null,[P("div",zC,[P("p",null,"Total: "+Zt(r.value),1),P("p",null,"Coming: "+Zt(s.value),1)]),ba(P("div",null,[(Ze(!0),bt($e,null,bi(e.value,a=>(Ze(),bt("div",{key:a.id,class:"p-2 m-2"},[P("ul",null,[(Ze(!0),bt($e,null,bi(a.participants,l=>(Ze(),bt("li",{key:l.person},Zt(l.person)+" - "+Zt(l.coming?"Coming":"Not Coming"),1))),128))]),P("p",GC,Zt(a.updated.toDate()),1)]))),128))],512),[[Da,!n.value]])],64))}},QC=a0({history:Cv("/"),routes:[{path:"/",name:"home",component:g0},{path:"/:pathMatch(.*)*",name:"NotFound",component:wC},{path:"/invite/:id",name:"invite",component:fC},{path:"/more",name:"more",component:KC},{path:"/whoiscoming",name:"coming",component:WC}]});const Lg=iv(h0);Lg.use(QC);Lg.mount("#app");
